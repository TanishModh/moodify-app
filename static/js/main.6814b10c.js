/*! For license information please see main.6814b10c.js.LICENSE.txt */
(()=>{var e={87:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home")},292:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4692);function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o={};return t.forEach((t=>{o[t]=(0,r.Ay)(e,t,n)})),o}},315:(e,t,n)=>{"use strict";var r=n(4643),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var o=f(n);o&&o!==h&&e(t,o,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),v=0;v<a.length;++v){var g=a[v];if(!i[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=p(n,g);try{u(t,g,y)}catch(b){}}}}return t}},326:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},344:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2483);const o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},457:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 4h5v8l-2.5-1.5L6 12z"}),"Book")},550:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var o=s(n(2483)),i=s(n(1097)),a=n(976);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var b=function(e){m(n,e);var t=g(n);function n(){return p(this,n),t.apply(this,arguments)}return h(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,i.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?o.default.cloneElement(this.props.prevArrow,c(c({},n),r)):o.default.createElement("button",l({key:"0",type:"button"},n)," ","Previous")}}]),n}(o.default.PureComponent);t.PrevArrow=b;var x=function(e){m(n,e);var t=g(n);function n(){return p(this,n),t.apply(this,arguments)}return h(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,a.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,i.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?o.default.cloneElement(this.props.nextArrow,c(c({},n),r)):o.default.createElement("button",l({key:"1",type:"button"},n)," ","Next")}}]),n}(o.default.PureComponent);t.NextArrow=x},732:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2m6 9.8a.9.9 0 0 1-.1.5l-2.1 4.9a1.34 1.34 0 0 1-1.3.8H9a2 2 0 0 1-2-2v-5a1.28 1.28 0 0 1 .4-1L12 5l.69.69a1.08 1.08 0 0 1 .3.7v.2L12.41 10H17a1 1 0 0 1 1 1z"}),"Recommend")},745:()=>{},757:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(344).A},773:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(2483);var r=n(4122),o=n(6723);function i(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:i})}},835:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=p(n(2483)),o=p(n(2446)),i=p(n(5022)),a=p(n(1097)),s=n(976),l=n(7089),u=n(7584),c=n(550),d=p(n(2428));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(S,e);var t,n,p,v=x(S);function S(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),A(w(t=v.call(this,e)),"listRefHandler",(function(e){return t.list=e})),A(w(t),"trackRefHandler",(function(e){return t.track=e})),A(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),A(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=g({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new d.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),A(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),A(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var o=g(g({listRef:t.list,trackRef:t.track},t.props),t.state),i=t.didPropsChange(e);i&&t.updateState(o,i,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),A(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,i.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),A(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=g(g({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),A(w(t),"updateState",(function(e,n,o){var i=(0,s.initializedState)(e);e=g(g(g({},e),i),{},{slideIndex:i.currentSlide});var a=(0,s.getTrackLeft)(e);e=g(g({},e),{},{left:a});var l=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(i.trackStyle=l),t.setState(i,o)})),A(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,o=[],i=(0,s.getPreClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length})),a=(0,s.getPostClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){o.push(t.props.style.width),e+=t.props.style.width}));for(var l=0;l<i;l++)n+=o[o.length-1-l],e+=o[o.length-1-l];for(var u=0;u<a;u++)e+=o[u];for(var c=0;c<t.state.currentSlide;c++)n+=o[c];var d={width:e+"px",left:-n+"px"};if(t.props.centerMode){var p="".concat(o[t.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(p,") / 2 ) ")}return{trackStyle:d}}var f=r.default.Children.count(t.props.children),h=g(g(g({},t.props),t.state),{},{slideCount:f}),m=(0,s.getPreClones)(h)+(0,s.getPostClones)(h)+f,v=100/t.props.slidesToShow*m,y=100/m,b=-y*((0,s.getPreClones)(h)+t.state.currentSlide)*v/100;return t.props.centerMode&&(b+=(100-y*v/100)/2),{slideWidth:y+"%",trackStyle:{width:v+"%",left:b+"%"}}})),A(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var o=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var i=e.onclick;e.onclick=function(){i(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=o,e.onerror=function(){o(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),A(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=g(g({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var o=t.state.currentSlide-1;o>=-(0,s.getPreClones)(n);o--)if(t.state.lazyLoadedList.indexOf(o)<0){e.push(o);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),A(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,o=r.asNavFor,i=r.beforeChange,a=r.onLazyLoad,l=r.speed,u=r.afterChange,c=t.state.currentSlide,d=(0,s.slideHandler)(g(g(g({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),p=d.state,f=d.nextState;if(p){i&&i(c,p.currentSlide);var h=p.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));a&&h.length>0&&a(h),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),u&&u(c),delete t.animationEndCallback),t.setState(p,(function(){o&&t.asNavForIndex!==e&&(t.asNavForIndex=e,o.innerSlider.slideHandler(e)),f&&(t.animationEndCallback=setTimeout((function(){var e=f.animating,n=m(f,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),u&&u(p.currentSlide),delete t.animationEndCallback}))}),l))}))}})),A(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=g(g({},t.props),t.state),o=(0,s.changeSlide)(r,e);if((0===o||o)&&(!0===n?t.slideHandler(o,n):t.slideHandler(o),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var i=t.list.querySelectorAll(".slick-current");i[0]&&i[0].focus()}})),A(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),A(w(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),A(w(t),"selectHandler",(function(e){t.changeSlide(e)})),A(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),A(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),A(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),A(w(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),A(w(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),A(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),A(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),A(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),A(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),A(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(g(g({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),A(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),A(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),A(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),A(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),A(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),A(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),A(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),A(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),A(w(t),"render",(function(){var e,n,o,i=(0,a.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),d=g(g({},t.props),t.state),p=(0,s.extractObject)(d,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),f=t.props.pauseOnHover;if(p=g(g({},p),{},{onMouseEnter:f?t.onTrackOver:null,onMouseLeave:f?t.onTrackLeave:null,onMouseOver:f?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var m=(0,s.extractObject)(d,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),v=t.props.pauseOnDotsHover;m=g(g({},m),{},{clickHandler:t.changeSlide,onMouseEnter:v?t.onDotsLeave:null,onMouseOver:v?t.onDotsOver:null,onMouseLeave:v?t.onDotsLeave:null}),e=r.default.createElement(u.Dots,m)}var y=(0,s.extractObject)(d,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(c.PrevArrow,y),o=r.default.createElement(c.NextArrow,y));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var x=null;!1===t.props.vertical?!0===t.props.centerMode&&(x={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(x={padding:t.props.centerPadding+" 0px"});var w=g(g({},b),x),S=t.props.touchMove,A={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:S?t.swipeStart:null,onMouseMove:t.state.dragging&&S?t.swipeMove:null,onMouseUp:S?t.swipeEnd:null,onMouseLeave:t.state.dragging&&S?t.swipeEnd:null,onTouchStart:S?t.swipeStart:null,onTouchMove:t.state.dragging&&S?t.swipeMove:null,onTouchEnd:S?t.touchEnd:null,onTouchCancel:t.state.dragging&&S?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},k={className:i,dir:"ltr",style:t.props.style};return t.props.unslick&&(A={className:"slick-list"},k={className:i}),r.default.createElement("div",k,t.props.unslick?"":n,r.default.createElement("div",h({ref:t.listRefHandler},A),r.default.createElement(l.Track,h({ref:t.trackRefHandler},p),t.props.children)),t.props.unslick?"":o,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=g(g({},o.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=g(g({},t.state),n),t}return t=S,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,o=Object.keys(this.props);n<o.length;n++){var i=o[n];if(!e.hasOwnProperty(i)){t=!0;break}if("object"!==f(e[i])&&"function"!==typeof e[i]&&e[i]!==this.props[i]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&y(t.prototype,n),p&&y(t,p),Object.defineProperty(t,"prototype",{writable:!1}),S}(r.default.Component);t.InnerSlider=k},888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(2144);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t=`${e}`.match(o);return t&&t[1]||""}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function s(e,t,n){const r=a(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return a(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.vM:return s(e,e.render,"ForwardRef");case r.lD:return s(e,e.type,"memo");default:return}}}},976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=l,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,o=(r=n(2483))&&r.__esModule?r:{default:r};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return Math.max(t,Math.min(e,n))}var u=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=u;var c=function(e){for(var t=[],n=d(e),r=p(e),o=n;o<r;o++)e.lazyLoadedList.indexOf(o)<0&&t.push(o);return t};t.getOnDemandLazySlides=c;t.getRequiredLazySlides=function(e){for(var t=[],n=d(e),r=p(e),o=n;o<r;o++)t.push(o);return t};var d=function(e){return e.currentSlide-f(e)};t.lazyStartIndex=d;var p=function(e){return e.currentSlide+h(e)};t.lazyEndIndex=p;var f=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=f;var h=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=h;var m=function(e){return e&&e.offsetWidth||0};t.getWidth=m;var v=function(e){return e&&e.offsetHeight||0};t.getHeight=v;var g=function(e){var t,n,r,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(o=Math.round(180*r/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":!0===i?o>=35&&o<=135?"up":"down":"vertical"};t.getSwipeDirection=g;var y=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=y;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=o.default.Children.count(e.children),r=e.listRef,i=Math.ceil(m(r)),s=e.trackRef&&e.trackRef.node,l=Math.ceil(m(s));if(e.vertical)t=i;else{var u=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(u*=i/100),t=Math.ceil((i-u)/e.slidesToShow)}var d=r&&v(r.querySelector('[data-index="0"]')),p=d*e.slidesToShow,f=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(f=n-1-e.initialSlide);var h=e.lazyLoadedList||[],g=c(a(a({},e),{},{currentSlide:f,lazyLoadedList:h})),y={slideCount:n,slideWidth:t,listWidth:i,trackWidth:l,currentSlide:f,slideHeight:d,listHeight:p,lazyLoadedList:h=h.concat(g)};return null===e.autoplaying&&e.autoplay&&(y.autoplaying="playing"),y};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,o=e.infinite,i=e.index,s=e.slideCount,u=e.lazyLoad,d=e.currentSlide,p=e.centerMode,f=e.slidesToScroll,h=e.slidesToShow,m=e.useCSS,v=e.lazyLoadedList;if(t&&n)return{};var g,b,x,w=i,S={},E={},_=o?i:l(i,0,s-1);if(r){if(!o&&(i<0||i>=s))return{};i<0?w=i+s:i>=s&&(w=i-s),u&&v.indexOf(w)<0&&(v=v.concat(w)),S={animating:!0,currentSlide:w,lazyLoadedList:v,targetSlide:w},E={animating:!1,targetSlide:w}}else g=w,w<0?(g=w+s,o?s%f!==0&&(g=s-s%f):g=0):!y(e)&&w>d?w=g=d:p&&w>=s?(w=o?s:s-1,g=o?0:s-1):w>=s&&(g=w-s,o?s%f!==0&&(g=0):g=s-h),!o&&w+h>=s&&(g=s-h),b=C(a(a({},e),{},{slideIndex:w})),x=C(a(a({},e),{},{slideIndex:g})),o||(b===x&&(w=g),b=x),u&&(v=v.concat(c(a(a({},e),{},{currentSlide:w})))),m?(S={animating:!0,currentSlide:g,trackStyle:k(a(a({},e),{},{left:b})),lazyLoadedList:v,targetSlide:_},E={animating:!1,currentSlide:g,trackStyle:A(a(a({},e),{},{left:x})),swipeLeft:null,targetSlide:_}):S={currentSlide:g,trackStyle:A(a(a({},e),{},{left:x})),lazyLoadedList:v,targetSlide:_};return{state:S,nextState:E}};t.changeSlide=function(e,t){var n,r,o,i,s=e.slidesToScroll,l=e.slidesToShow,u=e.slideCount,c=e.currentSlide,d=e.targetSlide,p=e.lazyLoad,f=e.infinite;if(n=u%s!==0?0:(u-c)%s,"previous"===t.message)i=c-(o=0===n?s:l-n),p&&!f&&(i=-1===(r=c-o)?u-1:r),f||(i=d-s);else if("next"===t.message)i=c+(o=0===n?s:n),p&&!f&&(i=(c+s)%u+n),f||(i=d+s);else if("dots"===t.message)i=t.index*t.slidesToScroll;else if("children"===t.message){if(i=t.index,f){var h=T(a(a({},e),{},{targetSlide:i}));i>t.currentSlide&&"left"===h?i-=u:i<t.currentSlide&&"right"===h&&(i+=u)}}else"index"===t.message&&(i=Number(t.index));return i};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&u(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,o=t.vertical,i=t.swipeToSlide,s=t.verticalSwiping,l=t.rtl,c=t.currentSlide,d=t.edgeFriction,p=t.edgeDragged,f=t.onEdge,h=t.swiped,m=t.swiping,v=t.slideCount,b=t.slidesToScroll,x=t.infinite,w=t.touchObject,S=t.swipeEvent,k=t.listHeight,E=t.listWidth;if(!n){if(r)return u(e);o&&i&&s&&u(e);var _,R={},T=C(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var I=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!s&&!m&&I>10)return{scrolling:!0};s&&(w.swipeLength=I);var P=(l?-1:1)*(w.curX>w.startX?1:-1);s&&(P=w.curY>w.startY?1:-1);var O=Math.ceil(v/b),M=g(t.touchObject,s),N=w.swipeLength;return x||(0===c&&("right"===M||"down"===M)||c+1>=O&&("left"===M||"up"===M)||!y(t)&&("left"===M||"up"===M))&&(N=w.swipeLength*d,!1===p&&f&&(f(M),R.edgeDragged=!0)),!h&&S&&(S(M),R.swiped=!0),_=o?T+N*(k/E)*P:l?T-N*P:T+N*P,s&&(_=T+N*P),R=a(a({},R),{},{touchObject:w,swipeLeft:_,trackStyle:A(a(a({},t),{},{left:_}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?R:(w.swipeLength>10&&(R.swiping=!0,u(e)),R)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,o=t.touchObject,i=t.listWidth,s=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,d=t.swipeToSlide,p=t.scrolling,f=t.onSwipe,h=t.targetSlide,m=t.currentSlide,v=t.infinite;if(!n)return r&&u(e),{};var y=l?c/s:i/s,b=g(o,l),S={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(p)return S;if(!o.swipeLength)return S;if(o.swipeLength>y){var A,E;u(e),f&&f(b);var _=v?m:h;switch(b){case"left":case"up":E=_+w(t),A=d?x(t,E):E,S.currentDirection=0;break;case"right":case"down":E=_-w(t),A=d?x(t,E):E,S.currentDirection=1;break;default:A=_}S.triggerSlideHandler=A}else{var R=C(t);S.trackStyle=k(a(a({},t),{},{left:R}))}return S};var b=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,o=[];n<t;)o.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return o};t.getNavigableIndexes=b;var x=function(e,t){var n=b(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var o in n){if(t<n[o]){t=r;break}r=n[o]}return t};t.checkNavigable=x;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,o=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(o).every((function(r){if(e.vertical){if(r.offsetTop+v(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+m(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var i=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-i)||1}return e.slidesToScroll};t.getSlideCount=w;var S=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=S;var A=function(e){var t,n;S(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=R(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=a(a({},o),{},{WebkitTransform:i,transform:s,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),t&&(o.width=t),n&&(o.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o};t.getTrackCSS=A;var k=function(e){S(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=A(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=k;var C=function(e){if(e.unslick)return 0;S(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,o=e.trackRef,i=e.infinite,a=e.centerMode,s=e.slideCount,l=e.slidesToShow,u=e.slidesToScroll,c=e.slideWidth,d=e.listWidth,p=e.variableWidth,f=e.slideHeight,h=e.fade,m=e.vertical;if(h||1===e.slideCount)return 0;var v=0;if(i?(v=-E(e),s%u!==0&&r+u>s&&(v=-(r>s?l-(r-s):s%u)),a&&(v+=parseInt(l/2))):(s%u!==0&&r+u>s&&(v=l-s%u),a&&(v=parseInt(l/2))),t=m?r*f*-1+v*f:r*c*-1+v*c,!0===p){var g,y=o&&o.node;if(g=r+E(e),t=(n=y&&y.childNodes[g])?-1*n.offsetLeft:0,!0===a){g=i?r+E(e):r,n=y&&y.children[g],t=0;for(var b=0;b<g;b++)t-=y&&y.children[b]&&y.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t};t.getTrackLeft=C;var E=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=E;var _=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=_;var R=function(e){return 1===e.slideCount?1:E(e)+e.slideCount+_(e)};t.getTotalSlides=R;var T=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+I(e)?"left":"right":e.targetSlide<e.currentSlide-P(e)?"right":"left"};t.siblingDirection=T;var I=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,o=e.centerPadding;if(n){var i=(t-1)/2+1;return parseInt(o)>0&&(i+=1),r&&t%2===0&&(i+=1),i}return r?0:t-1};t.slidesOnRight=I;var P=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,o=e.centerPadding;if(n){var i=(t-1)/2+1;return parseInt(o)>0&&(i+=1),r||t%2!==0||(i+=1),i}return r?t-1:0};t.slidesOnLeft=P;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},1006:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(6590)},1063:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4710).A},1097:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},1186:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},1251:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6590).A},1256:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{A:()=>r})},1263:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,n&&n.set(e,r)}(n(2483));var o=r(n(6839)),i=n(6723);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.A=(0,o.default)((0,i.jsx)("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube")},1293:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP11.77228113cf4613918b08.webp"},1338:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8168),o=n(2483),i=n(8587),a=n(9765),s=n(7266),l=n(1251),u=n(9410),c=n(6855),d=n(292),p=n(4692);function f(e){return(0,p.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var h=n(6723);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],v=(0,c.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.A)(n.color)}`],t[`fontSize${(0,l.A)(n.fontSize)}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r,o,i,a,s,l,u,c,d,p,f,h,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(o=r.create)?void 0:o.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=t.typography)||null==(s=a.pxToRem)?void 0:s.call(a,20))||"1.25rem",medium:(null==(l=t.typography)||null==(u=l.pxToRem)?void 0:u.call(l,24))||"1.5rem",large:(null==(c=t.typography)||null==(d=c.pxToRem)?void 0:d.call(c,35))||"2.1875rem"}[n.fontSize],color:null!=(p=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?p:{action:null==(h=(t.vars||t).palette)||null==(h=h.action)?void 0:h.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),g=o.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiSvgIcon"}),{children:c,className:d,color:p="inherit",component:g="svg",fontSize:y="medium",htmlColor:b,inheritViewBox:x=!1,titleAccess:w,viewBox:S="0 0 24 24"}=n,A=(0,i.A)(n,m),k=o.isValidElement(c)&&"svg"===c.type,C=(0,r.A)({},n,{color:p,component:g,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:x,viewBox:S,hasSvgAsChild:k}),E={};x||(E.viewBox=S);const _=(e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root","inherit"!==t&&`color${(0,l.A)(t)}`,`fontSize${(0,l.A)(n)}`]};return(0,s.A)(o,f,r)})(C);return(0,h.jsxs)(v,(0,r.A)({as:g,className:(0,a.A)(_.root,d),focusable:"false",color:b,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},E,A,k&&c.props,{ownerState:C,children:[k?c.props.children:c,w?(0,h.jsx)("title",{children:w}):null]}))}));g.muiName="SvgIcon";const y=g;function b(e,t){function n(n,o){return(0,h.jsx)(y,(0,r.A)({"data-testid":`${t}Icon`,ref:o},n,{children:e}))}return n.muiName=y.muiName,o.memo(o.forwardRef(n))}},1348:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>s});var o=n(2483);let i=0;const a=(r||(r=n.t(o,2)))["useId".toString()];function s(e){if(void 0!==a){const t=a();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),r=e||t;return o.useEffect((()=>{null==t&&(i+=1,n(`mui-${i}`))}),[t]),r}(e)}},1354:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=e=>e,o=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},1366:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8168);function o(e,t){const n=(0,r.A)({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=(0,r.A)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const a=e[i]||{},s=t[i];n[i]={},s&&Object.keys(s)?a&&Object.keys(a)?(n[i]=(0,r.A)({},s),Object.keys(a).forEach((e=>{n[i][e]=o(a[e],s[e])}))):n[i]=s:n[i]=a}else void 0===n[i]&&(n[i]=e[i])})),n}},1378:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP10.81af6740b2c8ca45d8ac.webp"},1392:(e,t,n)=>{"use strict";n.d(t,{LX:()=>h,MA:()=>f,_W:()=>m,Lc:()=>y,Ms:()=>b});var r=n(8871),o=n(6858),i=n(3351);const a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=a[t],o=s[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),c=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],p=[...c,...d];function f(e,t,n,r){var i;const a=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"===typeof a?e=>"string"===typeof e?e:a*e:Array.isArray(a)?e=>"string"===typeof e?e:a[e]:"function"===typeof a?a:()=>{}}function h(e){return f(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function v(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(u(n),o),a=e[n];return(0,r.NI)(e,a,i)}function g(e,t){const n=h(e.theme);return Object.keys(e).map((r=>v(e,t,r,n))).reduce(i.A,{})}function y(e){return g(e,c)}function b(e){return g(e,d)}function x(e){return g(e,p)}y.propTypes={},y.filterProps=c,b.propTypes={},b.filterProps=d,x.propTypes={},x.filterProps=p},1460:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>i});var r=n(8168),o=n(2483);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function a(e){if(o.isValidElement(e)||!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=a(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{o.isValidElement(t[r])?l[r]=t[r]:i(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&i(e[r])?l[r]=s(e[r],t[r],n):n.clone?l[r]=i(t[r])?a(t[r]):t[r]:l[r]=t[r]})),l}},1587:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(3076)},1665:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(2483)),i=n(850),a=u(n(5958)),s=u(n(4824)),l=n(976);function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,l.canUseDOM)()&&n(5383),x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(d,e);var t,n,r,u=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),y(v(t=u.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),y(v(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),y(v(t),"slickNext",(function(){return t.innerSlider.slickNext()})),y(v(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),y(v(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),y(v(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=d,(n=[{key:"media",value:function(e,t){b.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var o;o=0===r?(0,a.default)({minWidth:0,maxWidth:n}):(0,a.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,l.canUseDOM)()&&e.media(o,(function(){e.setState({breakpoint:n})}))}));var n=(0,a.default)({minWidth:t.slice(-1)[0]});(0,l.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){b.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":p(p(p({},s.default),this.props),t[0].settings):p(p({},s.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=o.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var a=[],l=null,u=0;u<r.length;u+=e.rows*e.slidesPerRow){for(var d=[],f=u;f<u+e.rows*e.slidesPerRow;f+=e.slidesPerRow){for(var h=[],m=f;m<f+e.slidesPerRow&&(e.variableWidth&&r[m].props.style&&(l=r[m].props.style.width),!(m>=r.length));m+=1)h.push(o.default.cloneElement(r[m],{key:100*u+10*f+m,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));d.push(o.default.createElement("div",{key:10*u+f},h))}e.variableWidth?a.push(o.default.createElement("div",{key:u,style:{width:l}},d)):a.push(o.default.createElement("div",{key:u},d))}if("unslick"===e){var v="regular slider "+(this.props.className||"");return o.default.createElement("div",{className:v},r)}return a.length<=e.slidesToShow&&(e.unslick=!0),o.default.createElement(i.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},e),a)}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(o.default.Component);t.default=x},1749:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow")},2036:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=h,slotShouldForwardProp:l=h}=e,c=e=>(0,u.default)((0,o.default)({},e,{theme:g((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return c.__mui_systemSx=!0,function(e){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:f,skipVariantsResolver:m,skipSx:x,overridesResolver:w=y(v(f))}=u,S=(0,i.default)(u,p),A=void 0!==m?m:f&&"Root"!==f&&"root"!==f||!1,k=x||!1;let C=h;"Root"===f||"root"===f?C=r:f?C=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);const E=(0,a.default)(e,(0,o.default)({shouldForwardProp:C,label:undefined},S)),_=e=>"function"===typeof e&&e.__emotion_real!==e||(0,s.isPlainObject)(e)?r=>b(e,(0,o.default)({},r,{theme:g({theme:r.theme,defaultTheme:n,themeId:t})})):e,R=function(r){let i=_(r);for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];const u=s?s.map(_):[];d&&w&&u.push((e=>{const r=g((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,a={};return Object.entries(i).forEach((t=>{let[n,i]=t;a[n]=b(i,(0,o.default)({},e,{theme:r}))})),w(e,a)})),d&&!A&&u.push((e=>{var r;const i=g((0,o.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}))})),k||u.push(c);const p=u.length-s.length;if(Array.isArray(r)&&p>0){const e=new Array(p).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const f=E(i,...u);return e.muiName&&(f.muiName=e.muiName),f};return E.withConfig&&(R.withConfig=E.withConfig),R}};var o=r(n(4634)),i=r(n(4893)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(2768)),s=n(5546),l=(r(n(1006)),r(n(888)),r(n(7837))),u=r(n(3154));const c=["ownerState"],d=["variants"],p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),v=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function g(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function y(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,i.default)(t,c);const a="function"===typeof e?e((0,o.default)({ownerState:n},r)):e;if(Array.isArray(a))return a.flatMap((e=>b(e,(0,o.default)({ownerState:n},r))));if(a&&"object"===typeof a&&Array.isArray(a.variants)){const{variants:e=[]}=a;let t=(0,i.default)(a,d);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,o.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.default)({ownerState:n},r,n)):e.style))})),t}return a}},2144:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case c:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case u:case f:case p:case s:return e;default:return t}}case r:return t}}}t.vM=u,t.lD=p},2428:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),o="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&l()}function s(){a(i)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},p=y(0,0,0,0);function f(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=d(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=f(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=h(r,"left","right")+i),Math.round(l+a)!==n&&(l-=h(r,"top","bottom")+a)),!function(e){return e===d(e).document.documentElement}(e)){var u=Math.round(s+i)-t,c=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return y(o.left,o.top,s,l)}var v="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return o?v(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):p}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),x=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return c(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}(t);c(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new x(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),S="undefined"!==typeof WeakMap?new WeakMap:new r,A=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new w(t,n,this);S.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){A.prototype[e]=function(){var t;return(t=S.get(this))[e].apply(t,arguments)}}));const k="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:A},2446:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},2483:(e,t,n)=>{"use strict";e.exports=n(3146)},2548:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},2610:(e,t,n)=>{"use strict";var r=n(4994);t.X4=f,t.e$=h,t.tL=v,t.eM=function(e,t){const n=p(e),r=p(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var o=r(n(7241)),i=r(n(1587));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function s(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(s(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const u=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function c(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),c({type:s,values:u})}function p(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function f(e,t){return e=l(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,c(e)}function h(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function m(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return c(e)}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return p(e)>.5?h(e,t):m(e,t)}},2640:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP12.91b2ce420e9f6c9dd2f4.webp"},2644:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},2660:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2644);function o(e){return(0,r.A)(e).defaultView||window}},2735:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP2.1ebd6636f59ddefe1a21.webp"},2748:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,k:()=>l});var r=n(6590),o=n(3351),i=n(6858),a=n(8871),s=n(6222);function l(){function e(e,t,n,o){const s={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:u=e,themeKey:c,transform:d,style:p}=l;if(null==t)return null;if("typography"===c&&"inherit"===t)return{[e]:t};const f=(0,i.Yn)(n,c)||{};if(p)return p(s);return(0,a.NI)(s,t,(t=>{let n=(0,i.BO)(f,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(f,d,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===u?n:{[u]:n}}))}return function t(n){var r;const{sx:i,theme:l={}}=n||{};if(!i)return null;const u=null!=(r=l.unstable_sxConfig)?r:s.A;function c(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,a.EU)(l.breakpoints),s=Object.keys(i);let c=i;return Object.keys(r).forEach((n=>{const i=(s=r[n],d=l,"function"===typeof s?s(d):s);var s,d;if(null!==i&&void 0!==i)if("object"===typeof i)if(u[n])c=(0,o.A)(c,e(n,i,l,u));else{const e=(0,a.NI)({theme:l},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(r);return t.every((e=>o.size===Object.keys(e).length))}(e,i)?c=(0,o.A)(c,e):c[n]=t({sx:i,theme:l})}else c=(0,o.A)(c,e(n,i,l,u))})),(0,a.vf)(s,c)}return Array.isArray(i)?i.map(c):c(i)}}const u=l();u.filterProps=["sx"];const c=u},2768:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>S.A,StyledEngineProvider:()=>w,ThemeContext:()=>o.T,css:()=>g.AH,default:()=>A,internal_processStyles:()=>k,keyframes:()=>g.i7});var r=n(8168),o=n(5385),i=n(3407),a=n(9404),s=n(5066),l=n(2483),u=n(326),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=(0,u.A)((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),p=function(e){return"theme"!==e},f=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:p},h=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,s.SF)(t,n,r),(0,a.s)((function(){return(0,s.sk)(t,n,r)})),null},v=function e(t,n){var a,u,c=t.__emotion_real===t,d=c&&t.__emotion_base||t;void 0!==n&&(a=n.label,u=n.target);var p=h(t,n,c),v=p||f(d),g=!v("as");return function(){var y=arguments,b=c&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==a&&b.push("label:"+a+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{var x=y[0];b.push(x[0]);for(var w=y.length,S=1;S<w;S++)b.push(y[S],x[S])}var A=(0,o.w)((function(e,t,n){var r=g&&e.as||d,a="",c=[],h=e;if(null==e.theme){for(var y in h={},e)h[y]=e[y];h.theme=l.useContext(o.T)}"string"===typeof e.className?a=(0,s.Rk)(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var x=(0,i.J)(b.concat(c),t.registered,h);a+=t.key+"-"+x.name,void 0!==u&&(a+=" "+u);var w=g&&void 0===p?f(r):v,S={};for(var A in e)g&&"as"===A||w(A)&&(S[A]=e[A]);return S.className=a,n&&(S.ref=n),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:x,isStringTag:"string"===typeof r}),l.createElement(r,S))}));return A.displayName=void 0!==a?a:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",A.defaultProps=t.defaultProps,A.__emotion_real=A,A.__emotion_base=d,A.__emotion_styles=b,A.__emotion_forwardProp=p,Object.defineProperty(A,"toString",{value:function(){return"."+u}}),A.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:h(A,o,!0)})).apply(void 0,b)},A}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));var g=n(4122),y=n(6243),b=n(6723);let x;function w(e){const{injectFirst:t,children:n}=e;return t&&x?(0,b.jsx)(o.C,{value:x,children:n}):n}"object"===typeof document&&(x=(0,y.A)({key:"css",prepend:!0}));var S=n(773);function A(e,t){return v(e,t)}const k=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},2769:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP8.ec07f997fa6d7c0ad479.webp"},2823:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1348).A},2931:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},3002:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP18.65e52a7c8877d69c9028.webp"},3014:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP9.0154d45d817d5938d64b.webp"},3062:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout")},3065:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP15.ca789dbe99f93e6f180c.webp"},3076:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},3146:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,m(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,A={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,o)&&!k.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:A.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+R(l,0):i,w(a)?(o="",null!=e&&(o=e.replace(_,"$&/")+"/"),T(a,t,o,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var u=0;u<e.length;u++){var c=i+R(s=e[u],u);l+=T(s,t,o,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,o,c=i+R(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},M={transition:null},N={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:M,ReactCurrentOwner:A};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=A.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},3154:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(2748),o=n(9770),i=n(6222)},3351:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1460);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},3407:(e,t,n)=>{"use strict";n.d(t,{J:()=>v});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(326),i=!1,a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!==typeof e},c=(0,o.A)((function(e){return l(e)?e:e.replace(a,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},p="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function f(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return h={name:o.name,styles:o.styles,next:h},o.name;var a=n;if(void 0!==a.styles){var s=a.next;if(void 0!==s)for(;void 0!==s;)h={name:s.name,styles:s.styles,next:h},s=s.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=f(e,t,n[o])+";";else for(var a in n){var s=n[a];if("object"!==typeof s){var l=s;null!=t&&void 0!==t[l]?r+=a+"{"+t[l]+"}":u(l)&&(r+=c(a)+":"+d(a,l)+";")}else{if("NO_COMPONENT_SELECTOR"===a&&i)throw new Error(p);if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var h=f(e,t,s);switch(a){case"animation":case"animationName":r+=c(a)+":"+h+";";break;default:r+=a+"{"+h+"}"}}else for(var m=0;m<s.length;m++)u(s[m])&&(r+=c(a)+":"+d(a,s[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=h,m=n(e);return h=l,f(e,t,m)}}var v=n;if(null==t)return v;var g=t[v];return void 0!==g?g:v}var h,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function v(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";h=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=f(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++){if(o+=f(n,t,e[a]),r)o+=i[a]}m.lastIndex=0;for(var s,l="";null!==(s=m.exec(o));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:u,styles:o,next:h}}},3557:(e,t,n)=>{"use strict";e.exports=n(7122)},3559:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login")},3682:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(6167).A)()},3845:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew")},4122:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>d,mL:()=>u});var r=n(5385),o=n(2483),i=n(5066),a=n(9404),s=n(3407),l=(n(6243),n(315),function(e,t){var n=arguments;if(null==t||!r.h.call(t,"css"))return o.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=r.E,a[1]=(0,r.c)(e,t);for(var s=2;s<i;s++)a[s]=n[s];return o.createElement.apply(null,a)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var u=(0,r.w)((function(e,t){var n=e.styles,l=(0,s.J)([n],void 0,o.useContext(r.T)),u=o.useRef();return(0,a.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),u.current=[n,r],function(){n.flush()}}),[t]),(0,a.i)((function(){var e=u.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null}));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.J)(t)}function d(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},4171:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"}),"DarkMode")},4201:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4390).A},4246:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6908).A},4250:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/profile.3ab194ff51babbdb4eeb.webp"},4268:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2483);const o=function(e){let{controlled:t,default:n,name:o,state:i="value"}=e;const{current:a}=r.useRef(void 0!==t),[s,l]=r.useState(n);return[a?t:s,r.useCallback((e=>{a||l(e)}),[])]}},4390:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2483),o=n(2548);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,o.A)(t,e)}))}),t)}},4411:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},4501:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),o=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var l=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),o=e.minScreenshotWidth!==t.minScreenshotWidth,i=e.minScreenshotHeight!==t.minScreenshotHeight;(r||o||i)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,o=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var i=r/o;o=(r=n.minScreenshotWidth||this.video.clientWidth)/i,n.minScreenshotHeight&&o<n.minScreenshotHeight&&(r=(o=n.minScreenshotHeight)*i)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||o,this.ctx=this.canvas.getContext("2d")}var a=this.ctx,s=this.canvas;return a&&s&&(s.width=(null===e||void 0===e?void 0:e.width)||s.width,s.height=(null===e||void 0===e?void 0:e.height)||s.height,n.mirrored&&(a.translate(s.width,0),a.scale(-1,1)),a.imageSmoothingEnabled=n.imageSmoothing,a.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(a.scale(-1,1),a.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,o){var i={video:"undefined"===typeof o||o};n.audio&&(i.audio="undefined"===typeof r||r),e.requestUserMediaId++;var a=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(i).then((function(n){e.unmounted||a!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var o=function(e){return{optional:[{sourceId:e}]}},i=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,a=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(a=e.id)}));var s=i(n.audioConstraints);s&&(t=s);var l=i(n.videoConstraints);l&&(a=l),r(o(t),o(a))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,o=n.audio,s=(n.forceScreenshotSourceSize,n.disablePictureInPicture),l=(n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),u=n.style,c=void 0===u?{}:u,d=n.children,p=a(n,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),f=l?i(i({},c),{transform:(c.transform||"")+" scaleX(-1)"}):c,h={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",i({autoPlay:!0,disablePictureInPicture:s,src:t.src,muted:!o,playsInline:!0,ref:function(t){e.video=t},style:f},p)),d&&d(h))},t.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=l},react:function(t,n){t.exports=e}}).default},e.exports=r(n(2483))},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4643:(e,t,n)=>{"use strict";e.exports=n(8423)},4690:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP5.f2e0436f6dcd14704c47.png"},4692:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i});var r=n(1354);const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i=o[t];return i?`${n}-${i}`:`${r.A.generate(e)}-${t}`}},4710:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2483),o=n(344);const i=function(e){const t=r.useRef(e);return(0,o.A)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},4794:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline")},4819:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP6.d7144577f20f2cf75f76.webp"},4824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2483))&&r.__esModule?r:{default:r};var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return o.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return o.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=i},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5022:(e,t,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype.toString,p=Math.max,f=Math.min,h=function(){return c.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,a,s,l,u=0,c=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=i}function x(){var e=h();if(b(e))return w(e);s=setTimeout(x,function(e){var n=t-(e-l);return d?f(n,i-(e-u)):n}(e))}function w(e){return s=void 0,g&&r?y(e):(r=o=void 0,a)}function S(){var e=h(),n=b(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(x,t),c?y(e):a}(l);if(d)return s=setTimeout(x,t),y(l)}return void 0===s&&(s=setTimeout(x,t)),a}return t=v(t)||0,m(n)&&(c=!!n.leading,i=(d="maxWait"in n)?p(v(n.maxWait)||0,t):i,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=o=s=void 0},S.flush=function(){return void 0===s?a:w(h())},S}},5066:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},5100:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP16.68d0bcdfc48fb59fc83f.webp"},5188:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2483);const o=function(e,t){var n,o;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}},5195:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP4.e8d26f013b050c0d9e0c.png"},5246:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(2660).A},5284:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP3.9e9daec2ba65dae436e6.png"},5383:(e,t,n)=>{var r=n(9321);e.exports=new r},5385:(e,t,n)=>{"use strict";n.d(t,{C:()=>u,E:()=>v,T:()=>d,c:()=>h,h:()=>p,w:()=>c});var r=n(2483),o=n(6243),i=n(5066),a=n(3407),s=n(9404),l=r.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null),u=l.Provider,c=function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(l);return e(t,o,n)}))},d=r.createContext({});var p={}.hasOwnProperty,f="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",h=function(e,t){var n={};for(var r in t)p.call(t,r)&&(n[r]=t[r]);return n[f]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,i.SF)(t,n,r),(0,s.s)((function(){return(0,i.sk)(t,n,r)})),null},v=c((function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var s=e[f],l=[o],u="";"string"===typeof e.className?u=(0,i.Rk)(t.registered,l,e.className):null!=e.className&&(u=e.className+" ");var c=(0,a.J)(l,void 0,r.useContext(d));u+=t.key+"-"+c.name;var h={};for(var v in e)p.call(e,v)&&"css"!==v&&v!==f&&(h[v]=e[v]);return h.className=u,n&&(h.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:c,isStringTag:"string"===typeof s}),r.createElement(s,h))}))},5546:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(1460)},5663:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},5846:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(2483)),o=n(2768);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(o.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},5914:(e,t,n)=>{"use strict";var r=n(2483),o=n(3557);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var F,j=Object.assign;function L(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function W(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case S:return"Portal";case C:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ae=null,ke=null;function Ce(e){if(e=xo(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Ee(e){Ae?ke?ke.push(e):ke=[e]:Ae=e}function _e(){if(Ae){var e=Ae,t=ke;if(ke=Ae=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Re(e,t){return e(t)}function Te(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Re(e,t,n)}finally{Ie=!1,(null!==Ae||null!==ke)&&(Te(),_e())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Me=!1}function De(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Fe=!1,je=null,Le=!1,Be=null,ze={onError:function(e){Fe=!0,je=e}};function We(e,t,n,r,o,i,a,s,l){Fe=!1,je=null,De.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(i(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return He(o),e;if(a===r)return He(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Qe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,At,kt,Ct,Et=!1,_t=[],Rt=null,Tt=null,It=null,Pt=new Map,Ot=new Map,Mt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Ft(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=xo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function jt(e){var t=bo(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Lt(e)&&n.delete(t)}function zt(){Et=!1,null!==Rt&&Lt(Rt)&&(Rt=null),null!==Tt&&Lt(Tt)&&(Tt=null),null!==It&&Lt(It)&&(It=null),Pt.forEach(Bt),Ot.forEach(Bt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Wt(t,e)}if(0<_t.length){Wt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Rt&&Wt(Rt,e),null!==Tt&&Wt(Tt,e),null!==It&&Wt(It,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)jt(n),null===n.blockedOn&&Mt.shift()}var Vt=x.ReactCurrentBatchConfig,Ht=!0;function $t(e,t,n,r){var o=bt,i=Vt.transition;Vt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=o,Vt.transition=i}}function Gt(e,t,n,r){var o=bt,i=Vt.transition;Vt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=o,Vt.transition=i}}function qt(e,t,n,r){if(Ht){var o=Xt(e,t,n,r);if(null===o)Hr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Rt=Ft(Rt,e,t,n,r,o),!0;case"dragenter":return Tt=Ft(Tt,e,t,n,r,o),!0;case"mouseover":return It=Ft(It,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pt.set(i,Ft(Pt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ot.set(i,Ft(Ot.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==o;){var i=xo(o);if(null!==i&&wt(i),null===(i=Xt(e,t,n,r))&&Hr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Xt(e,t,n,r){if(Kt=null,null!==(e=bo(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,o="value"in Qt?Qt.value:Qt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=j({},un,{view:0,detail:0}),pn=on(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(fn),mn=on(j({},fn,{dataTransfer:0})),vn=on(j({},dn,{relatedTarget:0})),gn=on(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(j({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function Cn(){return kn}var En=j({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(En),Rn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=on(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Pn),Mn=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Dn,jn=c&&(!Nn||Dn&&8<Dn&&11>=Dn),Ln=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function $n(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Kn(e){Lr(e,0)}function Xn(e){if(q(wo(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(qn)){var t=[];$n(t,qn,e,we(e)),Pe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(qn)}function ir(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=cr(n,i);var a=cr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==K(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ar={},kr={};function Cr(e){if(Ar[e])return Ar[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Ar[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=Cr("animationend"),_r=Cr("animationiteration"),Rr=Cr("animationstart"),Tr=Cr("transitionend"),Ir=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ir.set(e,t),l(t,[e])}for(var Mr=0;Mr<Pr.length;Mr++){var Nr=Pr[Mr];Or(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Or(Er,"onAnimationEnd"),Or(_r,"onAnimationIteration"),Or(Rr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,u){if(We.apply(this,arguments),Fe){if(!Fe)throw Error(i(198));var c=je;Fe=!1,je=null,Le||(Le=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;jr(o,s,u),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;jr(o,s,u),i=l}}}if(Le)throw e=Be,Le=!1,Be=null,e}function Br(e,t){var n=t[vo];void 0===n&&(n=t[vo]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Wr]){e[Wr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Yt(t)){case 1:var o=$t;break;case 4:o=Gt;break;default:o=qt}n=o.bind(null,t,n,e),o=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=i,o=we(n),a=[];e:{var s=Ir.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Er:case _r:case Rr:l=gn;break;case Tr:l=In;break;case"scroll":l=pn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var c=0!==(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Oe(h,p))&&c.push($r(h,m,f)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,o),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(u=n.relatedTarget||n.fromElement)||!bo(u)&&!u[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?bo(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Rn,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:wo(l),f=null==u?s:wo(u),(s=new c(m,h+"leave",l,n,o)).target=d,s.relatedTarget=f,m=null,bo(o)===r&&((c=new c(p,h+"enter",u,n,o)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,h=0,f=c=l;f;f=qr(f))h++;for(f=0,m=p;m;m=qr(m))f++;for(;0<h-f;)c=qr(c),h--;for(;0<f-h;)p=qr(p),f--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=qr(c),p=qr(p)}c=null}else c=null;null!==l&&Kr(a,s,l,c,!1),null!==u&&null!==d&&Kr(a,d,u,c,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Yn;else if(Hn(s))if(Qn)v=ar;else{v=or;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ir);switch(v&&(v=v(e,r))?$n(a,v,n,o):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wo(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,o)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Jt="value"in(Qt=o)?Qt.value:Qt.textContent,Un=!0)),0<(g=Gr(r,b)).length&&(b=new xn(b,e,null,n,o),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Nn&&zn(e,t)?(e=en(),Zt=Jt=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}Lr(a,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Oe(e,n))&&r.unshift($r(e,i,o)),null!=(i=Oe(e,t))&&r.push($r(e,i,o))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,o?null!=(l=Oe(n,i))&&a.unshift($r(n,l,s)):o||null!=(l=Oe(n,i))&&a.push($r(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ut(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),fo="__reactFiber$"+po,ho="__reactProps$"+po,mo="__reactContainer$"+po,vo="__reactEvents$"+po,go="__reactListeners$"+po,yo="__reactHandles$"+po;function bo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[fo])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[ho]||null}var Ao=[],ko=-1;function Co(e){return{current:e}}function Eo(e){0>ko||(e.current=Ao[ko],Ao[ko]=null,ko--)}function _o(e,t){ko++,Ao[ko]=e.current,e.current=t}var Ro={},To=Co(Ro),Io=Co(!1),Po=Ro;function Oo(e,t){var n=e.type.contextTypes;if(!n)return Ro;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function No(){Eo(Io),Eo(To)}function Do(e,t,n){if(To.current!==Ro)throw Error(i(168));_o(To,t),_o(Io,n)}function Fo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,V(e)||"Unknown",o));return j({},n,r)}function jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ro,Po=To.current,_o(To,e),_o(Io,Io.current),!0}function Lo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Fo(e,t,Po),r.__reactInternalMemoizedMergedChildContext=e,Eo(Io),Eo(To),_o(To,e)):Eo(Io),_o(Io,n)}var Bo=null,zo=!1,Wo=!1;function Uo(e){null===Bo?Bo=[e]:Bo.push(e)}function Vo(){if(!Wo&&null!==Bo){Wo=!0;var e=0,t=bt;try{var n=Bo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bo=null,zo=!1}catch(o){throw null!==Bo&&(Bo=Bo.slice(e+1)),qe(Ze,Vo),o}finally{bt=t,Wo=!1}}return null}var Ho=[],$o=0,Go=null,qo=0,Ko=[],Xo=0,Yo=null,Qo=1,Jo="";function Zo(e,t){Ho[$o++]=qo,Ho[$o++]=Go,Go=e,qo=t}function ei(e,t,n){Ko[Xo++]=Qo,Ko[Xo++]=Jo,Ko[Xo++]=Yo,Yo=e;var r=Qo;e=Jo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Qo=1<<32-at(t)+o|n<<o|r,Jo=i+e}else Qo=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Go;)Go=Ho[--$o],Ho[$o]=null,qo=Ho[--$o],Ho[$o]=null;for(;e===Yo;)Yo=Ko[--Xo],Ko[Xo]=null,Jo=Ko[--Xo],Ko[Xo]=null,Qo=Ko[--Xo],Ko[Xo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Qo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ui(e))throw Error(i(418));t=uo(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function pi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ui(e))throw fi(),Error(i(418));for(;t;)si(e,t),t=uo(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=uo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?uo(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=uo(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var vi=x.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===A?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&bi(i)===t.type)?((r=o(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Du(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case S:return(t=Lu(t,e.mode,n)).return=e,t;case O:return p(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?u(e,t,n,r):null;case S:return n.key===o?c(e,t,n,r):null;case O:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||D(n))return null!==o?null:d(e,t,n,r,null);yi(e,n)}return null}function h(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case O:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,i,s,l){for(var u=null,c=null,d=i,m=i=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(o,d,s[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(o,d),i=a(g,i,m),null===c?u=g:c.sibling=g,c=g,d=v}if(m===s.length)return n(o,d),ii&&Zo(o,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(i=a(d,i,m),null===c?u=d:c.sibling=d,c=d);return ii&&Zo(o,m),u}for(d=r(o,d);m<s.length;m++)null!==(v=h(d,o,m,s[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),i=a(v,i,m),null===c?u=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(o,e)})),ii&&Zo(o,m),u}function v(o,s,l,u){var c=D(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(o,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,v),null===d?c=b:d.sibling=b,d=b,m=g}if(y.done)return n(o,m),ii&&Zo(o,v),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=p(o,y.value,u))&&(s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);return ii&&Zo(o,v),c}for(m=r(o,m);!y.done;v++,y=l.next())null!==(y=h(m,o,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),ii&&Zo(o,v),c}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===A&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var u=a.key,c=i;null!==c;){if(c.key===u){if((u=a.type)===A){if(7===c.tag){n(r,c.sibling),(i=o(c,a.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&bi(u)===c.type){n(r,c.sibling),(i=o(c,a.props)).ref=gi(r,c,a),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===A?((i=Du(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Nu(a.type,a.key,a.props,null,r.mode,l)).ref=gi(r,i,a),l.return=r,r=l)}return s(r);case S:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Lu(a,r.mode,l)).return=r,r=i}return s(r);case O:return e(r,i,(c=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(D(a))return v(r,i,a,l);yi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=ju(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var wi=xi(!0),Si=xi(!1),Ai=Co(null),ki=null,Ci=null,Ei=null;function _i(){Ei=Ci=ki=null}function Ri(e){var t=Ai.current;Eo(Ai),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t){ki=e,Ei=Ci=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Ci){if(null===ki)throw Error(i(308));Ci=e,ki.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Oi=null;function Mi(e){null===Oi?Oi=[e]:Oi.push(e)}function Ni(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Mi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fi=!1;function ji(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Di(e,n)}return null===(o=r.interleaved)?(t.next=t,Mi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Di(e,n)}function Wi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var o=e.updateQueue;Fi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?i=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,c=u=l=null,s=i;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=j({},d,p);break e;case 2:Fi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,a|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===c&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var $i={},Gi=Co($i),qi=Co($i),Ki=Co($i);function Xi(e){if(e===$i)throw Error(i(174));return e}function Yi(e,t){switch(_o(Ki,t),_o(qi,e),_o(Gi,$i),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(Gi),_o(Gi,t)}function Qi(){Eo(Gi),Eo(qi),Eo(Ki)}function Ji(e){Xi(Ki.current);var t=Xi(Gi.current),n=le(t,e.type);t!==n&&(_o(qi,e),_o(Gi,n))}function Zi(e){qi.current===e&&(Eo(Gi),Eo(qi))}var ea=Co(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=x.ReactCurrentDispatcher,ia=x.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ua=null,ca=!1,da=!1,pa=0,fa=0;function ha(){throw Error(i(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function va(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Za:es,e=n(r,o),da){a=0;do{if(da=!1,pa=0,25<=a)throw Error(i(301));a+=1,ua=la=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(da)}if(oa.current=Ja,t=null!==la&&null!==la.next,aa=0,ua=la=sa=null,ca=!1,t)throw Error(i(300));return e}function ga(){var e=0!==pa;return pa=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?sa.memoizedState=ua=e:ua=ua.next=e,ua}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ua?sa.memoizedState:ua.next;if(null!==t)ua=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ua?sa.memoizedState=ua=e:ua=ua.next=e}return ua}function xa(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((aa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=r):u=u.next=p,sa.lanes|=d,Fl|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Fl|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function ka(e,t){var n=sa,r=ba(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,bs=!0),r=r.queue,Fa(_a.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Pa(9,Ea.bind(null,n,r,o,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&aa)||Ca(n,t,o)}return o}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Ra(t)&&Ta(e)}function _a(e,t,n){return n((function(){Ra(t)&&Ta(e)}))}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ta(e){var t=Di(e,1);null!==t&&nu(t,e,1,-1)}function Ia(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oa(){return ba().memoizedState}function Ma(e,t,n,r){var o=ya();sa.flags|=e,o.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var o=ba();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=Pa(t,n,i,r))}sa.flags|=e,o.memoizedState=Pa(1|t,n,i,r)}function Da(e,t){return Ma(8390656,8,e,t)}function Fa(e,t){return Na(2048,8,e,t)}function ja(e,t){return Na(4,2,e,t)}function La(e,t){return Na(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4,4,Ba.bind(null,t,e),n)}function Wa(){}function Ua(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Fl|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ga(){return ba().memoizedState}function qa(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Ya(t,n);else if(null!==(n=Ni(e,t,n,r))){nu(n,e,r,eu()),Qa(n,t,r)}}function Ka(e,t,n){var r=tu(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Ya(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Mi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(u){}null!==(n=Ni(e,t,o,r))&&(nu(n,e,r,o=eu()),Qa(n,t,r))}}function Xa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ya(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Pi,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Za={readContext:Pi,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ia,useDebugValue:Wa,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=$a.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=ya();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&aa)||Ca(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Da(_a.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Tl.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=(Qo&~(1<<32-at(Qo)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Pi,useCallback:Ua,useContext:Pi,useEffect:Fa,useImperativeHandle:za,useInsertionEffect:ja,useLayoutEffect:La,useMemo:Va,useReducer:wa,useRef:Oa,useState:function(){return wa(xa)},useDebugValue:Wa,useDeferredValue:function(e){return Ha(ba(),la.memoizedState,e)},useTransition:function(){return[wa(xa)[0],ba().memoizedState]},useMutableSource:Aa,useSyncExternalStore:ka,useId:Ga,unstable_isNewReconciler:!1},ts={readContext:Pi,useCallback:Ua,useContext:Pi,useEffect:Fa,useImperativeHandle:za,useInsertionEffect:ja,useLayoutEffect:La,useMemo:Va,useReducer:Sa,useRef:Oa,useState:function(){return Sa(xa)},useDebugValue:Wa,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[Sa(xa)[0],ba().memoizedState]},useMutableSource:Aa,useSyncExternalStore:ka,useId:Ga,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),i=Bi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,o))&&(nu(t,e,o,r),Wi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),i=Bi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,o))&&(nu(t,e,o,r),Wi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),o=Bi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=zi(e,o,r))&&(nu(t,e,r,n),Wi(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function as(e,t,n){var r=!1,o=Ro,i=t.contextType;return"object"===typeof i&&null!==i?i=Pi(i):(o=Mo(t)?Po:To.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oo(e,o):Ro),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ji(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Pi(i):(i=Mo(t)?Po:To.current,o.context=Oo(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Vi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Bi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,$l=r),ds(0,t)},n}function hs(e,t,n){(n=Bi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bi(-1,1)).tag=2,zi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ys=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?Si(t,null,n,r):wi(t,e.child,n,r)}function ws(e,t,n,r,o){n=n.render;var i=t.ref;return Ii(t,o),r=va(e,t,n,r,i,o),n=ga(),null===e||bs?(ii&&n&&ti(t),t.flags|=1,xs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function Ss(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Ou(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,As(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,o)}return t.flags|=1,(e=Mu(i,r)).ref=t.ref,e.return=t,t.child=e}function As(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Hs(e,t,o);0!==(131072&e.flags)&&(bs=!0)}}return Es(e,t,n,r,o)}function ks(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_o(Ml,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_o(Ml,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,_o(Ml,Ol),Ol|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,_o(Ml,Ol),Ol|=r;return xs(e,t,o,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,o){var i=Mo(n)?Po:To.current;return i=Oo(t,i),Ii(t,o),n=va(e,t,n,r,i,o),r=ga(),null===e||bs?(ii&&r&&ti(t),t.flags|=1,xs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function _s(e,t,n,r,o){if(Mo(n)){var i=!0;jo(t)}else i=!1;if(Ii(t,o),null===t.stateNode)Vs(e,t),as(t,n,r),ls(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Pi(u):u=Oo(t,u=Mo(n)?Po:To.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,a,r,u),Fi=!1;var p=t.memoizedState;a.state=p,Vi(t,r,a,o),l=t.memoizedState,s!==r||p!==l||Io.current||Fi?("function"===typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Fi||is(t,n,s,r,p,l,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Li(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),a.props=u,d=t.pendingProps,p=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pi(l):l=Oo(t,l=Mo(n)?Po:To.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||p!==l)&&ss(t,a,r,l),Fi=!1,p=t.memoizedState,a.state=p,Vi(t,r,a,o);var h=t.memoizedState;s!==d||p!==h||Io.current||Fi?("function"===typeof f&&(rs(t,n,f,r),h=t.memoizedState),(u=Fi||is(t,n,u,r,p,h,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,i,o)}function Rs(e,t,n,r,o,i){Cs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Lo(t,n,!1),Hs(e,t,i);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,s,i)):xs(e,t,s,i),t.memoizedState=r.state,o&&Lo(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),Yi(e,t.containerInfo)}function Is(e,t,n,r,o){return hi(),mi(o),t.flags|=256,xs(e,t,n,r),t.child}var Ps,Os,Ms,Ns,Ds={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_o(ea,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fu(l,o,0,null),e=Du(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ds,e):Ls(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=cs(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Fu({mode:"visible",children:r.children},o,0,null),(a=Du(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ds,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=cs(a=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Tl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Di(e,o),nu(r,e,o,-1))}return mu(),Bs(e,t,s,r=cs(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=_u.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=uo(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Ko[Xo++]=Qo,Ko[Xo++]=Jo,Ko[Xo++]=Yo,Qo=e.id,Jo=e.overflow,Yo=t),t=Ls(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null):(o=Mu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Mu(r,s):(s=Du(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,o}return e=(s=e.child).sibling,o=Mu(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ls(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mi(r),wi(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function Ws(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Us(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_o(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ws(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ws(t,!0,n,null,i);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Mo(t.type)&&No(),Gs(t),null;case 3:return r=t.stateNode,Qi(),Eo(Io),Eo(To),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(au(ai),ai=null))),Os(e,t),Gs(t),null;case 5:Zi(t);var o=Xi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Gs(t),null}if(e=Xi(Gi.current),pi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fo]=t,r[ho]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)Br(Dr[o],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":oe(r,a),Br("invalid",r)}for(var l in ye(n,a),o=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),o=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),o=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fo]=t,e[ho]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),o=r;break;case"iframe":case"object":case"embed":Br("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)Br(Dr[o],e);o=r;break;case"source":Br("error",e),o=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),o=r;break;case"details":Br("toggle",e),o=r;break;case"input":Y(e,r),o=X(e,r),Br("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=j({},r,{value:void 0}),Br("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Br("invalid",e)}for(a in ye(n,o),u=o)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ve(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Br("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Xi(Ki.current),Xi(Gi.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return Gs(t),null;case 13:if(Eo(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))fi(),hi(),t.flags|=98560,a=!1;else if(a=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[fo]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==ai&&(au(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Nl&&(Nl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return Qi(),Os(e,t),null===e&&Ur(t.stateNode.containerInfo),Gs(t),null;case 10:return Ri(t.type._context),Gs(t),null;case 19:if(Eo(ea),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)$s(a,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,$s(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _o(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Ul&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$s(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Gs(t),null}else 2*Qe()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ea.current,_o(ea,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ks(e,t){switch(ni(t),t.tag){case 1:return Mo(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qi(),Eo(Io),Eo(To),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Eo(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(ea),null;case 4:return Qi(),null;case 10:return Ri(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ms=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Xi(Gi.current);var i,a=null;switch(n){case"input":o=X(e,o),r=X(e,r),a=[];break;case"select":o=j({},o,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var l=o[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){ku(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[ho],delete t[vo],delete t[go],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=cl,o=dl;cl=null,pl(e,t,n),dl=o,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ut(e)):lo(cl,n.stateNode));break;case 4:r=cl,o=dl,cl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),cl=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&el(n,t,a),o=o.next}while(o!==r)}pl(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ku(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,pl(e,t,n),Ys=r):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Ru.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(i(160));fl(a,s,o),cl=null,dl=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(c){ku(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){ku(e,e.return,v)}try{nl(5,e,e.return)}catch(v){ku(e,e.return,v)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(v){ku(e,e.return,v)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(o,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?ve(o,p):"dangerouslySetInnerHTML"===d?de(o,p):"children"===d?pe(o,p):b(o,d,p,c)}switch(l){case"input":J(o,a);break;case"textarea":ie(o,a);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(v){ku(e,e.return,v)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(v){ku(e,e.return,v)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(v){ku(e,e.return,v)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Wl=Qe())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||d,ml(t,e),Ys=c):ml(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(p=Js=d;null!==Js;){switch(h=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){ku(r,n,v)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(p);continue}}null!==h?(h.return=f,Js=h):wl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{o=p.stateNode,c?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(v){ku(e,e.return,v)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(v){ku(e,e.return,v)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),gl(e),4&r&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),ul(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(s){ku(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var o=Js,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Xs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Xs;var u=Ys;if(Xs=a,(Ys=l)&&!u)for(Js=o;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Sl(o):null!==l?(l.return=a,Js=l):Sl(o);for(;null!==i;)Js=i,bl(i,t,n),i=i.sibling;Js=o,Xs=s,Ys=u}xl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Js=i):xl(e)}}function xl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(i(163))}Ys||512&t.flags&&ol(t)}catch(f){ku(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){ku(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){ku(t,o,l)}}var i=t.return;try{ol(t)}catch(l){ku(t,i,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){ku(t,a,l)}}}catch(l){ku(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Al,kl=Math.ceil,Cl=x.ReactCurrentDispatcher,El=x.ReactCurrentOwner,_l=x.ReactCurrentBatchConfig,Rl=0,Tl=null,Il=null,Pl=0,Ol=0,Ml=Co(0),Nl=0,Dl=null,Fl=0,jl=0,Ll=0,Bl=null,zl=null,Wl=0,Ul=1/0,Vl=null,Hl=!1,$l=null,Gl=null,ql=!1,Kl=null,Xl=0,Yl=0,Ql=null,Jl=-1,Zl=0;function eu(){return 0!==(6&Rl)?Qe():-1!==Jl?Jl:Jl=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Pl?Pl&-Pl:null!==vi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Ql=null,Error(i(185));gt(e,n,r),0!==(2&Rl)&&e===Tl||(e===Tl&&(0===(2&Rl)&&(jl|=n),4===Nl&&su(e,Pl)),ru(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Ul=Qe()+500,zo&&Vo()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=pt(e,e===Tl?Pl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zo=!0,Uo(e)}(lu.bind(null,e)):Uo(lu.bind(null,e)),ao((function(){0===(6&Rl)&&Vo()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Jl=-1,Zl=0,0!==(6&Rl))throw Error(i(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=pt(e,e===Tl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var o=Rl;Rl|=2;var a=hu();for(Tl===e&&Pl===t||(Vl=null,Ul=Qe()+500,pu(e,t));;)try{yu();break}catch(l){fu(e,l)}_i(),Cl.current=a,Rl=o,null!==Il?t=0:(Tl=null,Pl=0,t=Nl)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=iu(e,o))),1===t)throw n=Dl,pu(e,0),su(e,r),ru(e,Qe()),n;if(6===t)su(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=vu(e,r))&&(0!==(a=ht(e))&&(r=a,t=iu(e,a))),1===t))throw n=Dl,pu(e,0),su(e,r),ru(e,Qe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wu(e,zl,Vl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Wl+500-Qe())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wu.bind(null,e,zl,Vl),t);break}wu(e,zl,Vl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ro(wu.bind(null,e,zl,Vl),r);break}wu(e,zl,Vl);break;default:throw Error(i(329))}}}return ru(e,Qe()),e.callbackNode===n?ou.bind(null,e):null}function iu(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=zl,zl=n,null!==t&&au(t)),e}function au(e){null===zl?zl=e:zl.push.apply(zl,e)}function su(e,t){for(t&=~Ll,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Rl))throw Error(i(327));Su();var t=pt(e,0);if(0===(1&t))return ru(e,Qe()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Dl,pu(e,0),su(e,t),ru(e,Qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,zl,Vl),ru(e,Qe()),null}function uu(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Ul=Qe()+500,zo&&Vo())}}function cu(e){null!==Kl&&0===Kl.tag&&0===(6&Rl)&&Su();var t=Rl;Rl|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(Rl=t))&&Vo()}}function du(){Ol=Ml.current,Eo(Ml)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&No();break;case 3:Qi(),Eo(Io),Eo(To),ra();break;case 5:Zi(r);break;case 4:Qi();break;case 13:case 19:Eo(ea);break;case 10:Ri(r.type._context);break;case 22:case 23:du()}n=n.return}if(Tl=e,Il=e=Mu(e.current,null),Pl=Ol=t,Nl=0,Dl=null,Ll=jl=Fl=0,zl=Bl=null,null!==Oi){for(t=0;t<Oi.length;t++)if(null!==(r=(n=Oi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Oi=null}return e}function fu(e,t){for(;;){var n=Il;try{if(_i(),oa.current=Ja,ca){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ca=!1}if(aa=0,ua=la=sa=null,da=!1,pa=0,El.current=null,null===n||null===n.return){Nl=1,Dl=t,Il=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,gs(h,s,l,0,t),1&h.mode&&ms(a,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0===(1&t)){ms(a,c,t),mu();break e}u=Error(i(426))}else if(ii&&1&l.mode){var g=vs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),mi(us(u,l));break e}}a=u=us(u,l),4!==Nl&&(Nl=2),null===Bl?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,fs(0,u,t));break e;case 1:l=u;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,hs(a,l,t));break e}}a=a.return}while(null!==a)}xu(n)}catch(x){t=x,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function hu(){var e=Cl.current;return Cl.current=Ja,null===e?Ja:e}function mu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Tl||0===(268435455&Fl)&&0===(268435455&jl)||su(Tl,Pl)}function vu(e,t){var n=Rl;Rl|=2;var r=hu();for(Tl===e&&Pl===t||(Vl=null,pu(e,t));;)try{gu();break}catch(o){fu(e,o)}if(_i(),Rl=n,Cl.current=r,null!==Il)throw Error(i(261));return Tl=null,Pl=0,Nl}function gu(){for(;null!==Il;)bu(Il)}function yu(){for(;null!==Il&&!Xe();)bu(Il)}function bu(e){var t=Al(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?xu(e):Il=t,El.current=null}function xu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Ol)))return void(Il=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Nl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Nl&&(Nl=5)}function wu(e,t,n){var r=bt,o=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Kl);if(0!==(6&Rl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Tl&&(Il=Tl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Tu(tt,(function(){return Su(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=_l.transition,_l.transition=null;var s=bt;bt=1;var l=Rl;Rl|=4,El.current=null,function(e,t){if(eo=Ht,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===o&&(l=s),f===a&&++d===r&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ns(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){ku(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),vl(n,e),hr(to),Ht=!!eo,to=eo=null,e.current=n,yl(n,e,o),Ye(),Rl=l,bt=s,_l.transition=a}else e.current=n;if(ql&&(ql=!1,Kl=e,Xl=o),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=$l,$l=null,e;0!==(1&Xl)&&0!==e.tag&&Su(),a=e.pendingLanes,0!==(1&a)?e===Ql?Yl++:(Yl=0,Ql=e):Yl=0,Vo()}(e,t,n,r)}finally{_l.transition=o,bt=r}return null}function Su(){if(null!==Kl){var e=xt(Xl),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Xl=0,0!==(6&Rl))throw Error(i(331));var o=Rl;for(Rl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var p=d.child;if(null!==p)p.return=d,Js=p;else for(;null!==Js;){var f=(d=Js).sibling,h=d.return;if(il(d),d===c){Js=null;break}if(null!==f){f.return=h,Js=f;break}Js=h}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){ku(l,l.return,S)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Rl=o,Vo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(S){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function Au(e,t,n){e=zi(e,t=fs(0,t=us(n,t),1),1),t=eu(),null!==e&&(gt(e,1,t),ru(e,t))}function ku(e,t,n){if(3===e.tag)Au(e,e,n);else for(;null!==t;){if(3===t.tag){Au(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=zi(t,e=hs(t,e=us(n,e),1),1),e=eu(),null!==t&&(gt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Pl&n)===n&&(4===Nl||3===Nl&&(130023424&Pl)===Pl&&500>Qe()-Wl?pu(e,0):Ll|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Di(e,t))&&(gt(e,t,n),ru(e,n))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Ru(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Eu(e,n)}function Tu(e,t){return qe(e,t)}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Iu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Ou(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case A:return Du(n.children,o,a,t);case k:s=8,o|=8;break;case C:return(e=Pu(12,n,t,2|o)).elementType=C,e.lanes=a,e;case T:return(e=Pu(13,n,t,o)).elementType=T,e.lanes=a,e;case I:return(e=Pu(19,n,t,o)).elementType=I,e.lanes=a,e;case M:return Fu(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case _:s=9;break e;case R:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pu(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Du(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Lu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,o,i,a,s,l){return e=new Bu(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ji(i),e}function Wu(e){if(!e)return Ro;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Mo(n))return Fo(e,n,t)}return t}function Uu(e,t,n,r,o,i,a,s,l){return(e=zu(n,r,!0,e,0,i,0,s,l)).context=Wu(null),n=e.current,(i=Bi(r=eu(),o=tu(n))).callback=void 0!==t&&null!==t?t:null,zi(n,i,o),e.current.lanes=o,gt(e,o,r),ru(e,r),e}function Vu(e,t,n,r){var o=t.current,i=eu(),a=tu(o);return n=Wu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zi(o,t,a))&&(nu(e,o,a,i),Wi(e,o,a)),a}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}Al=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Io.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),hi();break;case 5:Ji(t);break;case 1:Mo(t.type)&&jo(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;_o(Ai,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_o(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(_o(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);_o(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),_o(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ii&&0!==(1048576&t.flags)&&ei(t,qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var o=Oo(t,To.current);Ii(t,n),o=va(null,t,r,e,o,n);var a=ga();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mo(r)?(a=!0,jo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ji(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,r,e,n),t=Rs(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),xs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===R)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Es(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Es(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,_s(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Ts(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Li(e,t),Vi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Is(e,t,r,n,o=us(Error(i(423)),t));break e}if(r!==o){t=Is(e,t,r,n,o=us(Error(i(424)),t));break e}for(oi=uo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=Hs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ci(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Cs(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return js(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ws(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,_o(Ai,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Io.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Bi(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Ti(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ii(t,n),r=r(o=Pi(o)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),Ss(e,t,r,o=ns(r.type,o),n);case 15:return As(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Vs(e,t),t.tag=1,Mo(r)?(e=!0,jo(t)):e=!1,Ii(t,n),as(t,r,o),ls(t,r,o,n),Rs(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return ks(e,t,n)}throw Error(i(156,t.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Hu(a);s.call(e)}}Vu(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Hu(a);i.call(e)}}var a=Uu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[mo]=a.current,Ur(8===e.nodeType?e.parentNode:e),cu(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[mo]=l.current,Ur(8===e.nodeType?e.parentNode:e),cu((function(){Vu(t,l,n,r)})),l}(n,t,e,o,r);return Hu(a)}Xu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vu(e,t,null,null)},Xu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Vu(null,e,null,null)})),t[mo]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Qe()),0===(6&Rl)&&(Ul=Qe()+500,Vo()))}break;case 13:cu((function(){var t=Di(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Gu(e,1)}},St=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)nu(t,e,134217728,eu());Gu(e,134217728)}},At=function(e){if(13===e.tag){var t=tu(e),n=Di(e,t);if(null!==n)nu(n,e,t,eu());Gu(e,t)}},kt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));q(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Re=uu,Te=cu;var ec={usingClientEntryPoint:!1,Events:[xo,wo,So,Ee,_e,uu]},tc={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ot=rc.inject(nc),it=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(i(299));var n=!1,r="",o=qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(i(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uu(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xu(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(i(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(i(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},5958:(e,t,n)=>{var r=n(2931),o=function(e){var t="",n=Object.keys(e);return n.forEach((function(o,i){var a=e[o];(function(e){return/[height|width]$/.test(e)})(o=r(o))&&"number"===typeof a&&(a+="px"),t+=!0===a?o:!1===a?"not "+o:"("+o+": "+a+")",i<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=o(n),r<e.length-1&&(t+=", ")})),t):o(e)}},6039:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},6167:(e,t,n)=>{"use strict";n.d(t,{A:()=>B});var r=n(8168),o=n(8587),i=n(8172),a=n(1460),s=n(6222),l=n(2748),u=n(8638);var c=n(2610);const d={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},f={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},h={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function S(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,c.a)(e.main,o):"dark"===t&&(e.dark=(0,c.e$)(e.main,i)))}function A(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:s=.2}=e,l=(0,o.A)(e,b),u=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[700],light:v[400],dark:v[800]}}(t),A=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[200],light:f[50],dark:f[400]}:{main:f[500],light:f[300],dark:f[700]}}(t),k=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[500],light:h[300],dark:h[700]}:{main:h[700],light:h[400],dark:h[800]}}(t),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[700],light:g[500],dark:g[900]}}(t),E=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(t),_=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function R(e){return(0,c.eM)(e,w.text.primary)>=n?w.text.primary:x.text.primary}const T=e=>{let{color:t,name:n,mainShade:o=500,lightShade:a=300,darkShade:l=700}=e;if(t=(0,r.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,i.A)(11,n?` (${n})`:"",o));if("string"!==typeof t.main)throw new Error((0,i.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return S(t,"light",a,s),S(t,"dark",l,s),t.contrastText||(t.contrastText=R(t.main)),t},I={dark:w,light:x};return(0,a.A)((0,r.A)({common:(0,r.A)({},d),mode:t,primary:T({color:u,name:"primary"}),secondary:T({color:A,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:T({color:k,name:"error"}),warning:T({color:_,name:"warning"}),info:T({color:C,name:"info"}),success:T({color:E,name:"success"}),grey:p,contrastThreshold:n,getContrastText:R,augmentColor:T,tonalOffset:s},I[t]),l)}const k=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const C={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function _(e,t){const n="function"===typeof t?t(e):t,{fontFamily:i=E,fontSize:s=14,fontWeightLight:l=300,fontWeightRegular:u=400,fontWeightMedium:c=500,fontWeightBold:d=700,htmlFontSize:p=16,allVariants:f,pxToRem:h}=n,m=(0,o.A)(n,k);const v=s/14,g=h||(e=>e/p*v+"rem"),y=(e,t,n,o,a)=>{return(0,r.A)({fontFamily:i,fontWeight:e,fontSize:g(t),lineHeight:n},i===E?{letterSpacing:(s=o/t,Math.round(1e5*s)/1e5)+"em"}:{},a,f);var s},b={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(u,48,1.167,0),h4:y(u,34,1.235,.25),h5:y(u,24,1.334,0),h6:y(c,20,1.6,.15),subtitle1:y(u,16,1.75,.15),subtitle2:y(c,14,1.57,.1),body1:y(u,16,1.5,.15),body2:y(u,14,1.43,.15),button:y(c,14,1.75,.4,C),caption:y(u,12,1.66,.4),overline:y(u,12,2.66,1,C),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,a.A)((0,r.A)({htmlFontSize:p,pxToRem:g,fontFamily:i,fontSize:s,fontWeightLight:l,fontWeightRegular:u,fontWeightMedium:c,fontWeightBold:d},b),m,{clone:!1})}function R(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const T=["none",R(0,2,1,-1,0,1,1,0,0,1,3,0),R(0,3,1,-2,0,2,2,0,0,1,5,0),R(0,3,3,-2,0,3,4,0,0,1,8,0),R(0,2,4,-1,0,4,5,0,0,1,10,0),R(0,3,5,-1,0,5,8,0,0,1,14,0),R(0,3,5,-1,0,6,10,0,0,1,18,0),R(0,4,5,-2,0,7,10,1,0,2,16,1),R(0,5,5,-3,0,8,10,1,0,3,14,2),R(0,5,6,-3,0,9,12,1,0,3,16,2),R(0,6,6,-3,0,10,14,1,0,4,18,3),R(0,6,7,-4,0,11,15,1,0,4,20,3),R(0,7,8,-4,0,12,17,2,0,5,22,4),R(0,7,8,-4,0,13,19,2,0,5,24,4),R(0,7,9,-4,0,14,21,2,0,5,26,4),R(0,8,9,-5,0,15,22,2,0,6,28,5),R(0,8,10,-5,0,16,24,2,0,6,30,5),R(0,8,11,-5,0,17,26,2,0,6,32,5),R(0,9,11,-5,0,18,28,2,0,7,34,6),R(0,9,12,-6,0,19,29,2,0,7,36,6),R(0,10,13,-6,0,20,31,3,0,8,38,7),R(0,10,13,-6,0,21,33,3,0,8,40,7),R(0,10,14,-6,0,22,35,3,0,8,42,7),R(0,11,14,-7,0,23,36,3,0,9,44,8),R(0,11,15,-7,0,24,38,3,0,9,46,8)],I=["duration","easing","delay"],P={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},O={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function M(e){return`${Math.round(e)}ms`}function N(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function D(e){const t=(0,r.A)({},P,e.easing),n=(0,r.A)({},O,e.duration);return(0,r.A)({getAutoHeightDuration:N,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:a=t.easeInOut,delay:s=0}=r;(0,o.A)(r,I);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:M(i)} ${a} ${"string"===typeof s?s:M(s)}`)).join(",")}},e,{easing:t,duration:n})}const F={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},j=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function L(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:c={},typography:d={}}=e,p=(0,o.A)(e,j);if(e.vars&&void 0===e.generateCssVars)throw new Error((0,i.A)(18));const f=A(n),h=(0,u.A)(e);let m=(0,a.A)(h,{mixins:(v=h.breakpoints,g=t,(0,r.A)({toolbar:{minHeight:56,[v.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[v.up("sm")]:{minHeight:64}}},g)),palette:f,shadows:T.slice(),typography:_(f,d),transitions:D(c),zIndex:(0,r.A)({},F)});var v,g;m=(0,a.A)(m,p);for(var y=arguments.length,b=new Array(y>1?y-1:0),x=1;x<y;x++)b[x-1]=arguments[x];return m=b.reduce(((e,t)=>(0,a.A)(e,t)),m),m.unstable_sxConfig=(0,r.A)({},s.A,null==p?void 0:p.unstable_sxConfig),m.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},m}const B=L},6222:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var r=n(1392),o=n(6858),i=n(3351);const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};var s=n(8871);function l(e){return"number"!==typeof e?e:`${e}px solid`}function u(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const c=u("border",l),d=u("borderTop",l),p=u("borderRight",l),f=u("borderBottom",l),h=u("borderLeft",l),m=u("borderColor"),v=u("borderTopColor"),g=u("borderRightColor"),y=u("borderBottomColor"),b=u("borderLeftColor"),x=u("outline",l),w=u("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,s.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];a(c,d,p,f,h,m,v,g,y,b,S,x,w);const A=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,s.NI)(e,e.gap,n)}return null};A.propTypes={},A.filterProps=["gap"];const k=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.columnGap,n)}return null};k.propTypes={},k.filterProps=["columnGap"];const C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];a(A,k,C,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function E(e,t){return"grey"===t?t:e}a((0,o.Ay)({prop:"color",themeKey:"palette",transform:E}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:E}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:E}));function _(e){return e<=1&&0!==e?100*e+"%":e}const R=(0,o.Ay)({prop:"width",transform:_}),T=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||s.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:_(t)}};return(0,s.NI)(e,e.maxWidth,t)}return null};T.filterProps=["maxWidth"];const I=(0,o.Ay)({prop:"minWidth",transform:_}),P=(0,o.Ay)({prop:"height",transform:_}),O=(0,o.Ay)({prop:"maxHeight",transform:_}),M=(0,o.Ay)({prop:"minHeight",transform:_}),N=((0,o.Ay)({prop:"size",cssProperty:"width",transform:_}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:_}),a(R,T,I,P,O,M,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:E},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:E},backgroundColor:{themeKey:"palette",transform:E},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:A},rowGap:{style:C},columnGap:{style:k},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_},maxWidth:{style:T},minWidth:{transform:_},height:{transform:_},maxHeight:{transform:_},minHeight:{transform:_},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},6243:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function p(e){return e.length}function f(e){return e.length}function h(e,t){return t.push(e),e}var m=1,v=1,g=0,y=0,b=0,x="";function w(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:m,column:v,length:a,return:""}}function S(e,t){return a(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function A(){return b=y>0?c(x,--y):0,v--,10===b&&(v=1,m--),b}function k(){return b=y<g?c(x,y++):0,v++,10===b&&(v=1,m++),b}function C(){return c(x,y)}function E(){return y}function _(e,t){return d(x,e,t)}function R(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T(e){return m=v=1,g=p(x=e),y=0,[]}function I(e){return x="",e}function P(e){return s(_(y-1,N(91===e?e+2:40===e?e+1:e)))}function O(e){for(;(b=C())&&b<33;)k();return R(e)>2||R(b)>3?"":" "}function M(e,t){for(;--t&&k()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return _(e,E()+(t<6&&32==C()&&32==k()))}function N(e){for(;k();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&N(b);break;case 40:41===e&&N(e);break;case 92:k()}return y}function D(e,t){for(;k()&&e+b!==57&&(e+b!==84||47!==C()););return"/*"+_(t,y-1)+"*"+i(47===e?e:k())}function F(e){for(;!R(C());)k();return _(e,y)}var j="-ms-",L="-moz-",B="-webkit-",z="comm",W="rule",U="decl",V="@keyframes";function H(e,t){for(var n="",r=f(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function $(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case U:return e.return=e.return||e.value;case z:return"";case V:return e.return=e.value+"{"+H(e.children,r)+"}";case W:e.value=e.props.join(",")}return p(n=H(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e){return I(q("",null,null,null,[""],e=T(e),0,[0],e))}function q(e,t,n,r,o,a,s,d,f){for(var m=0,v=0,g=s,y=0,b=0,x=0,w=1,S=1,_=1,R=0,T="",I=o,N=a,j=r,L=T;S;)switch(x=R,R=k()){case 40:if(108!=x&&58==c(L,g-1)){-1!=u(L+=l(P(R),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:L+=P(R);break;case 9:case 10:case 13:case 32:L+=O(x);break;case 92:L+=M(E()-1,7);continue;case 47:switch(C()){case 42:case 47:h(X(D(k(),E()),t,n),f);break;default:L+="/"}break;case 123*w:d[m++]=p(L)*_;case 125*w:case 59:case 0:switch(R){case 0:case 125:S=0;case 59+v:-1==_&&(L=l(L,/\f/g,"")),b>0&&p(L)-g&&h(b>32?Y(L+";",r,n,g-1):Y(l(L," ","")+";",r,n,g-2),f);break;case 59:L+=";";default:if(h(j=K(L,t,n,m,v,o,d,T,I=[],N=[],g),a),123===R)if(0===v)q(L,t,j,j,I,a,g,d,N);else switch(99===y&&110===c(L,3)?100:y){case 100:case 108:case 109:case 115:q(e,j,j,r&&h(K(e,j,j,0,0,o,d,T,o,I=[],g),N),o,N,g,d,r?I:N);break;default:q(L,j,j,j,[""],N,0,d,N)}}m=v=b=0,w=_=1,T=L="",g=s;break;case 58:g=1+p(L),b=x;default:if(w<1)if(123==R)--w;else if(125==R&&0==w++&&125==A())continue;switch(L+=i(R),R*w){case 38:_=v>0?1:(L+="\f",-1);break;case 44:d[m++]=(p(L)-1)*_,_=1;break;case 64:45===C()&&(L+=P(k())),y=C(),v=g=p(T=L+=F(E())),R++;break;case 45:45===x&&2==p(L)&&(w=0)}}return a}function K(e,t,n,r,i,a,u,c,p,h,m){for(var v=i-1,g=0===i?a:[""],y=f(g),b=0,x=0,S=0;b<r;++b)for(var A=0,k=d(e,v+1,v=o(x=u[b])),C=e;A<y;++A)(C=s(x>0?g[A]+" "+k:l(k,/&\f/g,g[A])))&&(p[S++]=C);return w(e,t,n,0===i?W:c,p,h,m)}function X(e,t,n){return w(e,t,n,z,i(b),d(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,U,d(e,0,r),d(e,r+1,-1),r)}var Q=function(e,t,n){for(var r=0,o=0;r=o,o=C(),38===r&&12===o&&(t[n]=1),!R(o);)k();return _(e,y)},J=function(e,t){return I(function(e,t){var n=-1,r=44;do{switch(R(r)){case 0:38===r&&12===C()&&(t[n]=1),e[n]+=Q(y-1,t,n);break;case 2:e[n]+=P(r);break;case 4:if(44===r){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=k());return e}(T(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var o=[],i=J(t,o),a=n.props,s=0,l=0;s<i.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=o[s]?i[s].replace(/&\f/g,a[u]):a[u]+" "+i[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return B+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return B+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return B+e+L+e+j+e+e;case 6828:case 4268:return B+e+j+e+e;case 6165:return B+e+j+"flex-"+e+e;case 5187:return B+e+l(e,/(\w+).+(:[^]+)/,B+"box-$1$2"+j+"flex-$1$2")+e;case 5443:return B+e+j+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return B+e+j+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return B+e+j+l(e,"shrink","negative")+e;case 5292:return B+e+j+l(e,"basis","preferred-size")+e;case 6060:return B+"box-"+l(e,"-grow","")+B+e+j+l(e,"grow","positive")+e;case 4554:return B+l(e,/([^-])(transform)/g,"$1"+B+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,B+"$1"),/(image-set)/,B+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,B+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,B+"box-pack:$3"+j+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+B+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,B+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(p(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+B+"$2-$3$1"+L+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,p(e)-3-(~u(e,"!important")&&10))){case 107:return l(e,":",":"+B)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+B+(45===c(e,14)?"inline-":"")+"box$3$1"+B+"$2$3$1"+j+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return B+e+j+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return B+e+j+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return B+e+j+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return B+e+j+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case U:e.return=ne(e.value,e.length);break;case V:return H([S(e,{value:l(e.value,"@","@"+B)})],r);case W:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return H([S(e,{props:[l(t,/:(plac\w+)/,":"+B+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,j+"input-$1")]})],r)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,i,a=e.stylisPlugins||re,s={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var u,c,d=[$,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],p=function(e){var t=f(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}([ee,te].concat(a,d));i=function(e,t,n,r){u=n,H(G(e?e+"{"+t.styles+"}":t.styles),p),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return h.sheet.hydrate(l),h}},6590:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8172);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},6661:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"}),"MusicNote")},6687:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP17.0cd4ae2373b46d3bc572.webp"},6723:(e,t,n)=>{"use strict";e.exports=n(9009)},6839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(9277)},6855:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s});var r=n(2036),o=n(3682),i=n(5663),a=n(7475);const s=(0,r.Ay)({themeId:i.A,defaultTheme:o.A,rootShouldForwardProp:a.A})},6858:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,BO:()=>a,Yn:()=>i});var r=n(6590),o=n(8871);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function a(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}const s=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:s,transform:l}=e,u=e=>{if(null==e[t])return null;const u=e[t],c=i(e.theme,s)||{};return(0,o.NI)(e,u,(e=>{let o=a(c,l,e);return e===o&&"string"===typeof e&&(o=a(c,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?o:{[n]:o}}))};return u.propTypes={},u.filterProps=[t],u}},6908:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{A:()=>r})},6967:e=>{e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},6990:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP14.3fd65c2a388516af5cf2.webp"},7029:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP19.76f5e5b9bfdb46d57a05.webp"},7089:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var o=s(n(2483)),i=s(n(1097)),a=n(976);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){var t,n,r,o,i;return r=(i=e.rtl?e.slideCount-1-e.index:e.index)<0||i>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),n=(i-e.currentSlide)%e.slideCount===0,i>e.currentSlide-o-1&&i<=e.currentSlide+o&&(t=!0)):t=e.currentSlide<=i&&i<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":i===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},y=function(e,t){return e.key||t},b=function(e){var t,n=[],r=[],s=[],l=o.default.Children.count(e.children),u=(0,a.lazyStartIndex)(e),c=(0,a.lazyEndIndex)(e);return o.default.Children.forEach(e.children,(function(d,p){var f,h={message:"children",index:p,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};f=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(p)>=0?d:o.default.createElement("div",null);var v=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(m(m({},e),{},{index:p})),b=f.props.className||"",x=g(m(m({},e),{},{index:p}));if(n.push(o.default.cloneElement(f,{key:"original"+y(f,p),"data-index":p,className:(0,i.default)(x,b),tabIndex:"-1","aria-hidden":!x["slick-active"],style:m(m({outline:"none"},f.props.style||{}),v),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&!1===e.fade){var w=l-p;w<=(0,a.getPreClones)(e)&&l!==e.slidesToShow&&((t=-w)>=u&&(f=d),x=g(m(m({},e),{},{index:t})),r.push(o.default.cloneElement(f,{key:"precloned"+y(f,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(x,b),"aria-hidden":!x["slick-active"],style:m(m({},f.props.style||{}),v),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}}))),l!==e.slidesToShow&&((t=l+p)<c&&(f=d),x=g(m(m({},e),{},{index:t})),s.push(o.default.cloneElement(f,{key:"postcloned"+y(f,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(x,b),"aria-hidden":!x["slick-active"],style:m(m({},f.props.style||{}),v),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})))}})),e.rtl?r.concat(n,s).reverse():r.concat(n,s)},x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(a,e);var t,n,r,i=d(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(p(e=i.call.apply(i,[this].concat(n))),"node",null),v(p(e),"handleRef",(function(t){e.node=t})),e}return t=a,(n=[{key:"render",value:function(){var e=b(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return o.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.default.PureComponent);t.Track=x},7122:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(v=!1,x(e),!m)if(null!==r(u))m=!0,M(S);else{var t=r(c);null!==t&&N(w,t.startTime-e)}}function S(e,n){m=!1,v&&(v=!1,y(E),E=-1),h=!0;var i=f;try{for(x(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!T());){var a=p.callback;if("function"===typeof a){p.callback=null,f=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(u)&&o(u),x(n)}else o(u);p=r(u)}if(null!==p)var l=!0;else{var d=r(c);null!==d&&N(w,d.startTime-n),l=!1}return l}finally{p=null,f=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,k=!1,C=null,E=-1,_=5,R=-1;function T(){return!(t.unstable_now()-R<_)}function I(){if(null!==C){var e=t.unstable_now();R=e;var n=!0;try{n=C(!0,e)}finally{n?A():(k=!1,C=null)}}else k=!1}if("function"===typeof b)A=function(){b(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=I,A=function(){O.postMessage(null)}}else A=function(){g(I,0)};function M(e){C=e,k||(k=!0,A())}function N(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(v?(y(E),E=-1):v=!0,N(w,i-a))):(e.sortIndex=s,n(u,e),m||h||(m=!0,M(S))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7147:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(2644).A},7201:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,A:()=>s});var r=n(2483);const o={};const i=[];class a{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new a}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function s(){const e=function(e,t){const n=r.useRef(o);return n.current===o&&(n.current=e(t)),n}(a.create).current;var t;return t=e.disposeEffect,r.useEffect(t,i),e}},7241:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(8172)},7266:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},7318:()=>{},7328:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP7.969bc848a8b0e081ea9b.webp"},7439:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP.078f026ae7506ea3785a.jpg"},7475:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(835);const o=e=>(0,r.A)(e)&&"classes"!==e},7584:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var o=s(n(2483)),i=s(n(1097)),a=n(976);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(f,e);var t,n,r,s=p(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s.apply(this,arguments)}return t=f,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,c=t.infinite,d=t.slidesToScroll,p=t.slidesToShow,f=t.slideCount,h=t.currentSlide,m=(e={slideCount:f,slidesToScroll:d,slidesToShow:p,infinite:c}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,v={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},g=[],y=0;y<m;y++){var b=(y+1)*d-1,x=c?b:(0,a.clamp)(b,0,f-1),w=x-(d-1),S=c?w:(0,a.clamp)(w,0,f-1),A=(0,i.default)({"slick-active":c?h>=S&&h<=x:h===S}),k={message:"dots",index:y,slidesToScroll:d,currentSlide:h},C=this.clickHandler.bind(this,k);g=g.concat(o.default.createElement("li",{key:y,className:A},o.default.cloneElement(this.props.customPaging(y),{onClick:C})))}return o.default.cloneElement(this.props.appendDots(g),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},v))}}],n&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(o.default.PureComponent);t.Dots=h},7697:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},7749:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(8587),o=n(8168);const i=["values","unit","step"],a=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function s(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:s=5}=e,l=(0,r.A)(e,i),u=a(t),c=Object.keys(u);function d(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function p(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-s/100}${n})`}function f(e,r){const o=c.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[c[o]]?t[c[o]]:r)-s/100}${n})`}return(0,o.A)({keys:c,values:u,up:d,down:p,between:f,only:function(e){return c.indexOf(e)+1<c.length?f(e,c[c.indexOf(e)+1]):d(e)},not:function(e){const t=c.indexOf(e);return 0===t?d(c[1]):t===c.length-1?p(c[t]):f(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},7837:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(8638),o=n(7749),i=n(6039)},8082:()=>{},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8172:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},8395:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M14 10H3v2h11zm0-4H3v2h11zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2zM3 16h7v-2H3z"}),"PlaylistAdd")},8419:(e,t,n)=>{var r=n(9867),o=n(6967).each;function i(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}i.prototype={constuctor:i,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;o(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){o(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";o(this.handlers,(function(t){t[e]()}))}},e.exports=i},8423:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case i:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case v:case m:case l:return e;default:return t}}case o:return t}}}function S(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||w(e)===c},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===a||e===f||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=w},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8638:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(8168),o=n(8587),i=n(1460),a=n(7749);const s={borderRadius:4};var l=n(1392);var u=n(2748),c=n(6222),d=n(6039);const p=["breakpoints","palette","spacing","shape"];const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:f,shape:h={}}=e,m=(0,o.A)(e,p),v=(0,a.A)(t),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}(f);let y=(0,i.A)({breakpoints:v,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:g,shape:(0,r.A)({},s,h)},m);y.applyStyles=d.A;for(var b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];return y=x.reduce(((e,t)=>(0,i.A)(e,t)),y),y.unstable_sxConfig=(0,r.A)({},c.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,u.A)({sx:e,theme:this})},y}},8669:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(6839)),i=n(6723);t.A=(0,o.default)((0,i.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"}),"LightMode")},8831:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(2483),o=n(7201);let i=!0,a=!1;const s=new o.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function c(){i=!1}function d(){"hidden"===this.visibilityState&&a&&(i=!0)}function p(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const f=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",d,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!p(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,s.start(100,(()=>{a=!1})),t.current=!1,!0)},ref:e}}},8871:(e,t,n)=>{"use strict";n.d(t,{EU:()=>s,NI:()=>a,iZ:()=>u,kW:()=>c,vf:()=>l,zu:()=>o});var r=n(1460);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${o[e]}px)`};function a(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||i;return t.reduce(((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"===typeof t){const e=r.breakpoints||i;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||o).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function u(e){const t=s(e);for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];const a=[t,...o].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),a)}function c(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),i=Object.keys(o);if(0===i.length)return t;let a;return i.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[a],a=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[a],a=n):e[n]=t,e)),{})}},8921:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP20.8986027a15ab947beb11.webp"},9009:(e,t,n)=>{"use strict";var r=n(2483),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},9104:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/OIP13.ca8fac492a4b9cc00f73.webp"},9277:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>o.A,createChainedFunction:()=>i,createSvgIcon:()=>a.A,debounce:()=>s.A,deprecatedPropType:()=>l,isMuiElement:()=>u.A,ownerDocument:()=>c.A,ownerWindow:()=>d.A,requirePropFactory:()=>p,setRef:()=>f,unstable_ClassNameGenerator:()=>w,unstable_useEnhancedEffect:()=>h.A,unstable_useId:()=>m.A,unsupportedProp:()=>v,useControlled:()=>g.A,useEventCallback:()=>y.A,useForkRef:()=>b.A,useIsFocusVisible:()=>x.A});var r=n(1354),o=n(1251);const i=n(1256).A;var a=n(1338),s=n(4246);const l=function(e,t){return()=>null};var u=n(5188),c=n(7147),d=n(5246);const p=function(e,t){return()=>null};const f=n(2548).A;var h=n(757),m=n(2823);const v=function(e,t,n,r,o){return null};var g=n(4268),y=n(1063),b=n(4201),x=n(8831);const w={configure:e=>{r.A.configure(e)}}},9321:(e,t,n)=>{var r=n(8419),o=n(6967),i=o.each,a=o.isFunction,s=o.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var o=this.queries,l=n&&this.browserIsIncapable;return o[e]||(o[e]=new r(e,l)),a(t)&&(t={match:t}),s(t)||(t=[t]),i(t,(function(t){a(t)&&(t={match:t}),o[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},9404:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>s,s:()=>a});var o=n(2483),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,a=i||function(e){return e()},s=i||o.useLayoutEffect},9410:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(2483),o=n(1366);n(6723);const i=r.createContext(void 0);function a(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?(0,o.A)(i.defaultProps,r):i.styleOverrides||i.variants?r:(0,o.A)(i,r)}({props:t,name:n,theme:{components:r.useContext(i)}})}function s(e){return a(e)}},9470:(e,t,n)=>{"use strict";var r;t.A=void 0;var o=((r=n(1665))&&r.__esModule?r:{default:r}).default;t.A=o},9765:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}n.d(t,{A:()=>o});const o=function(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},9770:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(8168),o=n(8587),i=n(1460),a=n(6222);const s=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:a.A;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function u(e){const{sx:t}=e,n=(0,o.A)(e,s),{systemProps:a,otherProps:u}=l(n);let c;return c=Array.isArray(t)?[a,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,i.Q)(e)?(0,r.A)({},a,e):a}:(0,r.A)({},a,t),(0,r.A)({},u,{sx:c})}},9867:e=>{function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},9998:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(5914)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".3052be3a.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="moodify-app-frontend:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/moodifyme-entertainment-platform/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],l=r[2],u=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkmoodify_app_frontend=self.webpackChunkmoodify_app_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>oa,hasStandardBrowserEnv:()=>aa,hasStandardBrowserWebWorkerEnv:()=>sa,navigator:()=>ia,origin:()=>la});var t,r=n(2483),o=n.t(r,2),i=n(9998),a=n.t(i,2);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(wd){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,n,r,o){void 0===o&&(o={});let{window:i=document.defaultView,v5Compat:a=!1}=o,c=i.history,h=t.Pop,m=null,v=g();function g(){return(c.state||{idx:null}).idx}function y(){h=t.Pop;let e=g(),n=null==e?null:e-v;v=e,m&&m({action:h,location:x.location,delta:n})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==v&&(v=0,c.replaceState(s({},c.state,{idx:v}),""));let x={get action(){return h},get location(){return e(i,c)},listen(e){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(l,y),m=e,()=>{i.removeEventListener(l,y),m=null}},createHref:e=>n(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let o=p(x.location,e,n);r&&r(o,e),v=g()+1;let s=d(o,v),l=x.createHref(o);try{c.pushState(s,"",l)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;i.location.assign(l)}a&&m&&m({action:h,location:x.location,delta:1})},replace:function(e,n){h=t.Replace;let o=p(x.location,e,n);r&&r(o,e),v=g();let i=d(o,v),s=x.createHref(o);c.replaceState(i,"",s),a&&m&&m({action:h,location:x.location,delta:0})},go:e=>c.go(e)};return x}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let o=O(("string"===typeof t?h(t):t).pathname||"/",n);if(null==o)return null;let i=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=P(o);a=T(i[s],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(u(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=j([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),b(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:R(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))o(e,t,r);else o(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=x(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,S=3,A=2,k=1,C=10,E=-2,_=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=E),t&&(r+=A),n.filter((e=>!_(e))).reduce(((e,t)=>e+(w.test(t)?S:""===t?k:C)),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,u="/"===i?t:t.slice(i.length)||"/",c=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(o,c.params),a.push({params:o,pathname:j([i,c.pathname]),pathnameBase:L(j([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=j([i,c.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e,t){let n=N(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=h(e):(o=s({},e),u(!o.pathname||!o.pathname.includes("?"),M("?","pathname","search",o)),u(!o.pathname||!o.pathname.includes("#"),M("#","pathname","hash",o)),u(!o.search||!o.search.includes("#"),M("#","search","hash",o)));let i,a=""===e||""===o.pathname,l=a?"/":o.pathname;if(null==l)i=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"===typeof e?h(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:B(r),hash:z(o)}}(o,i),d=l&&"/"!==l&&l.endsWith("/"),p=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!p||(c.pathname+="/"),c}const j=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],V=(new Set(U),["get",...U]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const $=r.createContext(null);const G=r.createContext(null);const q=r.createContext(null);const K=r.createContext(null);const X=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=r.createContext(null);function Q(){return null!=r.useContext(K)}function J(){return Q()||u(!1),r.useContext(K).location}function Z(e){r.useContext(q).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(X);return e?function(){let{router:e}=ce(le.UseNavigateStable),t=pe(ue.UseNavigateStable),n=r.useRef(!1);Z((()=>{n.current=!0}));let o=r.useCallback((function(r,o){void 0===o&&(o={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},o)))}),[e,t]);return o}():function(){Q()||u(!1);let e=r.useContext($),{basename:t,future:n,navigator:o}=r.useContext(q),{matches:i}=r.useContext(X),{pathname:a}=J(),s=JSON.stringify(D(i,n.v7_relativeSplatPath)),l=r.useRef(!1);Z((()=>{l.current=!0}));let c=r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void o.go(n);let i=F(n,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:j([t,i.pathname])),(r.replace?o.replace:o.push)(i,r.state,r)}),[t,o,s,a,e]);return c}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:o}=r.useContext(q),{matches:i}=r.useContext(X),{pathname:a}=J(),s=JSON.stringify(D(i,o.v7_relativeSplatPath));return r.useMemo((()=>F(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function ne(e,n,o,i){Q()||u(!1);let{navigator:a,static:s}=r.useContext(q),{matches:l}=r.useContext(X),c=l[l.length-1],d=c?c.params:{},p=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,m=J();if(n){var v;let e="string"===typeof n?h(n):n;"/"===p||(null==(v=e.pathname)?void 0:v.startsWith(p))||u(!1),f=e}else f=m;let y=f.pathname||"/",b=y;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!s&&o&&o.matches&&o.matches.length>0?o.matches:g(e,{pathname:b});let w=se(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:j([p,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:j([p,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,o,i);return n&&w?r.createElement(K.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:t.Pop}},w):w}function re(){let e=function(){var e;let t=r.useContext(Y),n=de(ue.UseRouteError),o=pe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[o]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,null)}const oe=r.createElement(re,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(X.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:o}=e,i=r.useContext($);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(X.Provider,{value:t},o)}function se(e,t,n,o){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===o&&(o=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=o)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||u(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,d=-1;if(n&&o&&o.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){c=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight(((e,o,i)=>{let a,u=!1,p=null,f=null;var h;n&&(a=l&&o.route.id?l[o.route.id]:void 0,p=o.route.errorElement||oe,c&&(d<0&&0===i?(h="route-fallback",!1||fe[h]||(fe[h]=!0),u=!0,f=null):d===i&&(u=!0,f=o.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,i+1)),v=()=>{let t;return t=a?p:u?f:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(ae,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===i)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:p,error:a,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function ce(e){let t=r.useContext($);return t||u(!1),t}function de(e){let t=r.useContext(G);return t||u(!1),t}function pe(e){let t=function(){let e=r.useContext(X);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const fe={};function he(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function me(e){u(!1)}function ve(e){let{basename:n="/",children:o=null,location:i,navigationType:a=t.Pop,navigator:s,static:l=!1,future:c}=e;Q()&&u(!1);let d=n.replace(/^\/*/,"/"),p=r.useMemo((()=>({basename:d,navigator:s,static:l,future:H({v7_relativeSplatPath:!1},c)})),[d,c,s,l]);"string"===typeof i&&(i=h(i));let{pathname:f="/",search:m="",hash:v="",state:g=null,key:y="default"}=i,b=r.useMemo((()=>{let e=O(f,d);return null==e?null:{location:{pathname:e,search:m,hash:v,state:g,key:y},navigationType:a}}),[d,f,m,v,g,y,a]);return null==b?null:r.createElement(q.Provider,{value:p},r.createElement(K.Provider,{children:o,value:b}))}function ge(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise((()=>{}));r.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,o)=>{if(!r.isValidElement(e))return;let i=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,i));e.type!==me&&u(!1),e.props.index&&e.props.children&&u(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ye(e.props.children,i)),n.push(a)})),n}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(wd){}new Map;const Se=o.startTransition;a.flushSync,o.useId;function Ae(e){let{basename:t,children:n,future:o,window:i}=e,a=r.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),m((function(e,t){let{pathname:n="/",search:r="",hash:o=""}=h(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),p("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:f(t))}),(function(e,t){c("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let l=a.current,[u,d]=r.useState({action:l.action,location:l.location}),{v7_startTransition:v}=o||{},g=r.useCallback((e=>{v&&Se?Se((()=>d(e))):d(e)}),[d,v]);return r.useLayoutEffect((()=>l.listen(g)),[l,g]),r.useEffect((()=>he(o)),[o]),r.createElement(ve,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:o})}const ke="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=r.forwardRef((function(e,t){let n,{onClick:o,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:d,preventScrollReset:p,viewTransition:h}=e,m=xe(e,we),{basename:v}=r.useContext(q),g=!1;if("string"===typeof d&&Ce.test(d)&&(n=d,ke))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=O(t.pathname,v);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(wd){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||u(!1);let{basename:o,navigator:i}=r.useContext(q),{hash:a,pathname:s,search:l}=te(e,{relative:n}),c=s;return"/"!==o&&(c="/"===s?o:j([o,s])),i.createHref({pathname:c,search:l,hash:a})}(d,{relative:i}),b=function(e,t){let{target:n,replace:o,state:i,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,u=ee(),c=J(),d=te(e,{relative:s});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==o?o:f(c)===f(d);u(e,{replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:l})}}),[c,u,d,o,i,n,e,a,s,l])}(d,{replace:s,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:h});return r.createElement("a",be({},m,{href:n||y,onClick:g||a?o:function(e){o&&o(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var _e,Re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_e||(_e={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));var Te=n(8168),Ie=n(8587),Pe=n(9765),Oe=n(2768),Me=n(2748),Ne=n(9770),De=n(8638),Fe=n(5385);const je=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(Fe.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},Le=(0,De.A)();const Be=function(){return je(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le)};var ze=n(6723);const We=["className","component"];var Ue=n(1354),Ve=n(6167),He=n(5663),$e=n(292);const Ge=(0,$e.A)("MuiBox",["root"]),qe=(0,Ve.A)(),Ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:i}=e,a=(0,Oe.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Me.A);return r.forwardRef((function(e,r){const s=Be(n),l=(0,Ne.A)(e),{className:u,component:c="div"}=l,d=(0,Ie.A)(l,We);return(0,ze.jsx)(a,(0,Te.A)({as:c,ref:r,className:(0,Pe.A)(u,i?i(o):o),theme:t&&s[t]||s},d))}))}({themeId:He.A,defaultTheme:qe,defaultClassName:Ge.root,generateClassName:Ue.A.generate}),Xe=Ke;var Ye=n(7266),Qe=n(6855),Je=n(9410);const Ze=r.createContext({});var et=n(4692);function tt(e){return(0,et.Ay)("MuiList",e)}(0,$e.A)("MuiList",["root","padding","dense","subheader"]);const nt=["children","className","component","dense","disablePadding","subheader"],rt=(0,Qe.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),ot=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiList"}),{children:o,className:i,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:u}=n,c=(0,Ie.A)(n,nt),d=r.useMemo((()=>({dense:s})),[s]),p=(0,Te.A)({},n,{component:a,dense:s,disablePadding:l}),f=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e,i={root:["root",!n&&"padding",r&&"dense",o&&"subheader"]};return(0,Ye.A)(i,tt,t)})(p);return(0,ze.jsx)(Ze.Provider,{value:d,children:(0,ze.jsxs)(rt,(0,Te.A)({as:a,className:(0,Pe.A)(f.root,i),ref:t,ownerState:p},c,{children:[u,o]}))})}));var it=n(2610);const at=function(e){return"string"===typeof e};var st=n(4201),lt=n(1063),ut=n(8831);function ct(e,t){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ct(e,t)}function dt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ct(e,t)}const pt=r.createContext(null);function ft(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function ht(e,t,n){return null!=n[t]?n[t]:e.props[t]}function mt(e,t,n){var o=ft(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var u=o[l][r];s[o[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}(t,o);return Object.keys(i).forEach((function(a){var s=i[a];if((0,r.isValidElement)(s)){var l=a in t,u=a in o,c=t[a],d=(0,r.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,r.isValidElement)(c)&&(i[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:ht(s,"exit",e),enter:ht(s,"enter",e)})):i[a]=(0,r.cloneElement)(s,{in:!1}):i[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:ht(s,"exit",e),enter:ht(s,"enter",e)})}})),i}var vt=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},gt=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}dt(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,o,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,o=a,ft(n.children,(function(e){return(0,r.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:ht(e,"appear",n),enter:ht(e,"enter",n),exit:ht(e,"exit",n)})}))):mt(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=ft(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,Te.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=(0,Ie.A)(e,["component","childFactory"]),i=this.state.contextValue,a=vt(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?r.createElement(pt.Provider,{value:i},a):r.createElement(pt.Provider,{value:i},r.createElement(t,o,a))},t}(r.Component);gt.propTypes={},gt.defaultProps={component:"div",childFactory:function(e){return e}};const yt=gt;var bt=n(4122),xt=n(7201);const wt=function(e){const{className:t,classes:n,pulsate:o=!1,rippleX:i,rippleY:a,rippleSize:s,in:l,onExited:u,timeout:c}=e,[d,p]=r.useState(!1),f=(0,Pe.A)(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),h={width:s,height:s,top:-s/2+a,left:-s/2+i},m=(0,Pe.A)(n.child,d&&n.childLeaving,o&&n.childPulsate);return l||d||p(!0),r.useEffect((()=>{if(!l&&null!=u){const e=setTimeout(u,c);return()=>{clearTimeout(e)}}}),[u,l,c]),(0,ze.jsx)("span",{className:f,style:h,children:(0,ze.jsx)("span",{className:m})})};const St=(0,$e.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),At=["center","classes","className"];let kt,Ct,Et,_t,Rt=e=>e;const Tt=(0,bt.i7)(kt||(kt=Rt`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),It=(0,bt.i7)(Ct||(Ct=Rt`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Pt=(0,bt.i7)(Et||(Et=Rt`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Ot=(0,Qe.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Mt=(0,Qe.Ay)(wt,{name:"MuiTouchRipple",slot:"Ripple"})(_t||(_t=Rt`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),St.rippleVisible,Tt,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),St.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),St.child,St.childLeaving,It,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),St.childPulsate,Pt,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),Nt=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:a}=n,s=(0,Ie.A)(n,At),[l,u]=r.useState([]),c=r.useRef(0),d=r.useRef(null);r.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const p=r.useRef(!1),f=(0,xt.A)(),h=r.useRef(null),m=r.useRef(null),v=r.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:a}=e;u((e=>[...e,(0,ze.jsx)(Mt,{classes:{ripple:(0,Pe.A)(i.ripple,St.ripple),rippleVisible:(0,Pe.A)(i.rippleVisible,St.rippleVisible),ripplePulsate:(0,Pe.A)(i.ripplePulsate,St.ripplePulsate),child:(0,Pe.A)(i.child,St.child),childLeaving:(0,Pe.A)(i.childLeaving,St.childLeaving),childPulsate:(0,Pe.A)(i.childPulsate,St.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},c.current)])),c.current+=1,d.current=a}),[i]),g=r.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:i=o||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&p.current)return void(p.current=!1);"touchstart"===(null==e?void 0:e.type)&&(p.current=!0);const s=a?null:m.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,c,d;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;u=Math.round(t-l.left),c=Math.round(n-l.top)}if(i)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-u),u)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-c),c)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===h.current&&(h.current=()=>{v({pulsate:r,rippleX:u,rippleY:c,rippleSize:d,cb:n})},f.start(80,(()=>{h.current&&(h.current(),h.current=null)}))):v({pulsate:r,rippleX:u,rippleY:c,rippleSize:d,cb:n})}),[o,v,f]),y=r.useCallback((()=>{g({},{pulsate:!0})}),[g]),b=r.useCallback(((e,t)=>{if(f.clear(),"touchend"===(null==e?void 0:e.type)&&h.current)return h.current(),h.current=null,void f.start(0,(()=>{b(e,t)}));h.current=null,u((e=>e.length>0?e.slice(1):e)),d.current=t}),[f]);return r.useImperativeHandle(t,(()=>({pulsate:y,start:g,stop:b})),[y,g,b]),(0,ze.jsx)(Ot,(0,Te.A)({className:(0,Pe.A)(St.root,i.root,a),ref:m},s,{children:(0,ze.jsx)(yt,{component:null,exit:!0,children:l})}))})),Dt=Nt;function Ft(e){return(0,et.Ay)("MuiButtonBase",e)}const jt=(0,$e.A)("MuiButtonBase",["root","disabled","focusVisible"]),Lt=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Bt=(0,Qe.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${jt.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zt=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:a,className:s,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:p=!1,LinkComponent:f="a",onBlur:h,onClick:m,onContextMenu:v,onDragLeave:g,onFocus:y,onFocusVisible:b,onKeyDown:x,onKeyUp:w,onMouseDown:S,onMouseLeave:A,onMouseUp:k,onTouchEnd:C,onTouchMove:E,onTouchStart:_,tabIndex:R=0,TouchRippleProps:T,touchRippleRef:I,type:P}=n,O=(0,Ie.A)(n,Lt),M=r.useRef(null),N=r.useRef(null),D=(0,st.A)(N,I),{isFocusVisibleRef:F,onFocus:j,onBlur:L,ref:B}=(0,ut.A)(),[z,W]=r.useState(!1);u&&z&&W(!1),r.useImperativeHandle(o,(()=>({focusVisible:()=>{W(!0),M.current.focus()}})),[]);const[U,V]=r.useState(!1);r.useEffect((()=>{V(!0)}),[]);const H=U&&!c&&!u;function $(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return(0,lt.A)((r=>{t&&t(r);return!n&&N.current&&N.current[e](r),!0}))}r.useEffect((()=>{z&&p&&!c&&U&&N.current.pulsate()}),[c,p,z,U]);const G=$("start",S),q=$("stop",v),K=$("stop",g),X=$("stop",k),Y=$("stop",(e=>{z&&e.preventDefault(),A&&A(e)})),Q=$("start",_),J=$("stop",C),Z=$("stop",E),ee=$("stop",(e=>{L(e),!1===F.current&&W(!1),h&&h(e)}),!1),te=(0,lt.A)((e=>{M.current||(M.current=e.currentTarget),j(e),!0===F.current&&(W(!0),b&&b(e)),y&&y(e)})),ne=()=>{const e=M.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=r.useRef(!1),oe=(0,lt.A)((e=>{p&&!re.current&&z&&N.current&&" "===e.key&&(re.current=!0,N.current.stop(e,(()=>{N.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!u&&(e.preventDefault(),m&&m(e))})),ie=(0,lt.A)((e=>{p&&" "===e.key&&N.current&&z&&!e.defaultPrevented&&(re.current=!1,N.current.stop(e,(()=>{N.current.pulsate(e)}))),w&&w(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let ae=l;"button"===ae&&(O.href||O.to)&&(ae=f);const se={};"button"===ae?(se.type=void 0===P?"button":P,se.disabled=u):(O.href||O.to||(se.role="button"),u&&(se["aria-disabled"]=u));const le=(0,st.A)(t,B,M);const ue=(0,Te.A)({},n,{centerRipple:i,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:p,tabIndex:R,focusVisible:z}),ce=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i={root:["root",t&&"disabled",n&&"focusVisible"]},a=(0,Ye.A)(i,Ft,o);return n&&r&&(a.root+=` ${r}`),a})(ue);return(0,ze.jsxs)(Bt,(0,Te.A)({as:ae,className:(0,Pe.A)(ce.root,s),ownerState:ue,onBlur:ee,onClick:m,onContextMenu:q,onFocus:te,onKeyDown:oe,onKeyUp:ie,onMouseDown:G,onMouseLeave:Y,onMouseUp:X,onDragLeave:K,onTouchEnd:J,onTouchMove:Z,onTouchStart:Q,ref:le,tabIndex:u?-1:R,type:P},se,O,{children:[a,H?(0,ze.jsx)(Dt,(0,Te.A)({ref:D,center:i},T)):null]}))}));var Wt=n(5188),Ut=n(757);function Vt(e){return(0,et.Ay)("MuiListItem",e)}const Ht=(0,$e.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const $t=(0,$e.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Gt(e){return(0,et.Ay)("MuiListItemSecondaryAction",e)}(0,$e.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const qt=["className"],Kt=(0,Qe.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),Xt=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:o}=n,i=(0,Ie.A)(n,qt),a=r.useContext(Ze),s=(0,Te.A)({},n,{disableGutters:a.disableGutters}),l=(e=>{const{disableGutters:t,classes:n}=e,r={root:["root",t&&"disableGutters"]};return(0,Ye.A)(r,Gt,n)})(s);return(0,ze.jsx)(Kt,(0,Te.A)({className:(0,Pe.A)(l.root,o),ownerState:s,ref:t},i))}));Xt.muiName="ListItemSecondaryAction";const Yt=Xt,Qt=["className"],Jt=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Zt=(0,Qe.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,Te.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{[`& > .${$t.root}`]:{paddingRight:48}},{[`&.${Ht.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ht.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,it.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ht.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,it.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ht.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ht.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,it.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,it.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),en=(0,Qe.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),tn=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiListItem"}),{alignItems:o="center",autoFocus:i=!1,button:a=!1,children:s,className:l,component:u,components:c={},componentsProps:d={},ContainerComponent:p="li",ContainerProps:{className:f}={},dense:h=!1,disabled:m=!1,disableGutters:v=!1,disablePadding:g=!1,divider:y=!1,focusVisibleClassName:b,secondaryAction:x,selected:w=!1,slotProps:S={},slots:A={}}=n,k=(0,Ie.A)(n.ContainerProps,Qt),C=(0,Ie.A)(n,Jt),E=r.useContext(Ze),_=r.useMemo((()=>({dense:h||E.dense||!1,alignItems:o,disableGutters:v})),[o,E.dense,h,v]),R=r.useRef(null);(0,Ut.A)((()=>{i&&R.current&&R.current.focus()}),[i]);const T=r.Children.toArray(s),I=T.length&&(0,Wt.A)(T[T.length-1],["ListItemSecondaryAction"]),P=(0,Te.A)({},n,{alignItems:o,autoFocus:i,button:a,dense:_.dense,disabled:m,disableGutters:v,disablePadding:g,divider:y,hasSecondaryAction:I,selected:w}),O=(e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:i,disableGutters:a,disablePadding:s,divider:l,hasSecondaryAction:u,selected:c}=e,d={root:["root",o&&"dense",!a&&"gutters",!s&&"padding",l&&"divider",i&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]};return(0,Ye.A)(d,Vt,r)})(P),M=(0,st.A)(R,t),N=A.root||c.Root||Zt,D=S.root||d.root||{},F=(0,Te.A)({className:(0,Pe.A)(O.root,D.className,l),disabled:m},C);let j=u||"li";return a&&(F.component=u||"div",F.focusVisibleClassName=(0,Pe.A)(Ht.focusVisible,b),j=zt),I?(j=F.component||u?j:"div","li"===p&&("li"===j?j="div":"li"===F.component&&(F.component="div")),(0,ze.jsx)(Ze.Provider,{value:_,children:(0,ze.jsxs)(en,(0,Te.A)({as:p,className:(0,Pe.A)(O.container,f),ref:M,ownerState:P},k,{children:[(0,ze.jsx)(N,(0,Te.A)({},D,!at(N)&&{as:j,ownerState:(0,Te.A)({},P,D.ownerState)},F,{children:T})),T.pop()]}))})):(0,ze.jsx)(Ze.Provider,{value:_,children:(0,ze.jsxs)(N,(0,Te.A)({},D,{as:j,ref:M},!at(N)&&{ownerState:(0,Te.A)({},P,D.ownerState)},F,{children:[T,x&&(0,ze.jsx)(Yt,{children:x})]}))})}));function nn(e){return(0,et.Ay)("MuiListItemIcon",e)}const rn=(0,$e.A)("MuiListItemIcon",["root","alignItemsFlexStart"]),on=["className"],an=(0,Qe.Ay)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),sn=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiListItemIcon"}),{className:o}=n,i=(0,Ie.A)(n,on),a=r.useContext(Ze),s=(0,Te.A)({},n,{alignItems:a.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,Ye.A)(r,nn,n)})(s);return(0,ze.jsx)(an,(0,Te.A)({className:(0,Pe.A)(l.root,o),ownerState:s,ref:t},i))}));var ln=n(1251);function un(e){return(0,et.Ay)("MuiTypography",e)}(0,$e.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const cn=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],dn=(0,Qe.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,ln.A)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),pn={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fn={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},hn=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiTypography"}),r=(e=>fn[e]||e)(n.color),o=(0,Ne.A)((0,Te.A)({},n,{color:r})),{align:i="inherit",className:a,component:s,gutterBottom:l=!1,noWrap:u=!1,paragraph:c=!1,variant:d="body1",variantMapping:p=pn}=o,f=(0,Ie.A)(o,cn),h=(0,Te.A)({},o,{align:i,color:r,className:a,component:s,gutterBottom:l,noWrap:u,paragraph:c,variant:d,variantMapping:p}),m=s||(c?"p":p[d]||pn[d])||"span",v=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:a}=e,s={root:["root",i,"inherit"!==e.align&&`align${(0,ln.A)(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return(0,Ye.A)(s,un,a)})(h);return(0,ze.jsx)(dn,(0,Te.A)({as:m,ref:t,ownerState:h,className:(0,Pe.A)(v.root,a)},f))}));function mn(e){return(0,et.Ay)("MuiListItemText",e)}const vn=(0,$e.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),gn=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],yn=(0,Qe.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${vn.primary}`]:t.primary},{[`& .${vn.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),bn=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiListItemText"}),{children:o,className:i,disableTypography:a=!1,inset:s=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d}=n,p=(0,Ie.A)(n,gn),{dense:f}=r.useContext(Ze);let h=null!=l?l:o,m=c;const v=(0,Te.A)({},n,{disableTypography:a,inset:s,primary:!!h,secondary:!!m,dense:f}),g=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e,a={root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,Ye.A)(a,mn,t)})(v);return null==h||h.type===hn||a||(h=(0,ze.jsx)(hn,(0,Te.A)({variant:f?"body2":"body1",className:g.primary,component:null!=u&&u.variant?void 0:"span",display:"block"},u,{children:h}))),null==m||m.type===hn||a||(m=(0,ze.jsx)(hn,(0,Te.A)({variant:"body2",className:g.secondary,color:"text.secondary",display:"block"},d,{children:m}))),(0,ze.jsxs)(yn,(0,Te.A)({className:(0,Pe.A)(g.root,i),ownerState:v,ref:t},p,{children:[h,m]}))}));function xn(e){return(0,et.Ay)("MuiDivider",e)}const wn=(0,$e.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Sn=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],An=(0,Qe.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:(0,it.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,Te.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}})}),(e=>{let{ownerState:t}=e;return(0,Te.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),kn=(0,Qe.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},"vertical"===n.orientation&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})})),Cn=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:i,component:a=(o?"div":"hr"),flexItem:s=!1,light:l=!1,orientation:u="horizontal",role:c=("hr"!==a?"separator":void 0),textAlign:d="center",variant:p="fullWidth"}=n,f=(0,Ie.A)(n,Sn),h=(0,Te.A)({},n,{absolute:r,component:a,flexItem:s,light:l,orientation:u,role:c,textAlign:d,variant:p}),m=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:a,textAlign:s,variant:l}=e,u={root:["root",t&&"absolute",l,i&&"light","vertical"===a&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===a&&"withChildrenVertical","right"===s&&"vertical"!==a&&"textAlignRight","left"===s&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]};return(0,Ye.A)(u,xn,r)})(h);return(0,ze.jsx)(An,(0,Te.A)({as:a,className:(0,Pe.A)(m.root,i),role:c,ref:t,ownerState:h},f,{children:o?(0,ze.jsx)(kn,{className:m.wrapper,ownerState:h,children:o}):null}))}));Cn.muiSkipListHighlight=!0;const En=Cn;var _n=n(7475),Rn=n(4268);const Tn=r.createContext(void 0);function In(){return r.useContext(Tn)}function Pn(e){return(0,et.Ay)("PrivateSwitchBase",e)}(0,$e.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const On=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Mn=(0,Qe.Ay)(zt)((e=>{let{ownerState:t}=e;return(0,Te.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),Nn=(0,Qe.Ay)("input",{shouldForwardProp:_n.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Dn=r.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:o,className:i,defaultChecked:a,disabled:s,disableFocusRipple:l=!1,edge:u=!1,icon:c,id:d,inputProps:p,inputRef:f,name:h,onBlur:m,onChange:v,onFocus:g,readOnly:y,required:b=!1,tabIndex:x,type:w,value:S}=e,A=(0,Ie.A)(e,On),[k,C]=(0,Rn.A)({controlled:r,default:Boolean(a),name:"SwitchBase",state:"checked"}),E=In();let _=s;E&&"undefined"===typeof _&&(_=E.disabled);const R="checkbox"===w||"radio"===w,T=(0,Te.A)({},e,{checked:k,disabled:_,disableFocusRipple:l,edge:u}),I=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e,i={root:["root",n&&"checked",r&&"disabled",o&&`edge${(0,ln.A)(o)}`],input:["input"]};return(0,Ye.A)(i,Pn,t)})(T);return(0,ze.jsxs)(Mn,(0,Te.A)({component:"span",className:(0,Pe.A)(I.root,i),centerRipple:!0,focusRipple:!l,disabled:_,tabIndex:null,role:void 0,onFocus:e=>{g&&g(e),E&&E.onFocus&&E.onFocus(e)},onBlur:e=>{m&&m(e),E&&E.onBlur&&E.onBlur(e)},ownerState:T,ref:t},A,{children:[(0,ze.jsx)(Nn,(0,Te.A)({autoFocus:n,checked:r,defaultChecked:a,className:I.input,disabled:_,id:R?d:void 0,name:h,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;C(t),v&&v(e,t)},readOnly:y,ref:f,required:b,ownerState:T,tabIndex:x,type:w},"checkbox"===w&&void 0===S?{}:{value:S},p)),k?o:c]}))})),Fn=Dn;function jn(e){return(0,et.Ay)("MuiSwitch",e)}const Ln=(0,$e.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Bn=["className","color","edge","size","sx"],zn=(0,Qe.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${(0,ln.A)(n.edge)}`],t[`size${(0,ln.A)(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Ln.thumb}`]:{width:16,height:16},[`& .${Ln.switchBase}`]:{padding:4,[`&.${Ln.checked}`]:{transform:"translateX(16px)"}}}}]}),Wn=(0,Qe.Ay)(Fn,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${Ln.input}`]:t.input},"default"!==n.color&&t[`color${(0,ln.A)(n.color)}`]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Ln.checked}`]:{transform:"translateX(20px)"},[`&.${Ln.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Ln.checked} + .${Ln.track}`]:{opacity:.5},[`&.${Ln.disabled} + .${Ln.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:""+("light"===t.palette.mode?.12:.2)},[`& .${Ln.input}`]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,it.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${Ln.checked}`]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,it.X4)(t.palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ln.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${n}DisabledColor`]:`${"light"===t.palette.mode?(0,it.a)(t.palette[n].main,.62):(0,it.e$)(t.palette[n].main,.55)}`}},[`&.${Ln.checked} + .${Ln.track}`]:{backgroundColor:(t.vars||t).palette[n].main}}}}))]}})),Un=(0,Qe.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:""+("light"===t.palette.mode?.38:.3)}})),Vn=(0,Qe.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),Hn=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiSwitch"}),{className:r,color:o="primary",edge:i=!1,size:a="medium",sx:s}=n,l=(0,Ie.A)(n,Bn),u=(0,Te.A)({},n,{color:o,edge:i,size:a}),c=(e=>{const{classes:t,edge:n,size:r,color:o,checked:i,disabled:a}=e,s={root:["root",n&&`edge${(0,ln.A)(n)}`,`size${(0,ln.A)(r)}`],switchBase:["switchBase",`color${(0,ln.A)(o)}`,i&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,Ye.A)(s,jn,t);return(0,Te.A)({},t,l)})(u),d=(0,ze.jsx)(Vn,{className:c.thumb,ownerState:u});return(0,ze.jsxs)(zn,{className:(0,Pe.A)(c.root,r),sx:s,ownerState:u,children:[(0,ze.jsx)(Wn,(0,Te.A)({type:"checkbox",icon:d,checkedIcon:d,ref:t,ownerState:u},l,{classes:(0,Te.A)({},c,{root:c.switchBase})})),(0,ze.jsx)(Un,{className:c.track,ownerState:u})]})})),$n=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function Gn(e){return(0,et.Ay)("MuiPaper",e)}(0,$e.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const qn=["className","component","elevation","square","variant"],Kn=(0,Qe.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,Te.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===n.variant&&(0,Te.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,it.X4)("#fff",$n(n.elevation))}, ${(0,it.X4)("#fff",$n(n.elevation))})`},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),Xn=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:i=1,square:a=!1,variant:s="elevation"}=n,l=(0,Ie.A)(n,qn),u=(0,Te.A)({},n,{component:o,elevation:i,square:a,variant:s}),c=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,Ye.A)(i,Gn,o)})(u);return(0,ze.jsx)(Kn,(0,Te.A)({as:o,ownerState:u,className:(0,Pe.A)(c.root,r),ref:t},l))}));function Yn(e){return(0,et.Ay)("MuiAppBar",e)}(0,$e.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Qn=["className","color","enableColorOnDark","position"],Jn=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,Zn=(0,Qe.Ay)(Xn,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,ln.A)(n.position)}`],t[`color${(0,ln.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,Te.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,Te.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,Te.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,Te.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Jn(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:Jn(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:Jn(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:Jn(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),er=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:i=!1,position:a="fixed"}=n,s=(0,Ie.A)(n,Qn),l=(0,Te.A)({},n,{color:o,position:a,enableColorOnDark:i}),u=(e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${(0,ln.A)(t)}`,`position${(0,ln.A)(n)}`]};return(0,Ye.A)(o,Yn,r)})(l);return(0,ze.jsx)(Zn,(0,Te.A)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,Pe.A)(u.root,r,"fixed"===a&&"mui-fixed"),ref:t},s))}));function tr(e){return(0,et.Ay)("MuiToolbar",e)}(0,$e.A)("MuiToolbar",["root","gutters","regular","dense"]);const nr=["className","component","disableGutters","variant"],rr=(0,Qe.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),or=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:i=!1,variant:a="regular"}=n,s=(0,Ie.A)(n,nr),l=(0,Te.A)({},n,{component:o,disableGutters:i,variant:a}),u=(e=>{const{classes:t,disableGutters:n,variant:r}=e,o={root:["root",!n&&"gutters",r]};return(0,Ye.A)(o,tr,t)})(l);return(0,ze.jsx)(rr,(0,Te.A)({as:o,className:(0,Pe.A)(u.root,r),ref:t,ownerState:l},s))}));function ir(e){return(0,et.Ay)("MuiIconButton",e)}const ar=(0,$e.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),sr=["edge","children","className","color","disabled","disableFocusRipple","size"],lr=(0,Qe.Ay)(zt,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,ln.A)(n.color)}`],n.edge&&t[`edge${(0,ln.A)(n.edge)}`],t[`size${(0,ln.A)(n.size)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,it.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const o=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,Te.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,Te.A)({color:null==o?void 0:o.main},!n.disableRipple&&{"&:hover":(0,Te.A)({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,it.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${ar.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),ur=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:i,color:a="default",disabled:s=!1,disableFocusRipple:l=!1,size:u="medium"}=n,c=(0,Ie.A)(n,sr),d=(0,Te.A)({},n,{edge:r,color:a,disabled:s,disableFocusRipple:l,size:u}),p=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e,a={root:["root",n&&"disabled","default"!==r&&`color${(0,ln.A)(r)}`,o&&`edge${(0,ln.A)(o)}`,`size${(0,ln.A)(i)}`]};return(0,Ye.A)(a,ir,t)})(d);return(0,ze.jsx)(lr,(0,Te.A)({className:(0,Pe.A)(p.root,i),centerRipple:!0,focusRipple:!l,disabled:s,ref:t},c,{ownerState:d,children:o}))})),cr=r.createContext();const dr=()=>{const e=r.useContext(cr);return null!=e&&e};var pr=n(4390);const fr=function(e,t,n){return void 0===e||at(e)?t:(0,Te.A)({},t,{ownerState:(0,Te.A)({},t.ownerState,n)})};const hr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const mr=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const vr=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=(0,Pe.A)(null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),t=(0,Te.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),a=(0,Te.A)({},n,o,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=hr((0,Te.A)({},o,r)),s=mr(r),l=mr(o),u=t(a),c=(0,Pe.A)(null==u?void 0:u.className,null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),d=(0,Te.A)({},null==u?void 0:u.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),p=(0,Te.A)({},u,n,l,s);return c.length>0&&(p.className=c),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:u.ref}};const gr=function(e,t,n){return"function"===typeof e?e(t,n):e},yr=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const br=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,a=(0,Ie.A)(e,yr),s=i?{}:gr(r,o),{props:l,internalRef:u}=vr((0,Te.A)({},a,{externalSlotProps:s})),c=(0,pr.A)(u,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref);return fr(n,(0,Te.A)({},l,{ref:c}),o)};function xr(e){var t;return parseInt(r.version,10)>=19?(null==e||null==(t=e.props)?void 0:t.ref)||null:(null==e?void 0:e.ref)||null}var wr=n(2644);const Sr=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ar(e){const t=[],n=[];return Array.from(e.querySelectorAll(Sr)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function kr(){return!0}const Cr=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:a=Ar,isEnabled:s=kr,open:l}=e,u=r.useRef(!1),c=r.useRef(null),d=r.useRef(null),p=r.useRef(null),f=r.useRef(null),h=r.useRef(!1),m=r.useRef(null),v=(0,pr.A)(xr(t),m),g=r.useRef(null);r.useEffect((()=>{l&&m.current&&(h.current=!n)}),[n,l]),r.useEffect((()=>{if(!l||!m.current)return;const e=(0,wr.A)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),h.current&&m.current.focus()),()=>{i||(p.current&&p.current.focus&&(u.current=!0,p.current.focus()),p.current=null)}}),[l]),r.useEffect((()=>{if(!l||!m.current)return;const e=(0,wr.A)(m.current),t=t=>{g.current=t,!o&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(u.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!s()||u.current)return void(u.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==c.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!h.current)return;let n=[];if(e.activeElement!==c.current&&e.activeElement!==d.current||(n=a(m.current)),n.length>0){var r,i;const e=Boolean((null==(r=g.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=g.current)?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,o,i,s,l,a]);const y=e=>{null===p.current&&(p.current=e.relatedTarget),h.current=!0};return(0,ze.jsxs)(r.Fragment,{children:[(0,ze.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:v,onFocus:e=>{null===p.current&&(p.current=e.relatedTarget),h.current=!0,f.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,ze.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})};var Er=n(344),_r=n(2548);const Rr=r.forwardRef((function(e,t){const{children:n,container:o,disablePortal:a=!1}=e,[s,l]=r.useState(null),u=(0,pr.A)(r.isValidElement(n)?xr(n):null,t);if((0,Er.A)((()=>{a||l(function(e){return"function"===typeof e?e():e}(o)||document.body)}),[o,a]),(0,Er.A)((()=>{if(s&&!a)return(0,_r.A)(t,s),()=>{(0,_r.A)(t,null)}}),[t,s,a]),a){if(r.isValidElement(n)){const e={ref:u};return r.cloneElement(n,e)}return(0,ze.jsx)(r.Fragment,{children:n})}return(0,ze.jsx)(r.Fragment,{children:s?i.createPortal(n,s):s})})),Tr=!1;var Ir="unmounted",Pr="exited",Or="entering",Mr="entered",Nr="exiting",Dr=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=Pr,r.appearStatus=Or):o=Mr:o=t.unmountOnExit||t.mountOnEnter?Ir:Pr,r.state={status:o},r.nextCallback=null,r}dt(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ir?{status:Pr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Or&&n!==Mr&&(t=Or):n!==Or&&n!==Mr||(t=Nr)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Or){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pr&&this.setState({status:Ir})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[i.findDOMNode(this),r],a=o[0],s=o[1],l=this.getTimeouts(),u=r?l.appear:l.enter;!e&&!n||Tr?this.safeSetState({status:Mr},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:Or},(function(){t.props.onEntering(a,s),t.onTransitionEnd(u,(function(){t.safeSetState({status:Mr},(function(){t.props.onEntered(a,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!Tr?(this.props.onExit(r),this.safeSetState({status:Nr},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Pr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Pr},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Ir)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Ie.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(pt.Provider,{value:null},"function"===typeof n?n(e,o):r.cloneElement(r.Children.only(n),o))},t}(r.Component);function Fr(){}Dr.contextType=pt,Dr.propTypes={},Dr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fr,onEntering:Fr,onEntered:Fr,onExit:Fr,onExiting:Fr,onExited:Fr},Dr.UNMOUNTED=Ir,Dr.EXITED=Pr,Dr.ENTERING=Or,Dr.ENTERED=Mr,Dr.EXITING=Nr;const jr=Dr;var Lr=n(3682);function Br(){const e=Be(Lr.A);return e[He.A]||e}const zr=e=>e.scrollTop;function Wr(e,t){var n,r;const{timeout:o,easing:i,style:a={}}=e;return{duration:null!=(n=a.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(r=a.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:a.transitionDelay}}const Ur=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Vr={entering:{opacity:1},entered:{opacity:1}},Hr=r.forwardRef((function(e,t){const n=Br(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:s,easing:l,in:u,onEnter:c,onEntered:d,onEntering:p,onExit:f,onExited:h,onExiting:m,style:v,timeout:g=o,TransitionComponent:y=jr}=e,b=(0,Ie.A)(e,Ur),x=r.useRef(null),w=(0,st.A)(x,xr(s),t),S=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},A=S(p),k=S(((e,t)=>{zr(e);const r=Wr({style:v,timeout:g,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),c&&c(e,t)})),C=S(d),E=S(m),_=S((e=>{const t=Wr({style:v,timeout:g,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),f&&f(e)})),R=S(h);return(0,ze.jsx)(y,(0,Te.A)({appear:a,in:u,nodeRef:x,onEnter:k,onEntered:C,onEntering:A,onExit:_,onExited:R,onExiting:E,addEndListener:e=>{i&&i(x.current,e)},timeout:g},b,{children:(e,t)=>r.cloneElement(s,(0,Te.A)({style:(0,Te.A)({opacity:0,visibility:"exited"!==e||u?void 0:"hidden"},Vr[e],v,s.props.style),ref:w},t))}))})),$r=Hr;function Gr(e){return(0,et.Ay)("MuiBackdrop",e)}(0,$e.A)("MuiBackdrop",["root","invisible"]);const qr=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Kr=(0,Qe.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Xr=r.forwardRef((function(e,t){var n,r,o;const i=(0,Je.b)({props:e,name:"MuiBackdrop"}),{children:a,className:s,component:l="div",components:u={},componentsProps:c={},invisible:d=!1,open:p,slotProps:f={},slots:h={},TransitionComponent:m=$r,transitionDuration:v}=i,g=(0,Ie.A)(i,qr),y=(0,Te.A)({},i,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,Ye.A)(r,Gr,t)})(y),x=null!=(n=f.root)?n:c.root;return(0,ze.jsx)(m,(0,Te.A)({in:p,timeout:v},g,{children:(0,ze.jsx)(Kr,(0,Te.A)({"aria-hidden":!0},x,{as:null!=(r=null!=(o=h.root)?o:u.Root)?r:l,className:(0,Pe.A)(b.root,s,null==x?void 0:x.className),ownerState:(0,Te.A)({},y,null==x?void 0:x.ownerState),classes:b,ref:t,children:a}))}))}));var Yr=n(4710),Qr=n(1256),Jr=n(2660);function Zr(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function eo(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function to(e){return parseInt((0,Jr.A)(e).getComputedStyle(e).paddingRight,10)||0}function no(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&eo(e,o)}))}function ro(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function oo(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,wr.A)(e);return t.body===e?(0,Jr.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=Zr((0,wr.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${to(r)+e}px`;const t=(0,wr.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${to(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,wr.A)(r).body;else{const t=r.parentElement,n=(0,Jr.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const io=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&eo(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);no(t,e.mount,e.modalRef,r,!0);const o=ro(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=ro(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=oo(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=ro(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&eo(e.modalRef,t),no(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&eo(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const ao=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,manager:i=io,closeAfterTransition:a=!1,onTransitionEnter:s,onTransitionExited:l,children:u,onClose:c,open:d,rootRef:p}=e,f=r.useRef({}),h=r.useRef(null),m=r.useRef(null),v=(0,pr.A)(m,p),[g,y]=r.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let x=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(x=!1);const w=()=>(f.current.modalRef=m.current,f.current.mount=h.current,f.current),S=()=>{i.mount(w(),{disableScrollLock:o}),m.current&&(m.current.scrollTop=0)},A=(0,Yr.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||(0,wr.A)(h.current).body;i.add(w(),e),m.current&&S()})),k=r.useCallback((()=>i.isTopModal(w())),[i]),C=(0,Yr.A)((e=>{h.current=e,e&&(d&&k()?S():m.current&&eo(m.current,x))})),E=r.useCallback((()=>{i.remove(w(),x)}),[x,i]);r.useEffect((()=>()=>{E()}),[E]),r.useEffect((()=>{d?A():b&&a||E()}),[d,E,b,a,A]);const _=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&k()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},R=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=hr(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,Te.A)({},n,t);return(0,Te.A)({role:"presentation"},r,{onKeyDown:_(r),ref:v})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Te.A)({"aria-hidden":!0},e,{onClick:R(e),open:d})},getTransitionProps:()=>({onEnter:(0,Qr.A)((()=>{y(!1),s&&s()}),null==u?void 0:u.props.onEnter),onExited:(0,Qr.A)((()=>{y(!0),l&&l(),a&&E()}),null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:C,isTopModal:k,exited:g,hasTransition:b}};function so(e){return(0,et.Ay)("MuiModal",e)}(0,$e.A)("MuiModal",["root","hidden","backdrop"]);const lo=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],uo=(0,Qe.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),co=(0,Qe.Ay)(Xr,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),po=r.forwardRef((function(e,t){var n,o,i,a,s,l;const u=(0,Je.b)({name:"MuiModal",props:e}),{BackdropComponent:c=co,BackdropProps:d,className:p,closeAfterTransition:f=!1,children:h,container:m,component:v,components:g={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:w=!1,disablePortal:S=!1,disableRestoreFocus:A=!1,disableScrollLock:k=!1,hideBackdrop:C=!1,keepMounted:E=!1,onBackdropClick:_,open:R,slotProps:T,slots:I}=u,P=(0,Ie.A)(u,lo),O=(0,Te.A)({},u,{closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:x,disableEscapeKeyDown:w,disablePortal:S,disableRestoreFocus:A,disableScrollLock:k,hideBackdrop:C,keepMounted:E}),{getRootProps:M,getBackdropProps:N,getTransitionProps:D,portalRef:F,isTopModal:j,exited:L,hasTransition:B}=ao((0,Te.A)({},O,{rootRef:t})),z=(0,Te.A)({},O,{exited:L}),W=(e=>{const{open:t,exited:n,classes:r}=e,o={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,Ye.A)(o,so,r)})(z),U={};if(void 0===h.props.tabIndex&&(U.tabIndex="-1"),B){const{onEnter:e,onExited:t}=D();U.onEnter=e,U.onExited=t}const V=null!=(n=null!=(o=null==I?void 0:I.root)?o:g.Root)?n:uo,H=null!=(i=null!=(a=null==I?void 0:I.backdrop)?a:g.Backdrop)?i:c,$=null!=(s=null==T?void 0:T.root)?s:y.root,G=null!=(l=null==T?void 0:T.backdrop)?l:y.backdrop,q=br({elementType:V,externalSlotProps:$,externalForwardedProps:P,getSlotProps:M,additionalProps:{ref:t,as:v},ownerState:z,className:(0,Pe.A)(p,null==$?void 0:$.className,null==W?void 0:W.root,!z.open&&z.exited&&(null==W?void 0:W.hidden))}),K=br({elementType:H,externalSlotProps:G,additionalProps:d,getSlotProps:e=>N((0,Te.A)({},e,{onClick:t=>{_&&_(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,Pe.A)(null==G?void 0:G.className,null==d?void 0:d.className,null==W?void 0:W.backdrop),ownerState:z});return E||R||B&&!L?(0,ze.jsx)(Rr,{ref:F,container:m,disablePortal:S,children:(0,ze.jsxs)(V,(0,Te.A)({},q,{children:[!C&&c?(0,ze.jsx)(H,(0,Te.A)({},K)):null,(0,ze.jsx)(Cr,{disableEnforceFocus:x,disableAutoFocus:b,disableRestoreFocus:A,isEnabled:j,open:R,children:r.cloneElement(h,U)})]}))}):null})),fo=po;var ho=n(4246),mo=n(5246);const vo=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function go(e,t,n){var r;const o=function(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=(0,mo.A)(t);let a;if(t.fakeTransform)a=t.fakeTransform;else{const e=i.getComputedStyle(t);a=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let s=0,l=0;if(a&&"none"!==a&&"string"===typeof a){const e=a.split("(")[1].split(")")[0].split(",");s=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?o?`translateX(${o.right+s-r.left}px)`:`translateX(${i.innerWidth+s-r.left}px)`:"right"===e?o?`translateX(-${r.right-o.left-s}px)`:`translateX(-${r.left+r.width-s}px)`:"up"===e?o?`translateY(${o.bottom+l-r.top}px)`:`translateY(${i.innerHeight+l-r.top}px)`:o?`translateY(-${r.top-o.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}(e,t,"function"===typeof(r=n)?r():r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const yo=r.forwardRef((function(e,t){const n=Br(),o={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:s=!0,children:l,container:u,direction:c="down",easing:d=o,in:p,onEnter:f,onEntered:h,onEntering:m,onExit:v,onExited:g,onExiting:y,style:b,timeout:x=i,TransitionComponent:w=jr}=e,S=(0,Ie.A)(e,vo),A=r.useRef(null),k=(0,st.A)(xr(l),A,t),C=e=>t=>{e&&(void 0===t?e(A.current):e(A.current,t))},E=C(((e,t)=>{go(c,e,u),zr(e),f&&f(e,t)})),_=C(((e,t)=>{const r=Wr({timeout:x,style:b,easing:d},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",(0,Te.A)({},r)),e.style.transition=n.transitions.create("transform",(0,Te.A)({},r)),e.style.webkitTransform="none",e.style.transform="none",m&&m(e,t)})),R=C(h),T=C(y),I=C((e=>{const t=Wr({timeout:x,style:b,easing:d},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),go(c,e,u),v&&v(e)})),P=C((e=>{e.style.webkitTransition="",e.style.transition="",g&&g(e)})),O=r.useCallback((()=>{A.current&&go(c,A.current,u)}),[c,u]);return r.useEffect((()=>{if(p||"down"===c||"right"===c)return;const e=(0,ho.A)((()=>{A.current&&go(c,A.current,u)})),t=(0,mo.A)(A.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[c,p,u]),r.useEffect((()=>{p||O()}),[p,O]),(0,ze.jsx)(w,(0,Te.A)({nodeRef:A,onEnter:E,onEntered:R,onEntering:_,onExit:I,onExited:P,onExiting:T,addEndListener:e=>{a&&a(A.current,e)},appear:s,in:p,timeout:x},S,{children:(e,t)=>r.cloneElement(l,(0,Te.A)({ref:k,style:(0,Te.A)({visibility:"exited"!==e||p?void 0:"hidden"},b,l.props.style)},t))}))})),bo=yo;function xo(e){return(0,et.Ay)("MuiDrawer",e)}(0,$e.A)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const wo=["BackdropProps"],So=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Ao=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},ko=(0,Qe.Ay)(fo,{name:"MuiDrawer",slot:"Root",overridesResolver:Ao})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),Co=(0,Qe.Ay)("div",{shouldForwardProp:_n.A,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Ao})({flex:"0 0 auto"}),Eo=(0,Qe.Ay)(Xn,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${(0,ln.A)(n.anchor)}`],"temporary"!==n.variant&&t[`paperAnchorDocked${(0,ln.A)(n.anchor)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})})),_o={left:"right",right:"left",top:"down",bottom:"up"};const Ro=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiDrawer"}),o=Br(),i=dr(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:l,children:u,className:c,elevation:d=16,hideBackdrop:p=!1,ModalProps:{BackdropProps:f}={},onClose:h,open:m=!1,PaperProps:v={},SlideProps:g,TransitionComponent:y=bo,transitionDuration:b=a,variant:x="temporary"}=n,w=(0,Ie.A)(n.ModalProps,wo),S=(0,Ie.A)(n,So),A=r.useRef(!1);r.useEffect((()=>{A.current=!0}),[]);const k=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?_o[t]:t}({direction:i?"rtl":"ltr"},s),C=s,E=(0,Te.A)({},n,{anchor:C,elevation:d,open:m,variant:x},S),_=(e=>{const{classes:t,anchor:n,variant:r}=e,o={root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${(0,ln.A)(n)}`,"temporary"!==r&&`paperAnchorDocked${(0,ln.A)(n)}`]};return(0,Ye.A)(o,xo,t)})(E),R=(0,ze.jsx)(Eo,(0,Te.A)({elevation:"temporary"===x?d:0,square:!0},v,{className:(0,Pe.A)(_.paper,v.className),ownerState:E,children:u}));if("permanent"===x)return(0,ze.jsx)(Co,(0,Te.A)({className:(0,Pe.A)(_.root,_.docked,c),ownerState:E,ref:t},S,{children:R}));const T=(0,ze.jsx)(y,(0,Te.A)({in:m,direction:_o[k],timeout:b,appear:A.current},g,{children:R}));return"persistent"===x?(0,ze.jsx)(Co,(0,Te.A)({className:(0,Pe.A)(_.root,_.docked,c),ownerState:E,ref:t},S,{children:T})):(0,ze.jsx)(ko,(0,Te.A)({BackdropProps:(0,Te.A)({},l,f,{transitionDuration:b}),className:(0,Pe.A)(_.root,_.modal,c),open:m,ownerState:E,onClose:h,hideBackdrop:p,ref:t},S,w,{children:T}))}));var To=n(1366);function Io(e){return(0,et.Ay)("MuiButton",e)}const Po=(0,$e.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const Oo=r.createContext({});const Mo=r.createContext(void 0),No=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Do=e=>(0,Te.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),Fo=(0,Qe.Ay)(zt,{shouldForwardProp:e=>(0,_n.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,ln.A)(n.color)}`],t[`size${(0,ln.A)(n.size)}`],t[`${n.variant}Size${(0,ln.A)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,o;const i="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,Te.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,Te.A)({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,it.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,it.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:`1px solid ${(t.vars||t).palette[n.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,it.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,Te.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Po.focusVisible}`]:(0,Te.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Po.disabled}`]:(0,Te.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[n.color].mainChannel} / 0.5)`:`1px solid ${(0,it.X4)(t.palette[n.color].main,.5)}`},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(o=t.palette).getContrastText)?void 0:r.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Po.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Po.disabled}`]:{boxShadow:"none"}}})),jo=(0,Qe.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,ln.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Do(t))})),Lo=(0,Qe.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,ln.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Do(t))})),Bo=r.forwardRef((function(e,t){const n=r.useContext(Oo),o=r.useContext(Mo),i=(0,To.A)(n,e),a=(0,Je.b)({props:i,name:"MuiButton"}),{children:s,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:h,focusVisibleClassName:m,fullWidth:v=!1,size:g="medium",startIcon:y,type:b,variant:x="text"}=a,w=(0,Ie.A)(a,No),S=(0,Te.A)({},a,{color:l,component:u,disabled:d,disableElevation:p,disableFocusRipple:f,fullWidth:v,size:g,type:b,variant:x}),A=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,classes:a}=e,s={root:["root",i,`${i}${(0,ln.A)(t)}`,`size${(0,ln.A)(o)}`,`${i}Size${(0,ln.A)(o)}`,`color${(0,ln.A)(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,ln.A)(o)}`],endIcon:["icon","endIcon",`iconSize${(0,ln.A)(o)}`]},l=(0,Ye.A)(s,Io,a);return(0,Te.A)({},a,l)})(S),k=y&&(0,ze.jsx)(jo,{className:A.startIcon,ownerState:S,children:y}),C=h&&(0,ze.jsx)(Lo,{className:A.endIcon,ownerState:S,children:h}),E=o||"";return(0,ze.jsxs)(Fo,(0,Te.A)({ownerState:S,className:(0,Pe.A)(n.className,A.root,c,E),component:u,disabled:d,focusRipple:!f,focusVisibleClassName:(0,Pe.A)(A.focusVisible,m),ref:t,type:b},w,{classes:A,children:[k,s,C]}))}));var zo=n(1186),Wo=n(4411),Uo=n(87),Vo=n(7697),Ho=n(8669),$o=n(4171),Go=n(732),qo=n(3559),Ko=n(3062);function Xo(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,To.A)(t.components[n].defaultProps,r):r}function Yo(e,t,n,o,i){const[a,s]=r.useState((()=>i&&n?n(e).matches:o?o(e).matches:t));return(0,Er.A)((()=>{let t=!0;if(!n)return;const r=n(e),o=()=>{t&&s(r.matches)};return o(),r.addListener(o),()=>{t=!1,r.removeListener(o)}}),[e,n]),a}const Qo=o.useSyncExternalStore;function Jo(e,t,n,o,i){const a=r.useCallback((()=>t),[t]),s=r.useMemo((()=>{if(i&&n)return()=>n(e).matches;if(null!==o){const{matches:t}=o(e);return()=>t}return a}),[a,e,o,i,n]),[l,u]=r.useMemo((()=>{if(null===n)return[a,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[a,n,e]);return Qo(u,l,s)}function Zo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=je(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:o=!1,matchMedia:i=(r?window.matchMedia:null),ssrMatchMedia:a=null,noSsr:s=!1}=Xo({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"===typeof e?e(n):e;l=l.replace(/^@media( ?)/m,"");return(void 0!==Qo?Jo:Yo)(l,o,i,a,s)}const ei=(0,r.createContext)(),ti=e=>{let{children:t}=e;const[n,o]=(0,r.useState)("true"===localStorage.getItem("darkMode"));(0,r.useEffect)((()=>{localStorage.setItem("darkMode",n)}),[n]);return(0,ze.jsx)(ei.Provider,{value:{isDarkMode:n,toggleDarkMode:()=>{o((e=>!e))}},children:t})};function ni(e,t){return function(){return e.apply(t,arguments)}}const{toString:ri}=Object.prototype,{getPrototypeOf:oi}=Object,ii=(ai=Object.create(null),e=>{const t=ri.call(e);return ai[t]||(ai[t]=t.slice(8,-1).toLowerCase())});var ai;const si=e=>(e=e.toLowerCase(),t=>ii(t)===e),li=e=>t=>typeof t===e,{isArray:ui}=Array,ci=li("undefined");const di=si("ArrayBuffer");const pi=li("string"),fi=li("function"),hi=li("number"),mi=e=>null!==e&&"object"===typeof e,vi=e=>{if("object"!==ii(e))return!1;const t=oi(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gi=si("Date"),yi=si("File"),bi=si("Blob"),xi=si("FileList"),wi=si("URLSearchParams"),[Si,Ai,ki,Ci]=["ReadableStream","Request","Response","Headers"].map(si);function Ei(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ui(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function _i(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const Ri="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ti=e=>!ci(e)&&e!==Ri;const Ii=(Pi="undefined"!==typeof Uint8Array&&oi(Uint8Array),e=>Pi&&e instanceof Pi);var Pi;const Oi=si("HTMLFormElement"),Mi=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Ni=si("RegExp"),Di=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ei(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)};const Fi=si("AsyncFunction"),ji=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Ri.addEventListener("message",(e=>{let{source:t,data:o}=e;t===Ri&&o===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),Ri.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,fi(Ri.postMessage)),Li="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ri):"undefined"!==typeof process&&process.nextTick||ji,Bi={isArray:ui,isArrayBuffer:di,isBuffer:function(e){return null!==e&&!ci(e)&&null!==e.constructor&&!ci(e.constructor)&&fi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||fi(e.append)&&("formdata"===(t=ii(e))||"object"===t&&fi(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&di(e.buffer),t},isString:pi,isNumber:hi,isBoolean:e=>!0===e||!1===e,isObject:mi,isPlainObject:vi,isReadableStream:Si,isRequest:Ai,isResponse:ki,isHeaders:Ci,isUndefined:ci,isDate:gi,isFile:yi,isBlob:bi,isRegExp:Ni,isFunction:fi,isStream:e=>mi(e)&&fi(e.pipe),isURLSearchParams:wi,isTypedArray:Ii,isFileList:xi,forEach:Ei,merge:function e(){const{caseless:t}=Ti(this)&&this||{},n={},r=(r,o)=>{const i=t&&_i(n,o)||o;vi(n[i])&&vi(r)?n[i]=e(n[i],r):vi(r)?n[i]=e({},r):ui(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&Ei(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ei(t,((t,r)=>{n&&fi(t)?e[r]=ni(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&oi(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ii,kindOfTest:si,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(ui(e))return e;let t=e.length;if(!hi(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Oi,hasOwnProperty:Mi,hasOwnProp:Mi,reduceDescriptors:Di,freezeMethods:e=>{Di(e,((t,n)=>{if(fi(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];fi(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return ui(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:_i,global:Ri,isContextDefined:Ti,isSpecCompliantForm:function(e){return!!(e&&fi(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(mi(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=ui(e)?[]:{};return Ei(e,((e,t)=>{const i=n(e,r+1);!ci(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Fi,isThenable:e=>e&&(mi(e)||fi(e))&&fi(e.then)&&fi(e.catch),setImmediate:ji,asap:Li};function zi(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Bi.inherits(zi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Bi.toJSONObject(this.config),code:this.code,status:this.status}}});const Wi=zi.prototype,Ui={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ui[e]={value:e}})),Object.defineProperties(zi,Ui),Object.defineProperty(Wi,"isAxiosError",{value:!0}),zi.from=(e,t,n,r,o,i)=>{const a=Object.create(Wi);return Bi.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),zi.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Vi=zi;function Hi(e){return Bi.isPlainObject(e)||Bi.isArray(e)}function $i(e){return Bi.endsWith(e,"[]")?e.slice(0,-2):e}function Gi(e,t,n){return e?e.concat(t).map((function(e,t){return e=$i(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const qi=Bi.toFlatObject(Bi,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Ki=function(e,t,n){if(!Bi.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Bi.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Bi.isUndefined(t[e])}))).metaTokens,o=n.visitor||u,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Bi.isSpecCompliantForm(t);if(!Bi.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Bi.isDate(e))return e.toISOString();if(!s&&Bi.isBlob(e))throw new Vi("Blob is not supported. Use a Buffer instead.");return Bi.isArrayBuffer(e)||Bi.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){let s=e;if(e&&!o&&"object"===typeof e)if(Bi.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Bi.isArray(e)&&function(e){return Bi.isArray(e)&&!e.some(Hi)}(e)||(Bi.isFileList(e)||Bi.endsWith(n,"[]"))&&(s=Bi.toArray(e)))return n=$i(n),s.forEach((function(e,r){!Bi.isUndefined(e)&&null!==e&&t.append(!0===a?Gi([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!Hi(e)||(t.append(Gi(o,n,i),l(e)),!1)}const c=[],d=Object.assign(qi,{defaultVisitor:u,convertValue:l,isVisitable:Hi});if(!Bi.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Bi.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Bi.forEach(n,(function(n,i){!0===(!(Bi.isUndefined(n)||null===n)&&o.call(t,n,Bi.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),c.pop()}}(e),t};function Xi(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Yi(e,t){this._pairs=[],e&&Ki(e,this,t)}const Qi=Yi.prototype;Qi.append=function(e,t){this._pairs.push([e,t])},Qi.toString=function(e){const t=e?function(t){return e.call(this,t,Xi)}:Xi;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Ji=Yi;function Zi(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ea(e,t,n){if(!t)return e;const r=n&&n.encode||Zi;Bi.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):Bi.isURLSearchParams(t)?t.toString():new Ji(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const ta=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Bi.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},na={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ra={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ji,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},oa="undefined"!==typeof window&&"undefined"!==typeof document,ia="object"===typeof navigator&&navigator||void 0,aa=oa&&(!ia||["ReactNative","NativeScript","NS"].indexOf(ia.product)<0),sa="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,la=oa&&window.location.href||"http://localhost",ua={...e,...ra};const ca=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;if(i=!i&&Bi.isArray(r)?r.length:i,s)return Bi.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&Bi.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&Bi.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(Bi.isFormData(e)&&Bi.isFunction(e.entries)){const n={};return Bi.forEachEntry(e,((e,r)=>{t(function(e){return Bi.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const da={transitional:na,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=Bi.isObject(e);o&&Bi.isHTMLForm(e)&&(e=new FormData(e));if(Bi.isFormData(e))return r?JSON.stringify(ca(e)):e;if(Bi.isArrayBuffer(e)||Bi.isBuffer(e)||Bi.isStream(e)||Bi.isFile(e)||Bi.isBlob(e)||Bi.isReadableStream(e))return e;if(Bi.isArrayBufferView(e))return e.buffer;if(Bi.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ki(e,new ua.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ua.isNode&&Bi.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Bi.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ki(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(Bi.isString(e))try{return(t||JSON.parse)(e),Bi.trim(e)}catch(wd){if("SyntaxError"!==wd.name)throw wd}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||da.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Bi.isResponse(e)||Bi.isReadableStream(e))return e;if(e&&Bi.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(wd){if(n){if("SyntaxError"===wd.name)throw Vi.from(wd,Vi.ERR_BAD_RESPONSE,this,null,this.response);throw wd}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ua.classes.FormData,Blob:ua.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Bi.forEach(["delete","get","head","post","put","patch"],(e=>{da.headers[e]={}}));const pa=da,fa=Bi.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ha=Symbol("internals");function ma(e){return e&&String(e).trim().toLowerCase()}function va(e){return!1===e||null==e?e:Bi.isArray(e)?e.map(va):String(e)}function ga(e,t,n,r,o){return Bi.isFunction(r)?r.call(this,t,n):(o&&(t=n),Bi.isString(t)?Bi.isString(r)?-1!==t.indexOf(r):Bi.isRegExp(r)?r.test(t):void 0:void 0)}class ya{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=ma(t);if(!o)throw new Error("header name must be a non-empty string");const i=Bi.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=va(e))}const i=(e,t)=>Bi.forEach(e,((e,n)=>o(e,n,t)));if(Bi.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Bi.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&fa[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Bi.isHeaders(e))for(const[a,s]of e.entries())o(s,a,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=ma(e)){const n=Bi.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Bi.isFunction(t))return t.call(this,e,n);if(Bi.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ma(e)){const n=Bi.findKey(this,e);return!(!n||void 0===this[n]||t&&!ga(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=ma(e)){const o=Bi.findKey(n,e);!o||t&&!ga(0,n[o],o,t)||(delete n[o],r=!0)}}return Bi.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!ga(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return Bi.forEach(this,((r,o)=>{const i=Bi.findKey(n,o);if(i)return t[i]=va(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=va(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Bi.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Bi.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[ha]=this[ha]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=ma(e);t[r]||(!function(e,t){const n=Bi.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return Bi.isArray(e)?e.forEach(r):r(e),this}}ya.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Bi.reduceDescriptors(ya.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Bi.freezeMethods(ya);const ba=ya;function xa(e,t){const n=this||pa,r=t||n,o=ba.from(r.headers);let i=r.data;return Bi.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function wa(e){return!(!e||!e.__CANCEL__)}function Sa(e,t,n){Vi.call(this,null==e?"canceled":e,Vi.ERR_CANCELED,t,n),this.name="CanceledError"}Bi.inherits(Sa,Vi,{__CANCEL__:!0});const Aa=Sa;function ka(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Vi("Request failed with status code "+n.status,[Vi.ERR_BAD_REQUEST,Vi.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ca=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),u=r[a];o||(o=l),n[i]=s,r[i]=l;let c=a,d=0;for(;c!==i;)d+=n[c++],c%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const p=u&&l-u;return p?Math.round(1e3*d/p):void 0}};const Ea=function(e,t){let n,r,o=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];t>=i?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),i-t)))},()=>n&&a(n)]},_a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=Ca(50,250);return Ea((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Ra=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ta=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bi.asap((()=>e(...n)))},Ia=ua.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ua.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ua.origin),ua.navigator&&/(msie|trident)/i.test(ua.navigator.userAgent)):()=>!0,Pa=ua.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];Bi.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Bi.isString(r)&&a.push("path="+r),Bi.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Oa(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ma=e=>e instanceof ba?{...e}:e;function Na(e,t){t=t||{};const n={};function r(e,t,n,r){return Bi.isPlainObject(e)&&Bi.isPlainObject(t)?Bi.merge.call({caseless:r},e,t):Bi.isPlainObject(t)?Bi.merge({},t):Bi.isArray(t)?t.slice():t}function o(e,t,n,o){return Bi.isUndefined(t)?Bi.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!Bi.isUndefined(t))return r(void 0,t)}function a(e,t){return Bi.isUndefined(t)?Bi.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(Ma(e),Ma(t),0,!0)};return Bi.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||o,a=i(e[r],t[r],r);Bi.isUndefined(a)&&i!==s||(n[r]=a)})),n}const Da=e=>{const t=Na({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=ba.from(s),t.url=ea(Oa(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Bi.isFormData(r))if(ua.hasStandardBrowserEnv||ua.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(ua.hasStandardBrowserEnv&&(o&&Bi.isFunction(o)&&(o=o(t)),o||!1!==o&&Ia(t.url))){const e=i&&a&&Pa.read(a);e&&s.set(i,e)}return t},Fa="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Da(e);let o=r.data;const i=ba.from(r.headers).normalize();let a,s,l,u,c,{responseType:d,onUploadProgress:p,onDownloadProgress:f}=r;function h(){u&&u(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function v(){if(!m)return;const r=ba.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());ka((function(e){t(e),h()}),(function(e){n(e),h()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(v)},m.onabort=function(){m&&(n(new Vi("Request aborted",Vi.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Vi("Network Error",Vi.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||na;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Vi(t,o.clarifyTimeoutError?Vi.ETIMEDOUT:Vi.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&Bi.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),Bi.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,c]=_a(f,!0),m.addEventListener("progress",l)),p&&m.upload&&([s,u]=_a(p),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Aa(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===ua.protocols.indexOf(g)?n(new Vi("Unsupported protocol "+g+":",Vi.ERR_BAD_REQUEST,e)):m.send(o||null)}))},ja=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Vi?t:new Aa(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,o(new Vi(`timeout ${t} of ms exceeded`,Vi.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>Bi.asap(a),s}},La=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Ba=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},za=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of Ba(e))yield*La(n,t)}(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},Wa="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ua=Wa&&"function"===typeof ReadableStream,Va=Wa&&("function"===typeof TextEncoder?(Ha=new TextEncoder,e=>Ha.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ha;const $a=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(wd){return!1}},Ga=Ua&&$a((()=>{let e=!1;const t=new Request(ua.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),qa=Ua&&$a((()=>Bi.isReadableStream(new Response("").body))),Ka={stream:qa&&(e=>e.body)};var Xa;Wa&&(Xa=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ka[e]&&(Ka[e]=Bi.isFunction(Xa[e])?t=>t[e]():(t,n)=>{throw new Vi(`Response type '${e}' is not supported`,Vi.ERR_NOT_SUPPORT,n)})})));const Ya=async(e,t)=>{const n=Bi.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Bi.isBlob(e))return e.size;if(Bi.isSpecCompliantForm(e)){const t=new Request(ua.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Bi.isArrayBufferView(e)||Bi.isArrayBuffer(e)?e.byteLength:(Bi.isURLSearchParams(e)&&(e+=""),Bi.isString(e)?(await Va(e)).byteLength:void 0)})(t):n},Qa=Wa&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:p}=Da(e);u=u?(u+"").toLowerCase():"text";let f,h=ja([o,i&&i.toAbortSignal()],a);const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let v;try{if(l&&Ga&&"get"!==n&&"head"!==n&&0!==(v=await Ya(c,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Bi.isFormData(r)&&(e=n.headers.get("content-type"))&&c.setContentType(e),n.body){const[e,t]=Ra(v,_a(Ta(l)));r=za(n.body,65536,e,t)}}Bi.isString(d)||(d=d?"include":"omit");const o="credentials"in Request.prototype;f=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:o?d:void 0});let i=await fetch(f);const a=qa&&("stream"===u||"response"===u);if(qa&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=Bi.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&Ra(t,_a(Ta(s),!0))||[];i=new Response(za(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}u=u||"text";let g=await Ka[Bi.findKey(Ka,u)||"text"](i,e);return!a&&m&&m(),await new Promise(((t,n)=>{ka(t,n,{data:g,headers:ba.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:f})}))}catch(g){if(m&&m(),g&&"TypeError"===g.name&&/fetch/i.test(g.message))throw Object.assign(new Vi("Network Error",Vi.ERR_NETWORK,e,f),{cause:g.cause||g});throw Vi.from(g,g&&g.code,e,f)}}),Ja={http:null,xhr:Fa,fetch:Qa};Bi.forEach(Ja,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(wd){}Object.defineProperty(e,"adapterName",{value:t})}}));const Za=e=>`- ${e}`,es=e=>Bi.isFunction(e)||null===e||!1===e,ts=e=>{e=Bi.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!es(n)&&(r=Ja[(t=String(n)).toLowerCase()],void 0===r))throw new Vi(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Za).join("\n"):" "+Za(e[0]):"as no adapter specified";throw new Vi("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ns(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Aa(null,e)}function rs(e){ns(e),e.headers=ba.from(e.headers),e.data=xa.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ts(e.adapter||pa.adapter)(e).then((function(t){return ns(e),t.data=xa.call(e,e.transformResponse,t),t.headers=ba.from(t.headers),t}),(function(t){return wa(t)||(ns(e),t&&t.response&&(t.response.data=xa.call(e,e.transformResponse,t.response),t.response.headers=ba.from(t.response.headers))),Promise.reject(t)}))}const os="1.8.4",is={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{is[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const as={};is.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Vi(r(o," has been removed"+(t?" in "+t:"")),Vi.ERR_DEPRECATED);return t&&!as[o]&&(as[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},is.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const ss={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Vi("options must be an object",Vi.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Vi("option "+i+" must be "+n,Vi.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Vi("Unknown option "+i,Vi.ERR_BAD_OPTION)}},validators:is},ls=ss.validators;class us{constructor(e){this.defaults=e,this.interceptors={request:new ta,response:new ta}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(wd){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Na(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&ss.assertOptions(n,{silentJSONParsing:ls.transitional(ls.boolean),forcedJSONParsing:ls.transitional(ls.boolean),clarifyTimeoutError:ls.transitional(ls.boolean)},!1),null!=r&&(Bi.isFunction(r)?t.paramsSerializer={serialize:r}:ss.assertOptions(r,{encode:ls.function,serialize:ls.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ss.assertOptions(t,{baseUrl:ls.spelling("baseURL"),withXsrfToken:ls.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&Bi.merge(o.common,o[t.method]);o&&Bi.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=ba.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,d=0;if(!s){const e=[rs.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=a.length;let p=t;for(d=0;d<c;){const e=a[d++],t=a[d++];try{p=e(p)}catch(f){t.call(this,f);break}}try{u=rs.call(this,p)}catch(f){return Promise.reject(f)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return ea(Oa((e=Na(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Bi.forEach(["delete","get","head","options"],(function(e){us.prototype[e]=function(t,n){return this.request(Na(n||{},{method:e,url:t,data:(n||{}).data}))}})),Bi.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Na(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}us.prototype[e]=t(),us.prototype[e+"Form"]=t(!0)}));const cs=us;class ds{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Aa(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ds((function(t){e=t}));return{token:t,cancel:e}}}const ps=ds;const fs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fs).forEach((e=>{let[t,n]=e;fs[n]=t}));const hs=fs;const ms=function e(t){const n=new cs(t),r=ni(cs.prototype.request,n);return Bi.extend(r,cs.prototype,n,{allOwnKeys:!0}),Bi.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Na(t,n))},r}(pa);ms.Axios=cs,ms.CanceledError=Aa,ms.CancelToken=ps,ms.isCancel=wa,ms.VERSION=os,ms.toFormData=Ki,ms.AxiosError=Vi,ms.Cancel=ms.CanceledError,ms.all=function(e){return Promise.all(e)},ms.spread=function(e){return function(t){return e.apply(null,t)}},ms.isAxiosError=function(e){return Bi.isObject(e)&&!0===e.isAxiosError},ms.mergeConfig=Na,ms.AxiosHeaders=ba,ms.formToJSON=e=>ca(Bi.isHTMLForm(e)?new FormData(e):e),ms.getAdapter=ts,ms.HttpStatusCode=hs,ms.default=ms;const vs=ms,gs="http://localhost/moodify/backend/api",ys=(e,t)=>{console.log(`\ud83d\udd0d ${e}`,t)},bs=vs.create({baseURL:gs,headers:{"Content-Type":"application/json"}}),xs=vs.create({baseURL:"http://localhost:5000",headers:{"Content-Type":"application/json"}}),ws=async(e,t,n)=>{try{ys("Registration request to:",`${gs}/users/register.php`),ys("Registration data:",{username:e,email:t});const r=await vs({method:"post",url:`${gs}/users/register.php`,data:{username:e,email:t,password:n},headers:{"Content-Type":"application/json"}});return ys("Registration response:",r.data),r.data}catch(r){throw console.error("Registration error:",r),r.response?(ys("Error response data:",r.response.data),ys("Error response status:",r.response.status),ys("Error response headers:",r.response.headers)):r.request?ys("Error request:",r.request):ys("Error message:",r.message),r}},Ss=async(e,t)=>{try{const n=await bs.post("/users/login.php",{username:e,password:t});return"Login successful"===n.data.message&&(localStorage.setItem("username",n.data.username),localStorage.setItem("user_id",n.data.user_id),localStorage.setItem("isLoggedIn","true")),n.data}catch(n){throw console.error("Login error:",n),n}},As=()=>{localStorage.removeItem("username"),localStorage.removeItem("user_id"),localStorage.removeItem("isLoggedIn")},ks=()=>"true"===localStorage.getItem("isLoggedIn"),Cs=async e=>{try{return(await bs.get(`/moods/get_moods.php?username=${e}`)).data}catch(t){throw console.error("Get moods error:",t),t}},Es=async(e,t)=>{try{ys("Adding content to history:",t);return(await xs.post("/content/add",{username:e,content_item:{type:t.type,title:t.title,artist:t.artist,mood:t.mood,timestamp:(new Date).toISOString()}})).data}catch(n){throw console.error("Add content history error:",n),n}},_s=(e,t)=>({fontFamily:"Poppins",borderRadius:"12px",backgroundColor:e?t?"#2E267F":"#6C63FF":"transparent",color:e?"#ffffff":"inherit",transition:"all 0.3s ease",margin:"4px 8px","&:hover":{backgroundColor:t?"#2E267F":"#6C63FF",color:"#ffffff"}}),Rs=e=>({fontFamily:"Poppins",backgroundColor:e?"#4A40D4":"transparent",color:e?"#ffffff":"inherit",borderRadius:"8px",padding:"6px 16px","&:hover":{backgroundColor:"#6C63FF",color:"#ffffff"},transition:"all 0.3s ease"}),Ts=()=>({fontFamily:"Poppins",color:"#FF5757",borderRadius:"8px",padding:"6px 16px","&:hover":{backgroundColor:"#FF5757",color:"#ffffff"},transition:"all 0.3s ease"}),Is=e=>({fontFamily:"Poppins",color:e?"#64FFDA":"#00BFA5",borderRadius:"8px",padding:"6px 16px","&:hover":{backgroundColor:"#00BFA5",color:"#ffffff"},transition:"all 0.3s ease"}),Ps=()=>{const e=ee(),t=J(),n=Zo("(max-width:600px)"),[o,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),{isDarkMode:l,toggleDarkMode:u}=(0,r.useContext)(ei),c=()=>{const e=ks();i(e)};(0,r.useEffect)((()=>{c()}),[t]),(0,r.useEffect)((()=>{c()}),[]);const d=e=>t.pathname===e,p=()=>{As(),i(!1),e("/logout")},f=e=>s(e),h=(0,ze.jsxs)(Xe,{sx:{width:250,bgcolor:l?"#222":"white",color:l?"white":"black"},role:"presentation",children:[(0,ze.jsxs)(ot,{sx:{transition:"background-color 0.3s ease"},children:[(0,ze.jsxs)(tn,{button:!0,sx:_s(d("/"),l),style:{cursor:"pointer"},onClick:()=>{e("/"),f(!1)},children:[(0,ze.jsx)(sn,{sx:{color:l?"white":"inherit"},children:(0,ze.jsx)(Uo.A,{})}),(0,ze.jsx)(bn,{primary:"Home",primaryTypographyProps:{fontFamily:"Poppins",fontSize:"16px"}})]}),(0,ze.jsxs)(tn,{button:!0,style:{cursor:"pointer"},sx:_s(d("/profile"),l),onClick:()=>{e("/profile"),f(!1)},children:[(0,ze.jsx)(sn,{sx:{color:l?"white":"inherit"},children:(0,ze.jsx)(Vo.A,{})}),(0,ze.jsx)(bn,{primary:"Profile",primaryTypographyProps:{fontFamily:"Poppins",fontSize:"16px"}})]}),(0,ze.jsxs)(tn,{button:!0,style:{cursor:"pointer"},sx:_s(d("/results"),l),onClick:()=>{e("/results"),f(!1)},children:[(0,ze.jsx)(sn,{sx:{color:l?"white":"inherit"},children:(0,ze.jsx)(Go.A,{})}),(0,ze.jsx)(bn,{primary:"Recommendations",primaryTypographyProps:{fontFamily:"Poppins",fontSize:"16px"}})]}),o?(0,ze.jsxs)(tn,{button:!0,style:{cursor:"pointer"},sx:_s(!1,l),onClick:()=>{p(),f(!1)},children:[(0,ze.jsx)(sn,{sx:{color:l?"white":"inherit"},children:(0,ze.jsx)(Ko.A,{})}),(0,ze.jsx)(bn,{primary:"Logout",primaryTypographyProps:{fontFamily:"Poppins",fontSize:"16px"}})]}):(0,ze.jsxs)(tn,{button:!0,style:{cursor:"pointer"},sx:_s(d("/login"),l),onClick:()=>{e("/login"),f(!1)},children:[(0,ze.jsx)(sn,{sx:{color:l?"white":"inherit"},children:(0,ze.jsx)(qo.A,{})}),(0,ze.jsx)(bn,{primary:"Login",primaryTypographyProps:{fontFamily:"Poppins",fontSize:"16px"}})]}),(0,ze.jsxs)(tn,{button:!0,style:{cursor:"pointer"},onClick:()=>f(!1),sx:_s(!1,l),children:[(0,ze.jsx)(sn,{sx:{color:l?"white":"inherit"},children:(0,ze.jsx)(zo.A,{})}),(0,ze.jsx)(bn,{primary:"Close",primaryTypographyProps:{fontFamily:"Poppins",fontSize:"16px"}})]})]}),(0,ze.jsx)(En,{sx:{bgcolor:l?"white":"inherit"}}),(0,ze.jsxs)(tn,{children:[(0,ze.jsx)(sn,{sx:{color:l?"white":"inherit"},children:l?(0,ze.jsx)($o.A,{}):(0,ze.jsx)(Ho.A,{})}),(0,ze.jsx)(Hn,{checked:l,onChange:u,inputProps:{"aria-label":"dark mode toggle"},sx:{cursor:"pointer"}})]})]});return(0,ze.jsx)(er,{position:"static",sx:{bgcolor:l?"#222":"white",color:l?"white":"black",boxShadow:3,transition:"background-color 0.3s ease"},children:(0,ze.jsxs)(or,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ze.jsx)(hn,{variant:"h6",className:"navbar-title",sx:{cursor:"pointer",fontSize:"24px",color:l?"white":"black",textTransform:"none",letterSpacing:"0.5px",fontFamily:"'Pacifico', cursive",fontWeight:"normal",textShadow:l?"1px 1px 2px rgba(255,255,255,0.1)":"1px 1px 2px rgba(0,0,0,0.1)"},onClick:()=>e("/"),children:"MoodifyMe"}),n&&(0,ze.jsx)(ur,{onClick:()=>f(!0),color:"inherit",children:(0,ze.jsx)(Wo.A,{})}),(0,ze.jsx)(Ro,{anchor:"right",open:a,onClose:()=>f(!1),sx:{"& .MuiDrawer-paper":{bgcolor:l?"#222":"white",color:l?"white":"black"}},children:h}),(0,ze.jsxs)(Xe,{sx:{display:n?"none":"flex",alignItems:"center",gap:"10px"},children:[(0,ze.jsx)(Bo,{color:"inherit",startIcon:(0,ze.jsx)(Uo.A,{}),sx:Rs(d("/home")),onClick:()=>e("/home"),children:"Home"}),(0,ze.jsx)(Bo,{color:"inherit",startIcon:(0,ze.jsx)(Vo.A,{}),sx:Rs(d("/profile")),onClick:()=>e("/profile"),children:"Profile"}),(0,ze.jsx)(Bo,{color:"inherit",startIcon:(0,ze.jsx)(Go.A,{}),sx:Rs(d("/results")),onClick:()=>e("/results"),children:"Recommendations"}),o?(0,ze.jsx)(Bo,{color:"inherit",startIcon:(0,ze.jsx)(Ko.A,{}),sx:Ts(),onClick:p,children:"Logout"}):(0,ze.jsx)(Bo,{color:"inherit",startIcon:(0,ze.jsx)(qo.A,{}),sx:Is(l),onClick:()=>e("/login"),children:"Login"}),(0,ze.jsx)(ur,{onClick:u,color:"inherit",children:l?(0,ze.jsx)($o.A,{}):(0,ze.jsx)(Ho.A,{})})]})]})})};var Os=n(1348),Ms=n(1460),Ns=n(8172),Ds=n(6908);const Fs=["onChange","maxRows","minRows","style","value"];function js(e){return parseInt(e,10)||0}const Ls={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function Bs(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const zs=r.forwardRef((function(e,t){const{onChange:n,maxRows:o,minRows:i=1,style:a,value:s}=e,l=(0,Ie.A)(e,Fs),{current:u}=r.useRef(null!=s),c=r.useRef(null),d=(0,pr.A)(t,c),p=r.useRef(null),f=r.useRef(null),h=r.useCallback((()=>{const t=c.current,n=f.current;if(!t||!n)return;const r=(0,Jr.A)(t).getComputedStyle(t);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const a=r.boxSizing,s=js(r.paddingBottom)+js(r.paddingTop),l=js(r.borderBottomWidth)+js(r.borderTopWidth),u=n.scrollHeight;n.value="x";const d=n.scrollHeight;let p=u;i&&(p=Math.max(Number(i)*d,p)),o&&(p=Math.min(Number(o)*d,p)),p=Math.max(p,d);return{outerHeightStyle:p+("border-box"===a?s+l:0),overflowing:Math.abs(p-u)<=1}}),[o,i,e.placeholder]),m=(0,Yr.A)((()=>{const e=c.current,t=h();if(!e||!t||Bs(t))return!1;const n=t.outerHeightStyle;return null!=p.current&&p.current!==n})),v=r.useCallback((()=>{const e=c.current,t=h();if(!e||!t||Bs(t))return;const n=t.outerHeightStyle;p.current!==n&&(p.current=n,e.style.height=`${n}px`),e.style.overflow=t.overflowing?"hidden":""}),[h]),g=r.useRef(-1);(0,Er.A)((()=>{const e=(0,Ds.A)(v),t=null==c?void 0:c.current;if(!t)return;const n=(0,Jr.A)(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver((()=>{m()&&(r.unobserve(t),cancelAnimationFrame(g.current),v(),g.current=requestAnimationFrame((()=>{r.observe(t)})))})),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(g.current),n.removeEventListener("resize",e),r&&r.disconnect()}}),[h,v,m]),(0,Er.A)((()=>{v()}));return(0,ze.jsxs)(r.Fragment,{children:[(0,ze.jsx)("textarea",(0,Te.A)({value:s,onChange:e=>{u||v(),n&&n(e)},ref:d,rows:i,style:a},l)),(0,ze.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:(0,Te.A)({},Ls,a,{paddingTop:0,paddingBottom:0})})]})})),Ws=zs;function Us(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}var Vs=n(773);const Hs=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=Be(r),i="function"===typeof t?t(n&&o[n]||o):t;return(0,ze.jsx)(Vs.A,{styles:i})};const $s=function(e){return(0,ze.jsx)(Hs,(0,Te.A)({},e,{defaultTheme:Lr.A,themeId:He.A}))};function Gs(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function qs(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Gs(e.value)&&""!==e.value||t&&Gs(e.defaultValue)&&""!==e.defaultValue)}function Ks(e){return(0,et.Ay)("MuiInputBase",e)}const Xs=(0,$e.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ys=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Qs=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,ln.A)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Js=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Zs=(0,Qe.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Qs})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Xs.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,Te.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),el=(0,Qe.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Js})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,o=(0,Te.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,Te.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Xs.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${Xs.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),tl=(0,ze.jsx)($s,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),nl=r.forwardRef((function(e,t){var n;const o=(0,Je.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:s,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:p,disableInjectingGlobalStyles:f,endAdornment:h,fullWidth:m=!1,id:v,inputComponent:g="input",inputProps:y={},inputRef:b,maxRows:x,minRows:w,multiline:S=!1,name:A,onBlur:k,onChange:C,onClick:E,onFocus:_,onKeyDown:R,onKeyUp:T,placeholder:I,readOnly:P,renderSuffix:O,rows:M,slotProps:N={},slots:D={},startAdornment:F,type:j="text",value:L}=o,B=(0,Ie.A)(o,Ys),z=null!=y.value?y.value:L,{current:W}=r.useRef(null!=z),U=r.useRef(),V=r.useCallback((e=>{0}),[]),H=(0,st.A)(U,b,y.ref,V),[$,G]=r.useState(!1),q=In();const K=Us({props:o,muiFormControl:q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});K.focused=q?q.focused:$,r.useEffect((()=>{!q&&p&&$&&(G(!1),k&&k())}),[q,p,$,k]);const X=q&&q.onFilled,Y=q&&q.onEmpty,Q=r.useCallback((e=>{qs(e)?X&&X():Y&&Y()}),[X,Y]);(0,Ut.A)((()=>{W&&Q({value:z})}),[z,Q,W]);r.useEffect((()=>{Q(U.current)}),[]);let J=g,Z=y;S&&"input"===J&&(Z=M?(0,Te.A)({type:void 0,minRows:M,maxRows:M},Z):(0,Te.A)({type:void 0,maxRows:x,minRows:w},Z),J=Ws);r.useEffect((()=>{q&&q.setAdornedStart(Boolean(F))}),[q,F]);const ee=(0,Te.A)({},o,{color:K.color||"primary",disabled:K.disabled,endAdornment:h,error:K.error,focused:K.focused,formControl:q,fullWidth:m,hiddenLabel:K.hiddenLabel,multiline:S,size:K.size,startAdornment:F,type:j}),te=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:a,formControl:s,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:p,startAdornment:f,type:h}=e,m={root:["root",`color${(0,ln.A)(n)}`,r&&"disabled",o&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",p&&"medium"!==p&&`size${(0,ln.A)(p)}`,c&&"multiline",f&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===h&&"inputTypeSearch",c&&"inputMultiline","small"===p&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return(0,Ye.A)(m,Ks,t)})(ee),ne=D.root||u.Root||Zs,re=N.root||c.root||{},oe=D.input||u.Input||el;return Z=(0,Te.A)({},Z,null!=(n=N.input)?n:c.input),(0,ze.jsxs)(r.Fragment,{children:[!f&&tl,(0,ze.jsxs)(ne,(0,Te.A)({},re,!at(ne)&&{ownerState:(0,Te.A)({},ee,re.ownerState)},{ref:t,onClick:e=>{U.current&&e.currentTarget===e.target&&U.current.focus(),E&&E(e)}},B,{className:(0,Pe.A)(te.root,re.className,l,P&&"MuiInputBase-readOnly"),children:[F,(0,ze.jsx)(Tn.Provider,{value:null,children:(0,ze.jsx)(oe,(0,Te.A)({ownerState:ee,"aria-invalid":K.error,"aria-describedby":i,autoComplete:a,autoFocus:s,defaultValue:d,disabled:K.disabled,id:v,onAnimationStart:e=>{Q("mui-auto-fill-cancel"===e.animationName?U.current:{value:"x"})},name:A,placeholder:I,readOnly:P,required:K.required,rows:M,value:z,onKeyDown:R,onKeyUp:T,type:j},Z,!at(oe)&&{as:J,ownerState:(0,Te.A)({},ee,Z.ownerState)},{ref:H,className:(0,Pe.A)(te.input,Z.className,P&&"MuiInputBase-readOnly"),onBlur:e=>{k&&k(e),y.onBlur&&y.onBlur(e),q&&q.onBlur?q.onBlur(e):G(!1)},onChange:function(e){if(!W){const t=e.target||U.current;if(null==t)throw new Error((0,Ns.A)(1));Q({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.onChange&&y.onChange(e,...n),C&&C(e,...n)},onFocus:e=>{K.disabled?e.stopPropagation():(_&&_(e),y.onFocus&&y.onFocus(e),q&&q.onFocus?q.onFocus(e):G(!0))}}))}),h,O?O((0,Te.A)({},K,{startAdornment:F})):null]}))]})})),rl=nl;function ol(e){return(0,et.Ay)("MuiInput",e)}const il=(0,Te.A)({},Xs,(0,$e.A)("MuiInput",["root","underline","input"])),al=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],sl=(0,Qe.Ay)(Zs,{shouldForwardProp:e=>(0,_n.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Qs(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,Te.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${il.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${il.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${il.disabled}, .${il.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${il.disabled}:before`]:{borderBottomStyle:"dotted"}})})),ll=(0,Qe.Ay)(el,{name:"MuiInput",slot:"Input",overridesResolver:Js})({}),ul=r.forwardRef((function(e,t){var n,r,o,i;const a=(0,Je.b)({props:e,name:"MuiInput"}),{disableUnderline:s,components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:p=!1,slotProps:f,slots:h={},type:m="text"}=a,v=(0,Ie.A)(a,al),g=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,Ye.A)(r,ol,t);return(0,Te.A)({},t,o)})(a),y={root:{ownerState:{disableUnderline:s}}},b=(null!=f?f:u)?(0,Ms.A)(null!=f?f:u,y):y,x=null!=(n=null!=(r=h.root)?r:l.Root)?n:sl,w=null!=(o=null!=(i=h.input)?i:l.Input)?o:ll;return(0,ze.jsx)(rl,(0,Te.A)({slots:{root:x,input:w},slotProps:b,fullWidth:c,inputComponent:d,multiline:p,ref:t,type:m},v,{classes:g}))}));ul.muiName="Input";const cl=ul;function dl(e){return(0,et.Ay)("MuiFilledInput",e)}const pl=(0,Te.A)({},Xs,(0,$e.A)("MuiFilledInput",["root","underline","input"])),fl=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],hl=(0,Qe.Ay)(Zs,{shouldForwardProp:e=>(0,_n.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Qs(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const o="light"===t.palette.mode,i=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,Te.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},[`&.${pl.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},[`&.${pl.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pl.disabled}, .${pl.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${pl.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,Te.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),ml=(0,Qe.Ay)(el,{name:"MuiFilledInput",slot:"Input",overridesResolver:Js})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),vl=r.forwardRef((function(e,t){var n,r,o,i;const a=(0,Je.b)({props:e,name:"MuiFilledInput"}),{components:s={},componentsProps:l,fullWidth:u=!1,inputComponent:c="input",multiline:d=!1,slotProps:p,slots:f={},type:h="text"}=a,m=(0,Ie.A)(a,fl),v=(0,Te.A)({},a,{fullWidth:u,inputComponent:c,multiline:d,type:h}),g=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,Ye.A)(r,dl,t);return(0,Te.A)({},t,o)})(a),y={root:{ownerState:v},input:{ownerState:v}},b=(null!=p?p:l)?(0,Ms.A)(y,null!=p?p:l):y,x=null!=(n=null!=(r=f.root)?r:s.Root)?n:hl,w=null!=(o=null!=(i=f.input)?i:s.Input)?o:ml;return(0,ze.jsx)(rl,(0,Te.A)({slots:{root:x,input:w},componentsProps:b,fullWidth:u,inputComponent:c,multiline:d,ref:t,type:h},m,{classes:g}))}));vl.muiName="Input";const gl=vl;var yl;const bl=["children","classes","className","label","notched"],xl=(0,Qe.Ay)("fieldset",{shouldForwardProp:_n.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),wl=(0,Qe.Ay)("legend",{shouldForwardProp:_n.A})((e=>{let{ownerState:t,theme:n}=e;return(0,Te.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,Te.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Sl(e){return(0,et.Ay)("MuiOutlinedInput",e)}const Al=(0,Te.A)({},Xs,(0,$e.A)("MuiOutlinedInput",["root","notchedOutline","input"])),kl=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Cl=(0,Qe.Ay)(Zs,{shouldForwardProp:e=>(0,_n.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:Qs})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,Te.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Al.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Al.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Al.focused} .${Al.notchedOutline}`]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},[`&.${Al.error} .${Al.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Al.disabled} .${Al.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,Te.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),El=(0,Qe.Ay)((function(e){const{className:t,label:n,notched:r}=e,o=(0,Ie.A)(e,bl),i=null!=n&&""!==n,a=(0,Te.A)({},e,{notched:r,withLabel:i});return(0,ze.jsx)(xl,(0,Te.A)({"aria-hidden":!0,className:t,ownerState:a},o,{children:(0,ze.jsx)(wl,{ownerState:a,children:i?(0,ze.jsx)("span",{children:n}):yl||(yl=(0,ze.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),_l=(0,Qe.Ay)(el,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Js})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Rl=r.forwardRef((function(e,t){var n,o,i,a,s;const l=(0,Je.b)({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:p,multiline:f=!1,notched:h,slots:m={},type:v="text"}=l,g=(0,Ie.A)(l,kl),y=(e=>{const{classes:t}=e,n=(0,Ye.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Sl,t);return(0,Te.A)({},t,n)})(l),b=In(),x=Us({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=(0,Te.A)({},l,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:b,fullWidth:c,hiddenLabel:x.hiddenLabel,multiline:f,size:x.size,type:v}),S=null!=(n=null!=(o=m.root)?o:u.Root)?n:Cl,A=null!=(i=null!=(a=m.input)?a:u.Input)?i:_l;return(0,ze.jsx)(rl,(0,Te.A)({slots:{root:S,input:A},renderSuffix:e=>(0,ze.jsx)(El,{ownerState:w,className:y.notchedOutline,label:null!=p&&""!==p&&x.required?s||(s=(0,ze.jsxs)(r.Fragment,{children:[p,"\u2009","*"]})):p,notched:"undefined"!==typeof h?h:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:t,type:v},g,{classes:(0,Te.A)({},y,{notchedOutline:null})}))}));Rl.muiName="Input";const Tl=Rl;function Il(e){return(0,et.Ay)("MuiFormLabel",e)}const Pl=(0,$e.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Ol=["children","className","color","component","disabled","error","filled","focused","required"],Ml=(0,Qe.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,Te.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Pl.focused}`]:{color:(t.vars||t).palette[n.color].main},[`&.${Pl.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Pl.error}`]:{color:(t.vars||t).palette.error.main}})})),Nl=(0,Qe.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${Pl.error}`]:{color:(t.vars||t).palette.error.main}}})),Dl=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiFormLabel"}),{children:r,className:o,component:i="label"}=n,a=(0,Ie.A)(n,Ol),s=Us({props:n,muiFormControl:In(),states:["color","required","focused","disabled","error","filled"]}),l=(0,Te.A)({},n,{color:s.color||"primary",component:i,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),u=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:a,required:s}=e,l={root:["root",`color${(0,ln.A)(n)}`,o&&"disabled",i&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",i&&"error"]};return(0,Ye.A)(l,Il,t)})(l);return(0,ze.jsxs)(Ml,(0,Te.A)({as:i,ownerState:l,className:(0,Pe.A)(u.root,o),ref:t},a,{children:[r,s.required&&(0,ze.jsxs)(Nl,{ownerState:l,"aria-hidden":!0,className:u.asterisk,children:["\u2009","*"]})]}))}));function Fl(e){return(0,et.Ay)("MuiInputLabel",e)}(0,$e.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const jl=["disableAnimation","margin","shrink","variant","className"],Ll=(0,Qe.Ay)(Dl,{shouldForwardProp:e=>(0,_n.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Pl.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,Te.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,Te.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,Te.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Bl=r.forwardRef((function(e,t){const n=(0,Je.b)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:o,className:i}=n,a=(0,Ie.A)(n,jl),s=In();let l=o;"undefined"===typeof l&&s&&(l=s.filled||s.focused||s.adornedStart);const u=Us({props:n,muiFormControl:s,states:["size","variant","required","focused"]}),c=(0,Te.A)({},n,{disableAnimation:r,formControl:s,shrink:l,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:a,required:s}=e,l={root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&"normal"!==r&&`size${(0,ln.A)(r)}`,a],asterisk:[s&&"asterisk"]},u=(0,Ye.A)(l,Fl,t);return(0,Te.A)({},t,u)})(c);return(0,ze.jsx)(Ll,(0,Te.A)({"data-shrink":l,ownerState:c,ref:t,className:(0,Pe.A)(d.root,i)},a,{classes:d}))}));function zl(e){return(0,et.Ay)("MuiFormControl",e)}(0,$e.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Wl=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Ul=(0,Qe.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,Te.A)({},t.root,t[`margin${(0,ln.A)(n.margin)}`],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,Te.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Vl=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiFormControl"}),{children:o,className:i,color:a="primary",component:s="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:p=!1,margin:f="none",required:h=!1,size:m="medium",variant:v="outlined"}=n,g=(0,Ie.A)(n,Wl),y=(0,Te.A)({},n,{color:a,component:s,disabled:l,error:u,fullWidth:d,hiddenLabel:p,margin:f,required:h,size:m,variant:v}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root","none"!==n&&`margin${(0,ln.A)(n)}`,r&&"fullWidth"]};return(0,Ye.A)(o,zl,t)})(y),[x,w]=r.useState((()=>{let e=!1;return o&&r.Children.forEach(o,(t=>{if(!(0,Wt.A)(t,["Input","Select"]))return;const n=(0,Wt.A)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,A]=r.useState((()=>{let e=!1;return o&&r.Children.forEach(o,(t=>{(0,Wt.A)(t,["Input","Select"])&&(qs(t.props,!0)||qs(t.props.inputProps,!0))&&(e=!0)})),e})),[k,C]=r.useState(!1);l&&k&&C(!1);const E=void 0===c||l?k:c;let _;const R=r.useMemo((()=>({adornedStart:x,setAdornedStart:w,color:a,disabled:l,error:u,filled:S,focused:E,fullWidth:d,hiddenLabel:p,size:m,onBlur:()=>{C(!1)},onEmpty:()=>{A(!1)},onFilled:()=>{A(!0)},onFocus:()=>{C(!0)},registerEffect:_,required:h,variant:v})),[x,a,l,u,S,E,d,p,_,h,m,v]);return(0,ze.jsx)(Tn.Provider,{value:R,children:(0,ze.jsx)(Ul,(0,Te.A)({as:s,ownerState:y,className:(0,Pe.A)(b.root,i),ref:t},g,{children:o}))})}));function Hl(e){return(0,et.Ay)("MuiFormHelperText",e)}const $l=(0,$e.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Gl;const ql=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Kl=(0,Qe.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,ln.A)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${$l.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${$l.error}`]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),Xl=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:i="p"}=n,a=(0,Ie.A)(n,ql),s=Us({props:n,muiFormControl:In(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,Te.A)({},n,{component:i,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),u=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:a,focused:s,required:l}=e,u={root:["root",o&&"disabled",i&&"error",r&&`size${(0,ln.A)(r)}`,n&&"contained",s&&"focused",a&&"filled",l&&"required"]};return(0,Ye.A)(u,Hl,t)})(l);return(0,ze.jsx)(Kl,(0,Te.A)({as:i,ownerState:l,className:(0,Pe.A)(u.root,o),ref:t},a,{children:" "===r?Gl||(Gl=(0,ze.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))}));var Yl=n(7147);const Ql=Zr,Jl=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Zl(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function eu(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function tu(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function nu(e,t,n,r,o,i){let a=!1,s=o(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&tu(s,i)&&!t)return s.focus(),!0;s=o(e,s,n)}return!1}const ru=r.forwardRef((function(e,t){const{actions:n,autoFocus:o=!1,autoFocusItem:i=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,p=(0,Ie.A)(e,Jl),f=r.useRef(null),h=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,Ut.A)((()=>{o&&f.current.focus()}),[o]),r.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&r){const t=`${Ql((0,Yl.A)(e))}px`;f.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,f.current.style.width=`calc(100% + ${t})`}return f.current}})),[]);const m=(0,st.A)(f,t);let v=-1;r.Children.forEach(a,((e,t)=>{r.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===v)&&(v=t),v===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(v+=1,v>=a.length&&(v=-1))):v===t&&(v+=1,v>=a.length&&(v=-1))}));const g=r.Children.map(a,((e,t)=>{if(t===v){const t={};return i&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),r.cloneElement(e,t)}return e}));return(0,ze.jsx)(ot,(0,Te.A)({role:"menu",ref:m,className:s,onKeyDown:e=>{const t=f.current,n=e.key,r=(0,Yl.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),nu(t,r,u,l,Zl);else if("ArrowUp"===n)e.preventDefault(),nu(t,r,u,l,eu);else if("Home"===n)e.preventDefault(),nu(t,null,u,l,Zl);else if("End"===n)e.preventDefault(),nu(t,null,u,l,eu);else if(1===n.length){const o=h.current,i=n.toLowerCase(),a=performance.now();o.keys.length>0&&(a-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=a,o.keys.push(i);const s=r&&!o.repeating&&tu(r,o);o.previousKeyMatched&&(s||nu(t,r,!1,l,Zl,o))?e.preventDefault():o.previousKeyMatched=!1}c&&c(e)},tabIndex:o?0:-1},p,{children:g}))})),ou=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function iu(e){return`scale(${e}, ${e**2})`}const au={entering:{opacity:1,transform:iu(1)},entered:{opacity:1,transform:"none"}},su="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),lu=r.forwardRef((function(e,t){const{addEndListener:n,appear:o=!0,children:i,easing:a,in:s,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:p,onExiting:f,style:h,timeout:m="auto",TransitionComponent:v=jr}=e,g=(0,Ie.A)(e,ou),y=(0,xt.A)(),b=r.useRef(),x=Br(),w=r.useRef(null),S=(0,st.A)(w,xr(i),t),A=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},k=A(c),C=A(((e,t)=>{zr(e);const{duration:n,delay:r,easing:o}=Wr({style:h,timeout:m,easing:a},{mode:"enter"});let i;"auto"===m?(i=x.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=n,e.style.transition=[x.transitions.create("opacity",{duration:i,delay:r}),x.transitions.create("transform",{duration:su?i:.666*i,delay:r,easing:o})].join(","),l&&l(e,t)})),E=A(u),_=A(f),R=A((e=>{const{duration:t,delay:n,easing:r}=Wr({style:h,timeout:m,easing:a},{mode:"exit"});let o;"auto"===m?(o=x.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=t,e.style.transition=[x.transitions.create("opacity",{duration:o,delay:n}),x.transitions.create("transform",{duration:su?o:.666*o,delay:su?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=iu(.75),d&&d(e)})),T=A(p);return(0,ze.jsx)(v,(0,Te.A)({appear:o,in:s,nodeRef:w,onEnter:C,onEntered:E,onEntering:k,onExit:R,onExited:T,onExiting:_,addEndListener:e=>{"auto"===m&&y.start(b.current||0,e),n&&n(w.current,e)},timeout:"auto"===m?null:m},g,{children:(e,t)=>r.cloneElement(i,(0,Te.A)({style:(0,Te.A)({opacity:0,transform:iu(.75),visibility:"exited"!==e||s?void 0:"hidden"},au[e],h,i.props.style),ref:S},t))}))}));lu.muiSupportAuto=!0;const uu=lu;function cu(e){return(0,et.Ay)("MuiPopover",e)}(0,$e.A)("MuiPopover",["root","paper"]);const du=["onEntering"],pu=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],fu=["slotProps"];function hu(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function mu(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function vu(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function gu(e){return"function"===typeof e?e():e}const yu=(0,Qe.Ay)(fo,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),bu=(0,Qe.Ay)(Xn,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),xu=r.forwardRef((function(e,t){var n,o,i;const a=(0,Je.b)({props:e,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:p,className:f,container:h,elevation:m=8,marginThreshold:v=16,open:g,PaperProps:y={},slots:b,slotProps:x,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:S=uu,transitionDuration:A="auto",TransitionProps:{onEntering:k}={},disableScrollLock:C=!1}=a,E=(0,Ie.A)(a.TransitionProps,du),_=(0,Ie.A)(a,pu),R=null!=(n=null==x?void 0:x.paper)?n:y,T=r.useRef(),I=(0,st.A)(T,R.ref),P=(0,Te.A)({},a,{anchorOrigin:u,anchorReference:d,elevation:m,marginThreshold:v,externalPaperSlotProps:R,transformOrigin:w,TransitionComponent:S,transitionDuration:A,TransitionProps:E}),O=(e=>{const{classes:t}=e;return(0,Ye.A)({root:["root"],paper:["paper"]},cu,t)})(P),M=r.useCallback((()=>{if("anchorPosition"===d)return c;const e=gu(l),t=(e&&1===e.nodeType?e:(0,Yl.A)(T.current).body).getBoundingClientRect();return{top:t.top+hu(t,u.vertical),left:t.left+mu(t,u.horizontal)}}),[l,u.horizontal,u.vertical,c,d]),N=r.useCallback((e=>({vertical:hu(e,w.vertical),horizontal:mu(e,w.horizontal)})),[w.horizontal,w.vertical]),D=r.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=N(t);if("none"===d)return{top:null,left:null,transformOrigin:vu(n)};const r=M();let o=r.top-n.vertical,i=r.left-n.horizontal;const a=o+t.height,s=i+t.width,u=(0,mo.A)(gu(l)),c=u.innerHeight-v,p=u.innerWidth-v;if(null!==v&&o<v){const e=o-v;o-=e,n.vertical+=e}else if(null!==v&&a>c){const e=a-c;o-=e,n.vertical+=e}if(null!==v&&i<v){const e=i-v;i-=e,n.horizontal+=e}else if(s>p){const e=s-p;i-=e,n.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(i)}px`,transformOrigin:vu(n)}}),[l,d,M,N,v]),[F,j]=r.useState(g),L=r.useCallback((()=>{const e=T.current;if(!e)return;const t=D(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,j(!0)}),[D]);r.useEffect((()=>(C&&window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L))),[l,C,L]);r.useEffect((()=>{g&&L()})),r.useImperativeHandle(s,(()=>g?{updatePosition:()=>{L()}}:null),[g,L]),r.useEffect((()=>{if(!g)return;const e=(0,ho.A)((()=>{L()})),t=(0,mo.A)(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,g,L]);let B=A;"auto"!==A||S.muiSupportAuto||(B=void 0);const z=h||(l?(0,Yl.A)(gu(l)).body:void 0),W=null!=(o=null==b?void 0:b.root)?o:yu,U=null!=(i=null==b?void 0:b.paper)?i:bu,V=br({elementType:U,externalSlotProps:(0,Te.A)({},R,{style:F?R.style:(0,Te.A)({},R.style,{opacity:0})}),additionalProps:{elevation:m,ref:I},ownerState:P,className:(0,Pe.A)(O.paper,null==R?void 0:R.className)}),H=br({elementType:W,externalSlotProps:(null==x?void 0:x.root)||{},externalForwardedProps:_,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:z,open:g},ownerState:P,className:(0,Pe.A)(O.root,f)}),{slotProps:$}=H,G=(0,Ie.A)(H,fu);return(0,ze.jsx)(W,(0,Te.A)({},G,!at(W)&&{slotProps:$,disableScrollLock:C},{children:(0,ze.jsx)(S,(0,Te.A)({appear:!0,in:g,onEntering:(e,t)=>{k&&k(e,t),L()},onExited:()=>{j(!1)},timeout:B},E,{children:(0,ze.jsx)(U,(0,Te.A)({},V,{children:p}))}))}))})),wu=xu;function Su(e){return(0,et.Ay)("MuiMenu",e)}(0,$e.A)("MuiMenu",["root","paper","list"]);const Au=["onEntering"],ku=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Cu={vertical:"top",horizontal:"right"},Eu={vertical:"top",horizontal:"left"},_u=(0,Qe.Ay)(wu,{shouldForwardProp:e=>(0,_n.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ru=(0,Qe.Ay)(bu,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Tu=(0,Qe.Ay)(ru,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Iu=r.forwardRef((function(e,t){var n,o;const i=(0,Je.b)({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:p,PaperProps:f={},PopoverClasses:h,transitionDuration:m="auto",TransitionProps:{onEntering:v}={},variant:g="selectedMenu",slots:y={},slotProps:b={}}=i,x=(0,Ie.A)(i.TransitionProps,Au),w=(0,Ie.A)(i,ku),S=dr(),A=(0,Te.A)({},i,{autoFocus:a,disableAutoFocusItem:u,MenuListProps:c,onEntering:v,PaperProps:f,transitionDuration:m,TransitionProps:x,variant:g}),k=(e=>{const{classes:t}=e;return(0,Ye.A)({root:["root"],paper:["paper"],list:["list"]},Su,t)})(A),C=a&&!u&&p,E=r.useRef(null);let _=-1;r.Children.map(s,((e,t)=>{r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===_)&&(_=t))}));const R=null!=(n=y.paper)?n:Ru,T=null!=(o=b.paper)?o:f,I=br({elementType:y.root,externalSlotProps:b.root,ownerState:A,className:[k.root,l]}),P=br({elementType:R,externalSlotProps:T,ownerState:A,className:k.paper});return(0,ze.jsx)(_u,(0,Te.A)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?Cu:Eu,slots:{paper:R,root:y.root},slotProps:{root:I,paper:P},open:p,ref:t,transitionDuration:m,TransitionProps:(0,Te.A)({onEntering:(e,t)=>{E.current&&E.current.adjustStyleForScrollbar(e,{direction:S?"rtl":"ltr"}),v&&v(e,t)}},x),ownerState:A},w,{classes:h,children:(0,ze.jsx)(Tu,(0,Te.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:E,autoFocus:a&&(-1===_||u),autoFocusItem:C,variant:g},c,{className:(0,Pe.A)(k.list,c.className),children:s}))}))}));function Pu(e){return(0,et.Ay)("MuiNativeSelect",e)}const Ou=(0,$e.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Mu=["className","disabled","error","IconComponent","inputRef","variant"],Nu=e=>{let{ownerState:t,theme:n}=e;return(0,Te.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,Te.A)({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Ou.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},Du=(0,Qe.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:_n.A,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Ou.multiple}`]:t.multiple}]}})(Nu),Fu=e=>{let{ownerState:t,theme:n}=e;return(0,Te.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${Ou.disabled}`]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},ju=(0,Qe.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,ln.A)(n.variant)}`],n.open&&t.iconOpen]}})(Fu),Lu=r.forwardRef((function(e,t){const{className:n,disabled:o,error:i,IconComponent:a,inputRef:s,variant:l="standard"}=e,u=(0,Ie.A)(e,Mu),c=(0,Te.A)({},e,{disabled:o,variant:l,error:i}),d=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:a}=e,s={select:["select",n,r&&"disabled",o&&"multiple",a&&"error"],icon:["icon",`icon${(0,ln.A)(n)}`,i&&"iconOpen",r&&"disabled"]};return(0,Ye.A)(s,Pu,t)})(c);return(0,ze.jsxs)(r.Fragment,{children:[(0,ze.jsx)(Du,(0,Te.A)({ownerState:c,className:(0,Pe.A)(d.select,n),disabled:o,ref:s||t},u)),e.multiple?null:(0,ze.jsx)(ju,{as:a,ownerState:c,className:d.icon})]})}));var Bu=n(835);function zu(e){return(0,et.Ay)("MuiSelect",e)}const Wu=(0,$e.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Uu;const Vu=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Hu=(0,Qe.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Wu.select}`]:t.select},{[`&.${Wu.select}`]:t[n.variant]},{[`&.${Wu.error}`]:t.error},{[`&.${Wu.multiple}`]:t.multiple}]}})(Nu,{[`&.${Wu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),$u=(0,Qe.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,ln.A)(n.variant)}`],n.open&&t.iconOpen]}})(Fu),Gu=(0,Qe.Ay)("input",{shouldForwardProp:e=>(0,Bu.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function qu(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Ku(e){return null==e||"string"===typeof e&&!e.trim()}const Xu=r.forwardRef((function(e,t){var n;const{"aria-describedby":o,"aria-label":i,autoFocus:a,autoWidth:s,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:p,displayEmpty:f,error:h=!1,IconComponent:m,inputRef:v,labelId:g,MenuProps:y={},multiple:b,name:x,onBlur:w,onChange:S,onClose:A,onFocus:k,onOpen:C,open:E,readOnly:_,renderValue:R,SelectDisplayProps:T={},tabIndex:I,value:P,variant:O="standard"}=e,M=(0,Ie.A)(e,Vu),[N,D]=(0,Rn.A)({controlled:P,default:d,name:"Select"}),[F,j]=(0,Rn.A)({controlled:E,default:c,name:"Select"}),L=r.useRef(null),B=r.useRef(null),[z,W]=r.useState(null),{current:U}=r.useRef(null!=E),[V,H]=r.useState(),$=(0,st.A)(t,v),G=r.useCallback((e=>{B.current=e,e&&W(e)}),[]),q=null==z?void 0:z.parentNode;r.useImperativeHandle($,(()=>({focus:()=>{B.current.focus()},node:L.current,value:N})),[N]),r.useEffect((()=>{c&&F&&z&&!U&&(H(s?null:q.clientWidth),B.current.focus())}),[z,s]),r.useEffect((()=>{a&&B.current.focus()}),[a]),r.useEffect((()=>{if(!g)return;const e=(0,Yl.A)(B.current).getElementById(g);if(e){const t=()=>{getSelection().isCollapsed&&B.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[g]);const K=(e,t)=>{e?C&&C(t):A&&A(t),U||(H(s?null:q.clientWidth),j(e))},X=r.Children.toArray(l),Y=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(N)?N.slice():[];const t=N.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),N!==n&&(D(n),S)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:x}}),S(o,e)}b||K(!1,t)}},Q=null!==z&&F;let J,Z;delete M["aria-invalid"];const ee=[];let te=!1,ne=!1;(qs({value:N})||f)&&(R?J=R(N):te=!0);const re=X.map((e=>{if(!r.isValidElement(e))return null;let t;if(b){if(!Array.isArray(N))throw new Error((0,Ns.A)(2));t=N.some((t=>qu(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=qu(N,e.props.value),t&&te&&(Z=e.props.children);return t&&(ne=!0),r.cloneElement(e,{"aria-selected":t?"true":"false",onClick:Y(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(J=b?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):Z);let oe,ie=V;!s&&U&&z&&(ie=q.clientWidth),oe="undefined"!==typeof I?I:p?null:0;const ae=T.id||(x?`mui-component-select-${x}`:void 0),se=(0,Te.A)({},e,{variant:O,value:N,open:Q,error:h}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:a}=e,s={select:["select",n,r&&"disabled",o&&"multiple",a&&"error"],icon:["icon",`icon${(0,ln.A)(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,Ye.A)(s,zu,t)})(se),ue=(0,Te.A)({},y.PaperProps,null==(n=y.slotProps)?void 0:n.paper),ce=(0,Os.A)();return(0,ze.jsxs)(r.Fragment,{children:[(0,ze.jsx)(Hu,(0,Te.A)({ref:G,tabIndex:oe,role:"combobox","aria-controls":ce,"aria-disabled":p?"true":void 0,"aria-expanded":Q?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[g,ae].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:e=>{if(!_){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),K(!0,e))}},onMouseDown:p||_?null:e=>{0===e.button&&(e.preventDefault(),B.current.focus(),K(!0,e))},onBlur:e=>{!Q&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:N,name:x}}),w(e))},onFocus:k},T,{ownerState:se,className:(0,Pe.A)(T.className,le.select,u),id:ae,children:Ku(J)?Uu||(Uu=(0,ze.jsx)("span",{className:"notranslate",children:"\u200b"})):J})),(0,ze.jsx)(Gu,(0,Te.A)({"aria-invalid":h,value:Array.isArray(N)?N.join(","):N,name:x,ref:L,"aria-hidden":!0,onChange:e=>{const t=X.find((t=>t.props.value===e.target.value));void 0!==t&&(D(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:p,className:le.nativeInput,autoFocus:a,ownerState:se},M)),(0,ze.jsx)($u,{as:m,className:le.icon,ownerState:se}),(0,ze.jsx)(Iu,(0,Te.A)({id:`menu-${x||""}`,anchorEl:q,open:Q,onClose:e=>{K(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,Te.A)({"aria-labelledby":g,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:ce},y.MenuListProps),slotProps:(0,Te.A)({},y.slotProps,{paper:(0,Te.A)({},ue,{style:(0,Te.A)({minWidth:ie},null!=ue?ue.style:null)})}),children:re}))]})})),Yu=Xu;var Qu=n(1338);const Ju=(0,Qu.A)((0,ze.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Zu=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],ec=["root"],tc={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,_n.A)(e)&&"variant"!==e,slot:"Root"},nc=(0,Qe.Ay)(cl,tc)(""),rc=(0,Qe.Ay)(Tl,tc)(""),oc=(0,Qe.Ay)(gl,tc)(""),ic=r.forwardRef((function(e,t){const n=(0,Je.b)({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:i,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=Ju,id:d,input:p,inputProps:f,label:h,labelId:m,MenuProps:v,multiple:g=!1,native:y=!1,onClose:b,onOpen:x,open:w,renderValue:S,SelectDisplayProps:A,variant:k="outlined"}=n,C=(0,Ie.A)(n,Zu),E=y?Lu:Yu,_=Us({props:n,muiFormControl:In(),states:["variant","error"]}),R=_.variant||k,T=(0,Te.A)({},n,{variant:R,classes:a}),I=(e=>{const{classes:t}=e;return t})(T),P=(0,Ie.A)(I,ec),O=p||{standard:(0,ze.jsx)(nc,{ownerState:T}),outlined:(0,ze.jsx)(rc,{label:h,ownerState:T}),filled:(0,ze.jsx)(oc,{ownerState:T})}[R],M=(0,st.A)(t,xr(O));return(0,ze.jsx)(r.Fragment,{children:r.cloneElement(O,(0,Te.A)({inputComponent:E,inputProps:(0,Te.A)({children:i,error:_.error,IconComponent:c,variant:R,type:void 0,multiple:g},y?{id:d}:{autoWidth:o,defaultOpen:l,displayEmpty:u,labelId:m,MenuProps:v,onClose:b,onOpen:x,open:w,renderValue:S,SelectDisplayProps:(0,Te.A)({id:d},A)},f,{classes:f?(0,Ms.A)(P,f.classes):P},p?p.props.inputProps:{})},(g&&y||u)&&"outlined"===R?{notched:!0}:{},{ref:M,className:(0,Pe.A)(O.props.className,s,I.root)},!p&&{variant:R},C))})}));ic.muiName="Select";const ac=ic;function sc(e){return(0,et.Ay)("MuiTextField",e)}(0,$e.A)("MuiTextField",["root"]);const lc=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],uc={standard:cl,filled:gl,outlined:Tl},cc=(0,Qe.Ay)(Vl,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),dc=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:i,className:a,color:s="primary",defaultValue:l,disabled:u=!1,error:c=!1,FormHelperTextProps:d,fullWidth:p=!1,helperText:f,id:h,InputLabelProps:m,inputProps:v,InputProps:g,inputRef:y,label:b,maxRows:x,minRows:w,multiline:S=!1,name:A,onBlur:k,onChange:C,onFocus:E,placeholder:_,required:R=!1,rows:T,select:I=!1,SelectProps:P,type:O,value:M,variant:N="outlined"}=n,D=(0,Ie.A)(n,lc),F=(0,Te.A)({},n,{autoFocus:o,color:s,disabled:u,error:c,fullWidth:p,multiline:S,required:R,select:I,variant:N}),j=(e=>{const{classes:t}=e;return(0,Ye.A)({root:["root"]},sc,t)})(F);const L={};"outlined"===N&&(m&&"undefined"!==typeof m.shrink&&(L.notched=m.shrink),L.label=b),I&&(P&&P.native||(L.id=void 0),L["aria-describedby"]=void 0);const B=(0,Os.A)(h),z=f&&B?`${B}-helper-text`:void 0,W=b&&B?`${B}-label`:void 0,U=uc[N],V=(0,ze.jsx)(U,(0,Te.A)({"aria-describedby":z,autoComplete:r,autoFocus:o,defaultValue:l,fullWidth:p,multiline:S,name:A,rows:T,maxRows:x,minRows:w,type:O,value:M,id:B,inputRef:y,onBlur:k,onChange:C,onFocus:E,placeholder:_,inputProps:v},L,g));return(0,ze.jsxs)(cc,(0,Te.A)({className:(0,Pe.A)(j.root,a),disabled:u,error:c,fullWidth:p,ref:t,required:R,color:s,variant:N,ownerState:F},D,{children:[null!=b&&""!==b&&(0,ze.jsx)(Bl,(0,Te.A)({htmlFor:B,id:W},m,{children:b})),I?(0,ze.jsx)(ac,(0,Te.A)({"aria-describedby":z,id:B,labelId:W,value:M,input:V},P,{children:i})):V,f&&(0,ze.jsx)(Xl,(0,Te.A)({id:z},d,{children:f}))]}))})),pc=dc;function fc(e){return(0,et.Ay)("MuiInputAdornment",e)}const hc=(0,$e.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var mc;const vc=["children","className","component","disablePointerEvents","disableTypography","position","variant"],gc=(0,Qe.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,ln.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{[`&.${hc.positionStart}&:not(.${hc.hiddenLabel})`]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),yc=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiInputAdornment"}),{children:o,className:i,component:a="div",disablePointerEvents:s=!1,disableTypography:l=!1,position:u,variant:c}=n,d=(0,Ie.A)(n,vc),p=In()||{};let f=c;c&&p.variant,p&&!f&&(f=p.variant);const h=(0,Te.A)({},n,{hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:s,position:u,variant:f}),m=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:a}=e,s={root:["root",n&&"disablePointerEvents",o&&`position${(0,ln.A)(o)}`,a,r&&"hiddenLabel",i&&`size${(0,ln.A)(i)}`]};return(0,Ye.A)(s,fc,t)})(h);return(0,ze.jsx)(Tn.Provider,{value:null,children:(0,ze.jsx)(gc,(0,Te.A)({as:a,ownerState:h,className:(0,Pe.A)(m.root,i),ref:t},d,{children:"string"!==typeof o||l?(0,ze.jsxs)(r.Fragment,{children:["start"===u?mc||(mc=(0,ze.jsx)("span",{className:"notranslate",children:"\u200b"})):null,o]}):(0,ze.jsx)(hn,{color:"text.secondary",children:o})}))})}));function bc(e){return(0,et.Ay)("MuiCircularProgress",e)}(0,$e.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const xc=["className","color","disableShrink","size","style","thickness","value","variant"];let wc,Sc,Ac,kc,Cc=e=>e;const Ec=44,_c=(0,bt.i7)(wc||(wc=Cc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Rc=(0,bt.i7)(Sc||(Sc=Cc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Tc=(0,Qe.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,ln.A)(n.color)}`]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Te.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,bt.AH)(Ac||(Ac=Cc`
      animation: ${0} 1.4s linear infinite;
    `),_c)})),Ic=(0,Qe.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Pc=(0,Qe.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,ln.A)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Te.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,bt.AH)(kc||(kc=Cc`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Rc)})),Oc=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:i=!1,size:a=40,style:s,thickness:l=3.6,value:u=0,variant:c="indeterminate"}=n,d=(0,Ie.A)(n,xc),p=(0,Te.A)({},n,{color:o,disableShrink:i,size:a,thickness:l,value:u,variant:c}),f=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,`color${(0,ln.A)(r)}`],svg:["svg"],circle:["circle",`circle${(0,ln.A)(n)}`,o&&"circleDisableShrink"]};return(0,Ye.A)(i,bc,t)})(p),h={},m={},v={};if("determinate"===c){const e=2*Math.PI*((Ec-l)/2);h.strokeDasharray=e.toFixed(3),v["aria-valuenow"]=Math.round(u),h.strokeDashoffset=`${((100-u)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,ze.jsx)(Tc,(0,Te.A)({className:(0,Pe.A)(f.root,r),style:(0,Te.A)({width:a,height:a},m,s),ownerState:p,ref:t,role:"progressbar"},v,d,{children:(0,ze.jsx)(Ic,{className:f.svg,ownerState:p,viewBox:"22 22 44 44",children:(0,ze.jsx)(Pc,{className:f.circle,style:h,ownerState:p,cx:Ec,cy:Ec,r:(Ec-l)/2,fill:"none",strokeWidth:l})})}))})),Mc=Oc,Nc=(0,Qu.A)((0,ze.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),Dc=(0,Qu.A)((0,ze.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Fc=e=>({container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e?"#121212":"#f9f9f9",transition:"background-color 0.3s ease, color 0.3s ease"},formContainer:{padding:"30px",width:"350px",borderRadius:"10px",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)",backgroundColor:e?"#1f1f1f":"white",color:e?"#ffffff":"#000000",transition:"background-color 0.3s ease, color 0.3s ease"}}),jc=()=>{const[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),[u,c]=(0,r.useState)(!1),[d,p]=(0,r.useState)(""),f=ee(),{isDarkMode:h}=(0,r.useContext)(ei);r.useEffect((()=>{(()=>{const e=ks(),t=localStorage.getItem("username");c(e),e&&t&&p(t)})()}),[]);const m=async()=>{if(e&&n){l(!0);try{const t=await Ss(e,n);"Login successful"===t.message?(alert("Login successful!"),f("/home")):alert(t.error||"Login failed. Please try again.")}catch(t){console.error("Login failed:",t),alert("Login failed. Please check your credentials, or our servers are having issues. Please try again later.")}finally{l(!1)}}else alert("Please fill in all fields")},v=e=>{"Enter"===e.key&&m()},g=Fc(h);return(0,ze.jsx)("div",{style:g.container,children:(0,ze.jsxs)(Xn,{elevation:4,style:g.formContainer,children:[(0,ze.jsx)(hn,{variant:"h4",align:"center",sx:{mb:3,fontFamily:"Poppins",color:h?"#ffffff":"#000000"},children:u?"Already Logged In":"Login"}),u?(0,ze.jsx)(Xe,{sx:{textAlign:"center",mb:3},children:"loggedOut"===u?(0,ze.jsx)(Xe,{sx:{my:3,p:2,border:"1px solid #6A1B9A",borderRadius:2,background:h?"#222":"#f8f8f8"},children:(0,ze.jsx)(hn,{variant:"h6",sx:{color:"#6A1B9A",fontFamily:"Poppins"},children:"You are now logged out successfully"})}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)(hn,{variant:"h6",sx:{fontFamily:"Poppins",color:h?"#64FFDA":"#00BFA5",mb:2},children:["You are logged in as ",(0,ze.jsx)("strong",{children:d})]}),(0,ze.jsx)(Bo,{variant:"contained",color:"primary",onClick:()=>f("/profile"),sx:{mr:2,backgroundColor:"#6A1B9A"},children:"Go to Profile"}),(0,ze.jsx)(Bo,{variant:"outlined",color:"error",onClick:()=>{As(),c("loggedOut"),p(""),setTimeout((()=>f("/")),1500)},children:"Logout"})]})}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(pc,{label:"Username",variant:"outlined",fullWidth:!0,value:e,onChange:e=>t(e.target.value),onKeyPress:v,sx:{mb:2},InputProps:{style:{fontFamily:"Poppins",fontSize:"16px",color:h?"#ffffff":"#000000"}},InputLabelProps:{style:{fontFamily:"Poppins",color:h?"#cccccc":"#000000"}}}),(0,ze.jsx)(pc,{label:"Password",type:i?"text":"password",variant:"outlined",fullWidth:!0,value:n,onChange:e=>o(e.target.value),onKeyPress:v,sx:{mb:2},InputProps:{endAdornment:(0,ze.jsx)(yc,{position:"end",children:(0,ze.jsx)(ur,{"aria-label":"toggle password visibility",onClick:()=>{a((e=>!e))},edge:"end",sx:{color:h?"white":"#333"},children:i?(0,ze.jsx)(Nc,{}):(0,ze.jsx)(Dc,{})})}),style:{fontFamily:"Poppins",fontSize:"16px",color:h?"#ffffff":"#000000"}},InputLabelProps:{style:{fontFamily:"Poppins",color:h?"#cccccc":"#000000"}}}),(0,ze.jsxs)(Bo,{variant:"contained",color:"secondary",fullWidth:!0,onClick:m,sx:{mb:2,backgroundColor:"#6A1B9A",font:"inherit"},disabled:s,children:[s?(0,ze.jsx)(Mc,{size:24,color:"inherit"}):"Login"," "]}),(0,ze.jsx)(hn,{variant:"body2",align:"center",sx:{cursor:"pointer",textDecoration:"underline",fontFamily:"Poppins",mb:2,color:h?"#ffffff":"#000000","&:hover":{color:"#6A1B9A",transition:"color 0.2s"}},onClick:()=>f("/forgot-password"),children:"Forgot Password?"}),(0,ze.jsx)(hn,{variant:"body2",align:"center",sx:{cursor:"pointer",textDecoration:"underline",fontFamily:"Poppins",color:h?"#ffffff":"#000000","&:hover":{color:"#6A1B9A",transition:"color 0.2s"}},onClick:()=>f("/register"),children:"Don't have an account? Register"})]})]})})},Lc=e=>({container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e?"#121212":"#f9f9f9",transition:"background-color 0.3s ease, color 0.3s ease"},formContainer:{padding:"30px",width:"350px",borderRadius:"10px",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)",backgroundColor:e?"#1f1f1f":"white",color:e?"#ffffff":"#000000",transition:"background-color 0.3s ease, color 0.3s ease"}}),Bc=()=>{const[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[u,c]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[f,h]=(0,r.useState)(!1),[m,v]=(0,r.useState)(""),g=ee(),{isDarkMode:y}=(0,r.useContext)(ei),b=async()=>{if(v(""),h(!0),!e||!n||!i||!s)return v("Please fill in all fields"),void h(!1);if(i!==s)return v("Passwords do not match"),void h(!1);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))return v("Please enter a valid email address"),void h(!1);console.log("Starting registration process..."),console.log("API Base URL:","http://localhost/moodify/backend/api");try{const t=await ws(e,n,i);console.log("Registration response:",t),t&&"User registered successfully"===t.message?(alert("Registration successful! Please log in."),g("/login")):(v((null===t||void 0===t?void 0:t.error)||"Registration failed. Please try again."),console.error("Unexpected response format:",t))}catch(m){if(console.error("Registration failed:",m),m.response){const t=m.response.status,n=m.response.data;console.log(`Server responded with status ${t}:`,n),400===t&&"Username or email already exists"===n.error?v("This username or email is already registered. Please try another or login."):v(n.error||"Registration failed. Please try again.")}else m.request?(console.log("No response received:",m.request),v("Could not connect to the server. Please check your internet connection.")):(console.log("Error setting up request:",m.message),v("An unexpected error occurred. Please try again later."))}finally{h(!1)}},x=e=>{"Enter"===e.key&&b()},w=Lc(y);return(0,ze.jsx)("div",{style:w.container,children:(0,ze.jsxs)(Xn,{elevation:4,style:w.formContainer,children:[(0,ze.jsx)(hn,{variant:"h4",align:"center",sx:{mb:3,fontFamily:"Poppins",color:y?"#ffffff":"#000000"},children:"Register"}),(0,ze.jsx)(pc,{label:"Username",variant:"outlined",fullWidth:!0,value:e,onChange:e=>t(e.target.value),onKeyPress:x,sx:{mb:2},InputProps:{style:{fontFamily:"Poppins",fontSize:"16px",color:y?"#ffffff":"#000000"}},InputLabelProps:{style:{fontFamily:"Poppins",color:y?"#cccccc":"#000000"}}}),(0,ze.jsx)(pc,{label:"Email",variant:"outlined",fullWidth:!0,value:n,onChange:e=>o(e.target.value),onKeyPress:x,sx:{mb:2},InputProps:{style:{fontFamily:"Poppins",fontSize:"16px",color:y?"#ffffff":"#000000"}},InputLabelProps:{style:{fontFamily:"Poppins",color:y?"#cccccc":"#000000"}}}),(0,ze.jsx)(pc,{label:"Password",type:u?"text":"password",variant:"outlined",fullWidth:!0,value:i,onChange:e=>a(e.target.value),onKeyPress:x,sx:{mb:2},InputProps:{endAdornment:(0,ze.jsx)(yc,{position:"end",children:(0,ze.jsx)(ur,{"aria-label":"toggle password visibility",onClick:()=>{c((e=>!e))},edge:"end",sx:{color:y?"white":"#333"},children:u?(0,ze.jsx)(Nc,{}):(0,ze.jsx)(Dc,{})})}),style:{fontFamily:"Poppins",fontSize:"16px",color:y?"#ffffff":"#000000"}},InputLabelProps:{style:{fontFamily:"Poppins",color:y?"#cccccc":"#000000"}}}),(0,ze.jsx)(pc,{label:"Confirm Password",type:d?"text":"password",variant:"outlined",fullWidth:!0,value:s,onChange:e=>l(e.target.value),onKeyPress:x,sx:{mb:2},InputProps:{endAdornment:(0,ze.jsx)(yc,{position:"end",children:(0,ze.jsx)(ur,{"aria-label":"toggle confirm password visibility",onClick:()=>{p((e=>!e))},edge:"end",sx:{color:y?"white":"#333"},children:d?(0,ze.jsx)(Nc,{}):(0,ze.jsx)(Dc,{})})}),style:{fontFamily:"Poppins",fontSize:"16px",color:y?"#ffffff":"#000000"}},InputLabelProps:{style:{fontFamily:"Poppins",color:y?"#cccccc":"#000000"}}}),m&&(0,ze.jsx)(hn,{variant:"body2",align:"center",sx:{color:"#f44336",mb:2,fontFamily:"Poppins"},children:m}),(0,ze.jsx)(Bo,{variant:"contained",color:"primary",fullWidth:!0,onClick:b,sx:{mb:2,backgroundColor:"#6A1B9A",font:"inherit"},disabled:f,children:f?(0,ze.jsx)(Mc,{size:24,color:"inherit"}):"Register"}),(0,ze.jsx)(hn,{variant:"body2",align:"center",sx:{cursor:"pointer",textDecoration:"underline",fontFamily:"Poppins",color:y?"#ffffff":"#000000","&:hover":{color:"#6A1B9A",transition:"color 0.2s"}},onClick:()=>g("/login"),children:"Already have an account? Login"})]})})};let zc;function Wc(){if(zc)return zc;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),zc="reverse",e.scrollLeft>0?zc="default":(e.scrollLeft=1,0===e.scrollLeft&&(zc="negative")),document.body.removeChild(e),zc}function Uc(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(Wc()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Vc(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const Hc=["onChange"],$c={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const Gc=(0,Qu.A)((0,ze.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),qc=(0,Qu.A)((0,ze.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Kc(e){return(0,et.Ay)("MuiTabScrollButton",e)}const Xc=(0,$e.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Yc=["className","slots","slotProps","direction","orientation","disabled"],Qc=(0,Qe.Ay)(zt,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({width:40,flexShrink:0,opacity:.8,[`&.${Xc.disabled}`]:{opacity:0}},"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})})),Jc=r.forwardRef((function(e,t){var n,r;const o=(0,Je.b)({props:e,name:"MuiTabScrollButton"}),{className:i,slots:a={},slotProps:s={},direction:l}=o,u=(0,Ie.A)(o,Yc),c=dr(),d=(0,Te.A)({isRtl:c},o),p=(e=>{const{classes:t,orientation:n,disabled:r}=e,o={root:["root",n,r&&"disabled"]};return(0,Ye.A)(o,Kc,t)})(d),f=null!=(n=a.StartScrollButtonIcon)?n:Gc,h=null!=(r=a.EndScrollButtonIcon)?r:qc,m=br({elementType:f,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),v=br({elementType:h,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return(0,ze.jsx)(Qc,(0,Te.A)({component:"div",className:(0,Pe.A)(p.root,i),ref:t,role:null,ownerState:d,tabIndex:null},u,{children:"left"===l?(0,ze.jsx)(f,(0,Te.A)({},m)):(0,ze.jsx)(h,(0,Te.A)({},v))}))}));function Zc(e){return(0,et.Ay)("MuiTabs",e)}const ed=(0,$e.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),td=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],nd=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,rd=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,od=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=n(e,o)}},id=(0,Qe.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ed.scrollButtons}`]:t.scrollButtons},{[`& .${ed.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Te.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${ed.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}})})),ad=(0,Qe.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),sd=(0,Qe.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),ld=(0,Qe.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((e=>{let{ownerState:t,theme:n}=e;return(0,Te.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),ud=(0,Qe.Ay)((function(e){const{onChange:t}=e,n=(0,Ie.A)(e,Hc),o=r.useRef(),i=r.useRef(null),a=()=>{o.current=i.current.offsetHeight-i.current.clientHeight};return(0,Ut.A)((()=>{const e=(0,ho.A)((()=>{const e=o.current;a(),e!==o.current&&t(o.current)})),n=(0,mo.A)(i.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),r.useEffect((()=>{a(),t(o.current)}),[t]),(0,ze.jsx)("div",(0,Te.A)({style:$c},n,{ref:i}))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),cd={};const dd=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiTabs"}),o=Br(),i=dr(),{"aria-label":a,"aria-labelledby":s,action:l,centered:u=!1,children:c,className:d,component:p="div",allowScrollButtonsMobile:f=!1,indicatorColor:h="primary",onChange:m,orientation:v="horizontal",ScrollButtonComponent:g=Jc,scrollButtons:y="auto",selectionFollowsFocus:b,slots:x={},slotProps:w={},TabIndicatorProps:S={},TabScrollButtonProps:A={},textColor:k="primary",value:C,variant:E="standard",visibleScrollbar:_=!1}=n,R=(0,Ie.A)(n,td),T="scrollable"===E,I="vertical"===v,P=I?"scrollTop":"scrollLeft",O=I?"top":"left",M=I?"bottom":"right",N=I?"clientHeight":"clientWidth",D=I?"height":"width",F=(0,Te.A)({},n,{component:p,allowScrollButtonsMobile:f,indicatorColor:h,orientation:v,vertical:I,scrollButtons:y,textColor:k,variant:E,visibleScrollbar:_,fixed:!T,hideScrollbar:T&&!_,scrollableX:T&&!I,scrollableY:T&&I,centered:u&&!T,scrollButtonsHideMobile:!f}),j=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:i,centered:a,scrollButtonsHideMobile:s,classes:l}=e,u={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,Ye.A)(u,Zc,l)})(F),L=br({elementType:x.StartScrollButtonIcon,externalSlotProps:w.startScrollButtonIcon,ownerState:F}),B=br({elementType:x.EndScrollButtonIcon,externalSlotProps:w.endScrollButtonIcon,ownerState:F});const[z,W]=r.useState(!1),[U,V]=r.useState(cd),[H,$]=r.useState(!1),[G,q]=r.useState(!1),[K,X]=r.useState(!1),[Y,Q]=r.useState({overflow:"hidden",scrollbarWidth:0}),J=new Map,Z=r.useRef(null),ee=r.useRef(null),te=()=>{const e=Z.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:Uc(e,i?"rtl":"ltr"),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==C){const e=ee.current.children;if(e.length>0){const t=e[J.get(C)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},ne=(0,lt.A)((()=>{const{tabsMeta:e,tabMeta:t}=te();let n,r=0;if(I)n="top",t&&e&&(r=t.top-e.top+e.scrollTop);else if(n=i?"right":"left",t&&e){const o=i?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;r=(i?-1:1)*(t[n]-e[n]+o)}const o={[n]:r,[D]:t?t[D]:0};if(isNaN(U[n])||isNaN(U[D]))V(o);else{const e=Math.abs(U[n]-o[n]),t=Math.abs(U[D]-o[D]);(e>=1||t>=1)&&V(o)}})),re=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:i=Vc,duration:a=300}=r;let s=null;const l=t[e];let u=!1;const c=()=>{u=!0},d=r=>{if(u)return void o(new Error("Animation cancelled"));null===s&&(s=r);const c=Math.min(1,(r-s)/a);t[e]=i(c)*(n-l)+l,c>=1?requestAnimationFrame((()=>{o(null)})):requestAnimationFrame(d)};l===n?o(new Error("Element already at target position")):requestAnimationFrame(d)}(P,Z.current,e,{duration:o.transitions.duration.standard}):Z.current[P]=e},oe=e=>{let t=Z.current[P];I?t+=e:(t+=e*(i?-1:1),t*=i&&"reverse"===Wc()?-1:1),re(t)},ie=()=>{const e=Z.current[N];let t=0;const n=Array.from(ee.current.children);for(let r=0;r<n.length;r+=1){const o=n[r];if(t+o[N]>e){0===r&&(t=e);break}t+=o[N]}return t},ae=()=>{oe(-1*ie())},se=()=>{oe(ie())},le=r.useCallback((e=>{Q({overflow:null,scrollbarWidth:e})}),[]),ue=(0,lt.A)((e=>{const{tabsMeta:t,tabMeta:n}=te();if(n&&t)if(n[O]<t[O]){const r=t[P]+(n[O]-t[O]);re(r,{animation:e})}else if(n[M]>t[M]){const r=t[P]+(n[M]-t[M]);re(r,{animation:e})}})),ce=(0,lt.A)((()=>{T&&!1!==y&&X(!K)}));r.useEffect((()=>{const e=(0,ho.A)((()=>{Z.current&&ne()}));let t;const n=n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{var n;null==(n=t)||n.unobserve(e)})),e.addedNodes.forEach((e=>{var n;null==(n=t)||n.observe(e)}))})),e(),ce()},r=(0,mo.A)(Z.current);let o;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(o=new MutationObserver(n),o.observe(ee.current,{childList:!0})),()=>{var n,i;e.clear(),r.removeEventListener("resize",e),null==(n=o)||n.disconnect(),null==(i=t)||i.disconnect()}}),[ne,ce]),r.useEffect((()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&T&&!1!==y){const n=e[0],r=e[t-1],o={root:Z.current,threshold:.99},i=new IntersectionObserver((e=>{$(!e[0].isIntersecting)}),o);i.observe(n);const a=new IntersectionObserver((e=>{q(!e[0].isIntersecting)}),o);return a.observe(r),()=>{i.disconnect(),a.disconnect()}}}),[T,y,K,null==c?void 0:c.length]),r.useEffect((()=>{W(!0)}),[]),r.useEffect((()=>{ne()})),r.useEffect((()=>{ue(cd!==U)}),[ue,U]),r.useImperativeHandle(l,(()=>({updateIndicator:ne,updateScrollButtons:ce})),[ne,ce]);const de=(0,ze.jsx)(ld,(0,Te.A)({},S,{className:(0,Pe.A)(j.indicator,S.className),ownerState:F,style:(0,Te.A)({},U,S.style)}));let pe=0;const fe=r.Children.map(c,(e=>{if(!r.isValidElement(e))return null;const t=void 0===e.props.value?pe:e.props.value;J.set(t,pe);const n=t===C;return pe+=1,r.cloneElement(e,(0,Te.A)({fullWidth:"fullWidth"===E,indicator:n&&!z&&de,selected:n,selectionFollowsFocus:b,onChange:m,textColor:k,value:t},1!==pe||!1!==C||e.props.tabIndex?{}:{tabIndex:0}))})),he=(()=>{const e={};e.scrollbarSizeListener=T?(0,ze.jsx)(ud,{onChange:le,className:(0,Pe.A)(j.scrollableX,j.hideScrollbar)}):null;const t=T&&("auto"===y&&(H||G)||!0===y);return e.scrollButtonStart=t?(0,ze.jsx)(g,(0,Te.A)({slots:{StartScrollButtonIcon:x.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:L},orientation:v,direction:i?"right":"left",onClick:ae,disabled:!H},A,{className:(0,Pe.A)(j.scrollButtons,A.className)})):null,e.scrollButtonEnd=t?(0,ze.jsx)(g,(0,Te.A)({slots:{EndScrollButtonIcon:x.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:B},orientation:v,direction:i?"left":"right",onClick:se,disabled:!G},A,{className:(0,Pe.A)(j.scrollButtons,A.className)})):null,e})();return(0,ze.jsxs)(id,(0,Te.A)({className:(0,Pe.A)(j.root,d),ownerState:F,ref:t,as:p},R,{children:[he.scrollButtonStart,he.scrollbarSizeListener,(0,ze.jsxs)(ad,{className:j.scroller,ownerState:F,style:{overflow:Y.overflow,[I?"margin"+(i?"Left":"Right"):"marginBottom"]:_?void 0:-Y.scrollbarWidth},ref:Z,children:[(0,ze.jsx)(sd,{"aria-label":a,"aria-labelledby":s,"aria-orientation":"vertical"===v?"vertical":null,className:j.flexContainer,ownerState:F,onKeyDown:e=>{const t=ee.current,n=(0,Yl.A)(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===v?"ArrowLeft":"ArrowUp",o="horizontal"===v?"ArrowRight":"ArrowDown";switch("horizontal"===v&&i&&(r="ArrowRight",o="ArrowLeft"),e.key){case r:e.preventDefault(),od(t,n,rd);break;case o:e.preventDefault(),od(t,n,nd);break;case"Home":e.preventDefault(),od(t,null,nd);break;case"End":e.preventDefault(),od(t,null,rd)}},ref:ee,role:"tablist",children:fe}),z&&de]}),he.scrollButtonEnd]}))})),pd=dd;function fd(e){return(0,et.Ay)("MuiTab",e)}const hd=(0,$e.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),md=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],vd=(0,Qe.Ay)(zt,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${(0,ln.A)(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${hd.iconWrapper}`]:t.iconWrapper}]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},n.label&&{flexDirection:"top"===n.iconPosition||"bottom"===n.iconPosition?"column":"row"},{lineHeight:1.25},n.icon&&n.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${hd.iconWrapper}`]:(0,Te.A)({},"top"===n.iconPosition&&{marginBottom:6},"bottom"===n.iconPosition&&{marginTop:6},"start"===n.iconPosition&&{marginRight:t.spacing(1)},"end"===n.iconPosition&&{marginLeft:t.spacing(1)})},"inherit"===n.textColor&&{color:"inherit",opacity:.6,[`&.${hd.selected}`]:{opacity:1},[`&.${hd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"primary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${hd.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${hd.disabled}`]:{color:(t.vars||t).palette.text.disabled}},"secondary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${hd.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${hd.disabled}`]:{color:(t.vars||t).palette.text.disabled}},n.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},n.wrapped&&{fontSize:t.typography.pxToRem(12)})})),gd=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiTab"}),{className:o,disabled:i=!1,disableFocusRipple:a=!1,fullWidth:s,icon:l,iconPosition:u="top",indicator:c,label:d,onChange:p,onClick:f,onFocus:h,selected:m,selectionFollowsFocus:v,textColor:g="inherit",value:y,wrapped:b=!1}=n,x=(0,Ie.A)(n,md),w=(0,Te.A)({},n,{disabled:i,disableFocusRipple:a,selected:m,icon:!!l,iconPosition:u,label:!!d,fullWidth:s,textColor:g,wrapped:b}),S=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:i,label:a,selected:s,disabled:l}=e,u={root:["root",i&&a&&"labelIcon",`textColor${(0,ln.A)(n)}`,r&&"fullWidth",o&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,Ye.A)(u,fd,t)})(w),A=l&&d&&r.isValidElement(l)?r.cloneElement(l,{className:(0,Pe.A)(S.iconWrapper,l.props.className)}):l;return(0,ze.jsxs)(vd,(0,Te.A)({focusRipple:!a,className:(0,Pe.A)(S.root,o),ref:t,role:"tab","aria-selected":m,disabled:i,onClick:e=>{!m&&p&&p(e,y),f&&f(e)},onFocus:e=>{v&&!m&&p&&p(e,y),h&&h(e)},ownerState:w,tabIndex:m?0:-1},x,{children:["top"===u||"start"===u?(0,ze.jsxs)(r.Fragment,{children:[A,d]}):(0,ze.jsxs)(r.Fragment,{children:[d,A]}),c]}))}));var yd=n(4501),bd=n.n(yd),xd=function(e,t){return(xd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function wd(e,t){function n(){this.constructor=e}xd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Sd(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function Ad(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var kd=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(n,t[0],t[1]),t.join("=")})),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),r=n[0],o=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,o)}))}},e}();function Cd(){return Ed}var Ed=null,_d=new Map,Rd=new Map;function Td(e,t){var n=Md(e,t);return _d.get(n)}function Id(e){for(var t=_d.entries(),n=[];;){var r=t.next(),o=r.done,i=r.value;if(o)break;var a=i[0],s=i[1];a.split("_")[0]===e&&n.push(s)}return n}function Pd(e){var t=e.kernelName,n=e.backendName,r=Md(t,n);if(_d.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");_d.set(r,e)}function Od(e){var t=e.kernelName;Rd.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),Rd.set(t,e)}function Md(e,t){return t+"_"+e}function Nd(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function Dd(e,t,n){return Math.max(e,Math.min(t,n))}function Fd(e){return e%2==0?e:e+1}function jd(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function Ld(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function Bd(e,t,n){void 0===n&&(n=""),Ld(Vd(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))}function zd(e){Ld(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function Wd(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||rp(e)&&!n)for(var r=0;r<e.length;++r)Wd(e[r],t,n);else t.push(e);return t}function Ud(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function Vd(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Hd(e){return e%1==0}function $d(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function Gd(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function qd(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Kd(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise((function(r,o){var i=0,a=function(){if(e())r();else{i++;var s=t(i);null!=n&&i>=n?o():setTimeout(a,s)}};a()}))}function Xd(e,t){for(var n=1,r=-1,o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var i=e.slice();return i[r]=t/n,i}function Yd(e,t){var n=t.length;return Ld((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e})),Ld(e.every((function(e){return Hd(e)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(e){return e<0?n+e:e}))}function Qd(e,t){for(var n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||o?null:Yd(t,e).sort(),a=0,s=0;s<e.length;++s){if(null!=i){if(i[a]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==i[a]||i[a]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[a]<=s&&a++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function Jd(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function Zd(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function ep(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function tp(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function np(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function rp(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function op(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function ip(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function ap(e){return"string"==typeof e||e instanceof String}function sp(e){return"boolean"==typeof e}function lp(e){return"number"==typeof e}function up(e){return Array.isArray(e)?up(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":lp(e)?"float32":ap(e)?"string":sp(e)?"bool":"float32"}function cp(e){return!!(e&&e.constructor&&e.call&&e.apply)}function dp(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function pp(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function fp(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Wd(e)),n&&ep(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),o=0;o<r.length;++o)0!==Math.round(e[o])&&(r[o]=1);return r}throw new Error("Unknown data type "+t)}function hp(e,t){if(0===e.length)return t[0];var n=e.reduce((function(e,t){return e*t}));if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var o=new Array;if(1===n.length)for(var i=n[0],a=0;a<i;a++)o[a]=r[t+a];else{i=n[0];var s=n.slice(1),l=s.reduce((function(e,t){return e*t}));for(a=0;a<i;a++)o[a]=e(t+a*l,s,r)}return o}(0,e,t)}function mp(e,t){for(var n=vp(e,t),r=0;r<n.length;r++)n[r]=1;return n}function vp(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function gp(){return Cd().platform.now()}function yp(e){e.forEach((function(t){Ld(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function bp(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",Cd().platform.encode(e,t)}function xp(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",Cd().platform.decode(e,t)}function wp(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function Sp(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}Object.freeze({shuffle:Nd,clamp:Dd,nearestLargerEven:Fd,sum:jd,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var o=Number(e[r])-Number(t[r]);n+=o*o}return n},assert:Ld,assertShapesMatch:Bd,assertNonNull:zd,flatten:Wd,sizeFromShape:Ud,isScalarShape:function(e){return 0===e.length},arraysEqual:Vd,isInt:Hd,tanh:$d,sizeToSquarishShape:Gd,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return Nd(t),t},rightPad:qd,repeatedTry:Kd,inferFromImplicitShape:Xd,parseAxisParam:Yd,squeezeShape:Qd,getTypedArrayFromDType:Jd,getArrayFromDType:Zd,checkConversionForErrors:ep,isValidDtype:tp,hasEncodingLoss:np,isTypedArray:rp,bytesPerElement:op,bytesFromStringArray:ip,isString:ap,isBoolean:sp,isNumber:lp,inferDtype:up,isFunction:cp,nearestDivisor:dp,computeStrides:pp,toTypedArray:fp,toNestedArray:hp,makeOnesTypedArray:mp,makeZerosTypedArray:vp,now:gp,assertNonNegativeIntegerDimensions:yp,fetch:function(e,t){return Cd().platform.fetch(e,t)},encodeString:bp,decodeString:xp,locToIndex:wp,indexToLoc:Sp});var Ap=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new kp)}return e.prototype.profileKernel=function(e,t,n){var r,o=this,i=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var o=e[r];if(isNaN(o)||!isFinite(o))return console.warn("Found "+o+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),i.then((function(i){var a="";null!=i.getExtraProfileInfo&&(a=i.getExtraProfileInfo()),o.logger.logKernelProfile(e,n,r,i.kernelMs,t,a)}))}))})),r},e}(),kp=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,o,i){var a="number"==typeof r?qd(r+"ms",9):r.error,s=qd(e,25),l=t.rank,u=t.size,c=qd(t.shape.toString(),14),d="";for(var p in o){var f=o[p].shape||t.shape,h=f.length;d+=p+": "+h+"D "+(h>0?f:"")+" "}console.log("%c"+s+"\t%c"+a+"\t%c"+l+"D "+c+"\t%c"+u+"\t%c"+d+"\t%c"+i,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}();function Cp(e,t,n){return qd(Array.isArray(e)?parseFloat(e[0].toFixed(7))+" + "+parseFloat(e[1].toFixed(7))+"j":ap(e)?"'"+e+"'":"bool"===n?Ep(e):parseFloat(e.toFixed(7)).toString(),t)}function Ep(e){return 0===e?"false":"true"}function _p(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var Rp=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=Ud(e),null!=n){var o=n.length;Ld(o===this.size,(function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+r.size+"'."}))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Zd(t,this.size),this.strides=pp(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),Ld(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"}));var o=this.locToIndex(n);this.values[o]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,o=e;r<o.length;r++){var i=o[r];if(i<0||i>=this.shape[n]){var a="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(a)}n++}for(var s=e[e.length-1],l=0;l<e.length-1;++l)s+=this.strides[l]*e[l];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return Tp().makeTensor(this.values,this.shape,this.dtype)},e}(),Tp=null,Ip=null,Pp=null,Op=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Ud(e),this.strides=pp(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),Ld(1===this.size,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,o){return this.throwIfDisposed(),this.reshape([e,t,n,r,o])},e.prototype.asType=function(e){return this.throwIfDisposed(),Ip.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return Sd(this,void 0,void 0,(function(){var e;return Ad(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,Ip.buffer(this.shape,this.dtype,e)]}}))}))},e.prototype.bufferSync=function(){return Ip.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return Sd(this,void 0,void 0,(function(){var e;return Ad(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,hp(this.shape,e)]}}))}))},e.prototype.arraySync=function(){return hp(this.shape,this.dataSync())},e.prototype.data=function(){return Sd(this,void 0,void 0,(function(){var e,t;return Ad(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=Tp().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map((function(e){return xp(e)}))]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var e=Tp().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return xp(e)}))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return Sd(this,void 0,void 0,(function(){var e;return Ad(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,Tp().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(Tp().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),Ip.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),Ip.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),Ip.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),Ip.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),Ip.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),Ip.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),Ip.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var o=pp(t),i=function(e,t,n,r){var o=Ud(t),i=r[r.length-1],a=new Array(i).fill(0),s=t.length,l="complex64"===n?_p(e):e;if(s>1)for(var u=0;u<o/i;u++)for(var c=u*i,d=0;d<i;d++)a[d]=Math.max(a[d],Cp(l[c+d],0,n).length);return a}(e,t,n,o),a=t.length,s=function e(t,n,r,o,i,a){void 0===a&&(a=!0);var s="complex64"===r?2:1,l=n[0],u=n.length;if(0===u)return"complex64"===r?[Cp(_p(t)[0],0,r)]:"bool"===r?[Ep(t[0])]:[t[0].toString()];if(1===u){if(l>20){var c=3*s,d=Array.from(t.slice(0,c)),p=Array.from(t.slice((l-3)*s,l*s));return"complex64"===r&&(d=_p(d),p=_p(p)),["["+d.map((function(e,t){return Cp(e,i[t],r)})).join(", ")+", ..., "+p.map((function(e,t){return Cp(e,i[l-3+t],r)})).join(", ")+"]"]}return["["+("complex64"===r?_p(t):Array.from(t)).map((function(e,t){return Cp(e,i[t],r)})).join(", ")+"]"]}var f=n.slice(1),h=o.slice(1),m=o[0]*s,v=[];if(l>20){for(var g=0;g<3;g++){var y=(b=g*m)+m;v.push.apply(v,e(t.slice(b,y),f,r,h,i,!1))}for(v.push("..."),g=l-3;g<l;g++)y=(b=g*m)+m,v.push.apply(v,e(t.slice(b,y),f,r,h,i,g===l-1))}else for(g=0;g<l;g++){var b;y=(b=g*m)+m,v.push.apply(v,e(t.slice(b,y),f,r,h,i,g===l-1))}var x=2===u?",":"";for(v[0]="["+v[0]+x,g=1;g<v.length-1;g++)v[g]=" "+v[g]+x;var w=",\n";for(g=2;g<u;g++)w+="\n";return v[v.length-1]=" "+v[v.length-1]+"]"+(a?"":w),v}(e,t,n,o,i),l=["Tensor"];return r&&(l.push("  dtype: "+n),l.push("  rank: "+a),l.push("  shape: ["+t+"]"),l.push("  values:")),l.push(s.map((function(e){return"    "+e})).join("\n")),l.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),Ip.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),Ip.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),Ip.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),Ip.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),Ip.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),Ip.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),Ip.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),Ip.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),Ip.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),Ip.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),Ip.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),Ip.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,o){return void 0===n&&(n=.001),Pp("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,o,r,n)},e.prototype.batchNorm=function(e,t,n,r,o){return void 0===o&&(o=.001),this.throwIfDisposed(),Ip.batchNorm(this,e,t,n,r,o)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Ip.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Ip.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Ip.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Ip.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Ip.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Ip.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Ip.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),Ip.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),Ip.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),Ip.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),Ip.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),Ip.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),Ip.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),Ip.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),Ip.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),Ip.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),Ip.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),Ip.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),Ip.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),Ip.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),Ip.div(this,e)},e.prototype.divNoNan=function(e){return this.throwIfDisposed(),Ip.divNoNan(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),Ip.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),Ip.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),Ip.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),Ip.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),Ip.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),Ip.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),Ip.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),Ip.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),Ip.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),Ip.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),Ip.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),Ip.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),Ip.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),Ip.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),Ip.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),Ip.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),Ip.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),Ip.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),Ip.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),Ip.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),Ip.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),Ip.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),Ip.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),Ip.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),Ip.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),Ip.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),Ip.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),Ip.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),Ip.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),Ip.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),Ip.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),Ip.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),Ip.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),Ip.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),Ip.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),Ip.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),Ip.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),Ip.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),Ip.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),Ip.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),Ip.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),Ip.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),Ip.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Ip.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),Ip.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),Ip.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),Ip.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),Ip.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),Ip.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),Ip.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),Ip.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),Ip.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),Ip.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),Ip.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),Ip.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),Ip.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),Ip.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),Ip.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),Ip.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),Ip.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),Ip.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),Ip.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),Ip.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),Ip.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),Ip.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),Ip.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),Ip.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),Ip.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),Ip.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),Ip.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),Ip.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),Ip.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),Ip.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),Ip.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,o,i){return void 0===r&&(r="NWC"),void 0===o&&(o=1),this.throwIfDisposed(),Ip.conv1d(this,e,t,n,r,o,i)},e.prototype.conv2d=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),Ip.conv2d(this,e,t,n,r,o,i)},e.prototype.conv2dTranspose=function(e,t,n,r,o){return this.throwIfDisposed(),Ip.conv2dTranspose(this,e,t,n,r,o)},e.prototype.depthwiseConv2D=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),Ip.depthwiseConv2d(this,e,t,n,r,o,i)},e.prototype.separableConv2d=function(e,t,n,r,o,i){return void 0===o&&(o=[1,1]),void 0===i&&(i="NHWC"),this.throwIfDisposed(),Ip.separableConv2d(this,e,t,n,r,o,i)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),Ip.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),Ip.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),Ip.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,o){return this.throwIfDisposed(),Ip.pool(this,e,t,n,r,o)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),Tp().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Ip.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Ip.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Ip.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),Ip.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,o,i,a,s){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),this.throwIfDisposed(),Ip.stridedSlice(this,e,t,n,r,o,i,a,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Ip.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),Ip.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),Ip.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),Ip.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),Ip.spectral.irfft(this)},e}();Object.defineProperty(Op,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var Mp,Np,Dp,Fp,jp,Lp=function(e){function t(t,n,r,o){var i=e.call(this,t.shape,t.dtype,t.dataId,o)||this;return i.trainable=n,i.name=r,i}return wd(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!Vd(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");Tp().disposeTensor(this),this.dataId=e.dataId,Tp().incRef(this,null)},t.prototype.dispose=function(){Tp().disposeVariable(this),this.isDisposedInternal=!0},t}(Op);Object.defineProperty(Lp,Symbol.hasInstance,{value:function(e){return e instanceof Op&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(Mp||(Mp={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Np||(Np={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Dp||(Dp={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Fp||(Fp={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(jp||(jp={}));var Bp={float32:Fp,int32:Np,bool:Dp,complex64:jp};function zp(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return Bp[e][t]}function Wp(e){return zp(e,"int32")}function Up(e,t){if(e.dtype===t.dtype)return[e,t];var n=zp(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Vp(e,t){Ld(e.dtype===t.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"}))}function Hp(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof Op)n.push(t);else if(o=t,Array.isArray(o)||"object"==typeof o){var o,i=t;for(var a in i){var s=i[a];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}Object.freeze({makeTypesMatch:Up,assertTypesMatch:Vp,isTensorInList:function(e,t){return t.some((function(t){return t.id===e.id}))},getTensorsInContainer:Hp});var $p,Gp=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),qp=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Gp}return e.prototype.ready=function(){return Sd(this,void 0,void 0,(function(){var e,t,n;return Ad(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return Sd(this,void 0,void 0,(function(){var t,n,r;return Ad(this,(function(o){switch(o.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=o.sent(),[3,3];case 2:r=n,o.label=3;case 3:if(!r)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Ap(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var e=this;Id(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(e){var t=this;Id(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var o=++this.pendingBackendInitId,i=r.then((function(n){return!(o<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return!(o<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),!1)}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),o=r.success,i=r.asyncInit;if(i||o)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,o=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,o,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,o=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}return this.scopedRun((function(){return r.startScope(o)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){return e.toFloat()}}}),[]),t},e.prototype.runKernel=function(e,t,n,r,o){return this.runKernelFunc(null,t,null,e,n,r,o)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),o=0;n.forEach((function(e){o+="complex64"===e.dtype?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-o-i;if(a>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+a+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,o,i,a){var s,l=this;void 0===i&&(i=[]),void 0===a&&(a=[]);var u=[],c=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var d,p=function(e){c&&(u=e.map((function(e){return l.keep(l.clone(e))})))},f=this.state.numBytes,h=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var m,v=Td(r,this.backendName);return d=null!=v?function(){var e=l.backend.numDataIds();m=v.kernelFunc({inputs:t,attrs:o,backend:l.backend});var n=Array.isArray(m)?m:[m];l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(r,e,n);var s=n.map((function(e){var t=e.dataId,n=e.shape,r=e.dtype;return l.makeTensorFromDataId(t,n,r)})),u=s.filter((function(e,t){return a[t]}));return p((i||[]).slice().concat(u)),s}:function(){var t=l.backend.numDataIds();m=l.tidy((function(){return e(l.backend,p)}));var n=Array.isArray(m)?m:[m];return l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(r,t,n),n},this.scopedRun((function(){return l.state.kernelDepth++}),(function(){return l.state.kernelDepth--}),(function(){s=l.ENV.getBool("DEBUG")?l.profiler.profileKernel(r,t,(function(){return d()})):d()})),c&&this.addTapeNode(r,t,s,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-f,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-h,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((function(e){return t[e].shape})),outputShapes:s.map((function(e){return e.shape}))}),Array.isArray(m)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var o=e;"string"===n&&ap(e[0])&&(o=e.map((function(e){return bp(e)})));var i=r.write(o,t,n),a=new Op(t,n,i,this.nextTensorId());if(this.incRef(a,r),"string"===n){var s=this.state.tensorInfo.get(i),l=ip(o);this.state.numBytes+=l-s.bytes,s.bytes=l}return a},e.prototype.makeTensorFromDataId=function(e,t,n,r){var o=new Op(t,n=n||"float32",e,this.nextTensorId());return this.incRef(o,r),o},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var o=new Lp(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*op(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof Lp||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return Sd(this,void 0,void 0,(function(){var t,n;return Ad(this,(function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,o){var i=this,a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},s=function(e){return Rd.get(e)}(e);null!=s&&(r=s.gradFunc),null!=r&&(a.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],o=vp(r.size,r.dtype);return i.makeTensor(o,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],o)}),this.state.activeTape.push(a)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=Hp(e),r=new Set(n.map((function(e){return e.id}))),o=0;o<this.state.activeScope.track.length;o++){var i=this.state.activeScope.track[o];i.kept||r.has(i.id)||i.dispose()}var a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==a.id||t.track(e)}))},e.prototype.gradients=function(e,t,n,r){var o=this;if(void 0===r&&(r=!1),Ld(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var i=this.scopedRun((function(){return o.startTape()}),(function(){return o.endTape()}),(function(){return o.tidy("forward",e)}));Ld(i instanceof Op,(function(){return"The result y returned by f() must be a tensor."}));var a=function(e,t,n){for(var r={},o={},i=0;i<t.length;i++)r[t[i].id]=!0;for(i=0;i<e.length;i++){var a=(h=e[i]).inputs;for(var s in a){for(var l=a[s],u=!1,c=0;c<t.length;c++)if(r[l.id]){h.outputs.forEach((function(e){return r[e.id]=!0})),u=!0,o[h.id]=!0;break}if(u)break}}var d={};d[n.id]=!0;var p={};for(i=e.length-1;i>=0;i--)for(a=(h=e[i]).inputs,c=0;c<h.outputs.length;c++)if(d[h.outputs[c].id]){for(var s in a)d[a[s].id]=!0,p[h.id]=!0;break}var f=[];for(i=0;i<e.length;i++){var h;if(o[(h=e[i]).id]&&p[h.id]){var m={};for(var s in h.inputs){var v=h.inputs[s];r[v.id]&&(m[s]=v)}var g=Object.assign({},h);g.inputs=m,g.outputs=h.outputs,f.push(g)}}return f}(this.state.activeTape,t,i);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e,r,s={};s[i.id]=null==n?(r=mp(Ud(e=i.shape),"float32"),Kp.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var o=t[r],i=[];if(o.outputs.forEach((function(t){var n=e[t.id];null!=n?i.push(n):i.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+o.kernelName+".");var a=o.gradient(i),s=function(t){if(!(t in a))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(a)+".");var r=n((function(){return a[t]()}));if("float32"!==r.dtype)throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var i=o.inputs[t];if(!Vd(r.shape,i.shape))throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+i.shape+"'");if(null==e[i.id])e[i.id]=r;else{var s=e[i.id];e[i.id]=s.add(r),s.dispose()}};for(var l in o.inputs)s(l)},o=t.length-1;o>=0;o--)r(o)}(s,a,(function(e){return o.tidy(e)}));var l=t.map((function(e){return s[e.id]}));return 0===o.state.gradientDepth&&(o.state.activeTape.forEach((function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()})),o.state.activeTape=null),{value:i,grads:l}}))},e.prototype.customGrad=function(e){var t=this;return Ld(cp(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];Ld(r.every((function(e){return e instanceof Op})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};return r.forEach((function(e,t){i[t]=e})),t.runKernelFunc((function(t,o){return Ld((n=e.apply(void 0,r.concat([o]))).value instanceof Op,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),Ld(cp(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),i,(function(e,t){var o=n.gradFunc(e,t),i=Array.isArray(o)?o:[o];Ld(i.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),Ld(i.every((function(e){return e instanceof Op})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var a={};return i.forEach((function(e,t){a[t]=function(){return e}})),a}))}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return Sd(this,void 0,void 0,(function(){var t,n;return Ad(this,(function(r){switch(r.label){case 0:return t=gp(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=gp()-t,[2,n]}}))}))},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Gp,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),Kp=function(){var e=function(){if(null==$p){var e=void 0;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}$p=e}return $p}();if(null==e._tfengine){var t=new kd(e);e._tfengine=new qp(t)}return function(e){Ed=e}(e._tfengine.ENV),Tp=function(){return e._tfengine},e._tfengine}();function Xp(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Yp=Cd();Yp.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Yp.registerFlag("IS_BROWSER",(function(){return Xp()})),Yp.registerFlag("IS_NODE",(function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node})),Yp.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Yp.registerFlag("PROD",(function(){return!1})),Yp.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Yp.getBool("DEBUG")})),Yp.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Yp.registerFlag("IS_TEST",(function(){return!1}));var Qp,Jp,Zp,ef={},tf={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function nf(e,t){ef[e]=t}function rf(e){e in ef||(ef[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete ef[e]}),!1),1===e?t.getContext("webgl",tf)||t.getContext("experimental-webgl",tf):t.getContext("webgl2",tf)}(e));var t=ef[e];return t.isContextLost()?(delete ef[e],rf(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),ef[e])}function of(e,t){return[t,e]}function af(e){var t=Ud(e);return Gd(Math.ceil(t/4))}function sf(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function lf(e,t){var n,r,o,i,a,s,l,u,c,d=e;return 2===Cd().getNumber("WEBGL_VERSION")?(n=d.R32F,r=d.R16F,o=d.RGBA16F,i=d.RGBA32F,a=d.RED,s=4,l=1,u=d.HALF_FLOAT,c=d.FLOAT):(n=e.RGBA,r=e.RGBA,o=e.RGBA,i=d.RGBA,a=e.RGBA,s=4,l=4,u=null!=t?t.HALF_FLOAT_OES:null,c=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:l,textureTypeHalfFloat:u,textureTypeFloat:c}}function uf(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+df(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Qp||(Qp={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Jp||(Jp={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Zp||(Zp={}));function cf(e){return!!(Cd().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function df(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function pf(e,t,n){return Df(e,t,(function(){return e.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function ff(e,t,n){var r=Df(e,t,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(uf(e,t,(function(){return e.shaderSource(r,n)})),uf(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function hf(e,t,n){var r=Df(e,t,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(uf(e,t,(function(){return e.shaderSource(r,n)})),uf(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=gf.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],o=e.split("\n"),i=o.length.toString().length+2,a=o.map((function(e,t){return qd((t+1).toString(),i)+e})),s=0,l=0;l<a.length;l++)s=Math.max(a[l].length,s);var u=a.slice(0,r-1),c=a.slice(r-1,r),d=a.slice(r);console.log(u.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+qd(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var mf,vf,gf=/ERROR: [0-9]+:([0-9]+):/g;function yf(e,t){return Df(e,t,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function bf(e,t,n){if(uf(e,t,(function(){return e.linkProgram(n)})),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function xf(e,t,n){if(uf(e,t,(function(){return e.validateProgram(n)})),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function wf(e,t,n){var r=Df(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return uf(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),uf(e,t,(function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function Sf(e,t,n){var r=Df(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return uf(e,t,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)})),uf(e,t,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function Af(e,t){return Df(e,t,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function kf(e,t){var n=Cd().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function Cf(e,t){return Df(e,t,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function Ef(e,t,n,r,o,i,a,s){var l=e.getAttribLocation(n,r);return-1!==l&&(uf(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,o)})),uf(e,t,(function(){return e.vertexAttribPointer(l,i,e.FLOAT,!1,a,s)})),uf(e,t,(function(){return e.enableVertexAttribArray(l)})),!0)}function _f(e,t,n,r){Ff(e,r),uf(e,t,(function(){return e.activeTexture(e.TEXTURE0+r)})),uf(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)}))}function Rf(e,t,n,r){return Df(e,t,(function(){return e.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function Tf(e,t,n){return e.getUniformLocation(t,n)}function If(e,t,n,r,o,i){uf(e,t,(function(){return _f(e,t,r,i)})),uf(e,t,(function(){return e.uniform1i(o,i)}))}function Pf(e,t,n,r){uf(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),uf(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}))}function Of(e,t,n){uf(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),uf(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function Mf(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Nf(e,t))}function Nf(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function Df(e,t,n,r){var o=uf(e,t,(function(){return n()}));if(null==o)throw new Error(r);return o}function Ff(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function jf(e,t){return void 0===t&&(t=2),Ud(e.slice(0,e.length-t))}function Lf(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Bf(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[jf(e)].concat(Lf(e))),t}function zf(e,t){var n;void 0===t&&(t=!1);var r=Cd().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map((function(t,n){return n>=e.length-2?Fd(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var o=Qd(e);e=o.newShape}var i=Ud(e);if(e.length<=1&&i<=r)return[1,i];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var a=jf(e),s=2,l=2;return e.length&&(s=(n=Lf(e))[0],l=n[1]),Gd(i=a*(s/2)*(l/2)).map((function(e){return 2*e}))}return Gd(i)}function Wf(e){return e%2==0}function Uf(e,t){if(Vd(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(Wf(n)&&Wf(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Wf(e[0])&&Wf(t[0])}function Vf(e){if(null==mf){var t=rf(e);mf=t.getParameter(t.MAX_TEXTURE_SIZE)}return mf}function Hf(e){if(null==vf){var t=rf(e);vf=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,vf)}function $f(e){if(0===e)return 0;var t=rf(e);return Gf(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Gf(t,"EXT_disjoint_timer_query")?1:0}function Gf(e,t){return null!=e.getExtension(t)}function qf(e){try{if(null!=rf(e))return!0}catch(e){return!1}return!1}function Kf(e){if(0===e)return!1;var t=rf(e);if(1===e){if(!Gf(t,"OES_texture_float"))return!1}else if(!Gf(t,"EXT_color_buffer_float"))return!1;return Yf(t)}function Xf(e){if(0===e)return!1;var t=rf(e);if(1!==e){if(Gf(t,"EXT_color_buffer_float"))return Yf(t);if(Gf(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=lf(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),i}(t,n)}return!1}return!!Gf(t,"OES_texture_float")&&!!Gf(t,"WEBGL_color_buffer_float")&&Yf(t)}function Yf(e){var t=lf(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function Qf(e){return 2===e&&null!=rf(e).fenceSync}var Jf=Object.freeze({callAndCheck:uf,canBeRepresented:cf,getWebGLErrorMessage:df,getExtensionOrThrow:pf,createVertexShader:ff,createFragmentShader:hf,createProgram:yf,linkProgram:bf,validateProgram:xf,createStaticVertexBuffer:wf,createStaticIndexBuffer:Sf,getNumChannels:function(){return 2===Cd().getNumber("WEBGL_VERSION")?1:4},createTexture:Af,validateTextureSize:kf,createFramebuffer:Cf,bindVertexBufferToProgramAttribute:Ef,bindTextureUnit:_f,unbindTextureUnit:function(e,t,n){Ff(e,n),uf(e,t,(function(){return e.activeTexture(e.TEXTURE0+n)})),uf(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:Rf,getProgramUniformLocation:Tf,bindTextureToProgramUniformSampler:If,bindCanvasToFramebuffer:function(e,t){uf(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),uf(e,t,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),uf(e,t,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))},bindColorTextureToFramebuffer:Pf,unbindColorTextureFromFramebuffer:Of,validateFramebuffer:Mf,getFramebufferErrorMessage:Nf,getBatchDim:jf,getRowsCols:Lf,getShapeAs3D:Bf,getTextureShapeFromLogicalShape:zf,isReshapeFree:Uf,getWebGLMaxTextureSize:Vf,resetMaxTextureSize:function(){mf=null},resetMaxTexturesInShader:function(){vf=null},getMaxTexturesInShader:Hf,getWebGLDisjointQueryTimerVersion:$f,hasExtension:Gf,isWebGLVersionEnabled:qf,isCapableOfRenderingToFloatTexture:Kf,isDownloadFloatTextureEnabled:Xf,isWebGLFenceEnabled:Qf}),Zf=Cd();function eh(e){Cd().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function th(e,t){return Kp.tidy(e,t)}function nh(e){Hp(e).forEach((function(e){return e.dispose()}))}function rh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Cd().getBool("IS_TEST")||console.warn.apply(console,e)}function oh(e,t){var n=e;if(rp(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||rp(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Cd().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||rp(t)){Ld(n.length>0,(function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"})),Ld(t.length===n[0],(function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"}));for(var o=n.slice(1),i=0;i<t.length;++i)e(t[i],o,r.concat(i))}else Ld(0===n.length,(function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"}))}(e,r,[]),r}function ih(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function ah(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof Op)return ih(r,e.dtype,t,n),e;var o=up(e);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),ih(r,o,t,n),null==e||!rp(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var i=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+i+"'")}var a=oh(e,o);rp(e)||Array.isArray(e)||(e=[e]);var s="string"!==o?fp(e,o,Cd().getBool("DEBUG")):Wd(e,[],!0);return Kp.makeTensor(s,a,o)}function sh(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(e,r){return ah(e,t+"["+r+"]",n)}),r)}function lh(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function uh(e,t,n){for(var r=e.length+t.length,o=[],i=0,a=0,s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[i++]):o.push(t[a++]);return o}function ch(e,t){for(var n=[],r=e.length,o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map((function(t){return e[t]}))]}function dh(e,t){return uh(e,t.map((function(e){return 1})),t)}function ph(e,t,n){Ld(lh(t,n),(function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."}))}function fh(e,t){if(lh(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function hh(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function mh(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function vh(e,t){var n=e[0].length;e.forEach((function(e,t){Ld(e.length===n,(function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"}))})),Ld(t>=0&&t<n,(function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."}));var r=e[0];e.forEach((function(e,o){for(var i=0;i<n;i++)Ld(i===t||e[i]===r[i],(function(){return"Error in concat"+n+"D: Shape of tensors["+o+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."}))}))}function gh(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function yh(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Kp.startScope(n);try{var o=r.apply(void 0,e);return o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Kp.endScope(o),o}catch(e){throw Kp.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}Zf.registerFlag("HAS_WEBGL",(function(){return Zf.getNumber("WEBGL_VERSION")>0})),Zf.registerFlag("WEBGL_VERSION",(function(){return qf(2)?2:qf(1)?1:0})),Zf.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Zf.get("WEBGL_VERSION")})),Zf.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Zf.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Zf.registerFlag("WEBGL_PACK",(function(){return Zf.getBool("HAS_WEBGL")})),Zf.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Zf.getBool("WEBGL_PACK")})),Zf.registerFlag("WEBGL_PACK_CLIP",(function(){return Zf.getBool("WEBGL_PACK")})),Zf.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),Zf.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Zf.getBool("WEBGL_PACK")})),Zf.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Zf.getBool("WEBGL_PACK")})),Zf.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Zf.getBool("WEBGL_PACK")})),Zf.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Zf.getBool("WEBGL_PACK")})),Zf.registerFlag("WEBGL_PACK_REDUCE",(function(){return Zf.getBool("WEBGL_PACK")})),Zf.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Zf.getBool("WEBGL_PACK")})),Zf.registerFlag("WEBGL_CONV_IM2COL",(function(){return Zf.getBool("WEBGL_PACK")})),Zf.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return Vf(Zf.getNumber("WEBGL_VERSION"))})),Zf.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return Hf(Zf.getNumber("WEBGL_VERSION"))})),Zf.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=Zf.getNumber("WEBGL_VERSION");return 0===e?0:$f(e)})),Zf.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Zf.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),Zf.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return Kf(Zf.getNumber("WEBGL_VERSION"))})),Zf.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Zf.getBool("WEBGL_FORCE_F16_TEXTURES")&&Zf.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Zf.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return Xf(Zf.getNumber("WEBGL_VERSION"))})),Zf.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return Qf(Zf.getNumber("WEBGL_VERSION"))})),Zf.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Zf.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),Pp=eh;var bh=yh({complex_:function(e,t){var n=ah(e,"real","complex"),r=ah(t,"imag","complex");return Bd(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Kp.runKernelFunc((function(e){return e.complex(n,r)}),{$real:n,$imag:r})}}),xh=yh({real_:function(e){var t=ah(e,"input","real");return Kp.runKernelFunc((function(e){return e.real(t)}),{$input:t})}}),wh=yh({imag_:function(e){var t=ah(e,"input","imag");return Kp.runKernelFunc((function(e){return e.imag(t)}),{$input:t})}});function Sh(e,t,n){return Ah(e,t,oh(e,n),n)}function Ah(e,t,n,r){if(null==r&&(r=up(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!rp(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){yp(t);var o=Ud(t),i=Ud(n);Ld(o===i,(function(){return"Based on the provided shape, ["+t+"], the tensor should have "+o+" values but has "+i}));for(var a=0;a<n.length;++a){var s=n[a],l=a!==n.length-1||s!==Ud(t.slice(a));Ld(n[a]===t[a]||!l,(function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "}))}}return rp(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?fp(e,r,Cd().getBool("DEBUG")):Wd(e,[],!0),Kp.makeTensor(e,t,r)}function kh(e,t){if((rp(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&rp(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Ah(e,[],[],t)}function Ch(e,t){zd(e);var n=oh(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Ah(e,null,n,t)}function Eh(e,t,n){if(zd(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=oh(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Ah(e,t,r,n)}function _h(e,t,n){if(zd(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=oh(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Ah(e,t,r,n)}function Rh(e,t,n){if(zd(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=oh(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Ah(e,t,r,n)}function Th(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Th(e,"float32"),r=Ih(e,"float32");return bh(n,r)}var o=mp(Ud(e),t);return Kp.makeTensor(o,e,t)}function Ih(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Ih(e,"float32"),r=Ih(e,"float32");return bh(n,r)}var o=vp(Ud(e),t);return Kp.makeTensor(o,e,t)}function Ph(e,t,n){return Kp.runKernelFunc((function(r){return r.fill(e,t,n)}),{})}function Oh(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return Ih([0],r);var o=vp(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+n;return Ch(o,r)}var Mh=yh({onesLike_:function(e){var t=ah(e,"x","onesLike");if("complex64"===t.dtype){var n=Mh(xh(t)),r=Nh(wh(t));return bh(n,r)}return Kp.runKernelFunc((function(e){return e.onesLike(t)}),{$x:t},(function(e,t){return{$x:function(){return Nh(e)}}}))}}),Nh=yh({zerosLike_:function(e){var t=ah(e,"x","zerosLike");return Kp.runKernelFunc((function(e){return e.zerosLike(t)}),{$x:t},(function(e,t){return{$x:function(){return Nh(e)}}}))}}),Dh=yh({concat_:function(e,t){void 0===t&&(t=0),Ld(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=sh(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")})),t=Yd(t,n[0].shape)[0];var r=gh(n.map((function(e){return e.shape})),t);if(0===Ud(r))return Sh([],r);if(1===(n=n.filter((function(e){return e.size>0}))).length)return n[0];var o=n.map((function(e){return e.shape}));vh(o,t);var i=n,a={axis:t};return Kp.runKernelFunc((function(e){return e.concat(n,t)}),i,(function(e){var n=o.map((function(e){return e[t]}));return zh(e,n,t).map((function(e){return function(){return e}}))}),"Concat",a)}}),Fh=yh({concat1d_:function(e){return Dh(e,0)}}),jh=yh({concat2d_:function(e,t){return Dh(e,t)}}),Lh=yh({concat3d_:function(e,t){return Dh(e,t)}}),Bh=yh({concat4d_:function(e,t){return Dh(e,t)}}),zh=yh({split_:function(e,t,n){void 0===n&&(n=0);var r,o=ah(e,"x","split");return n=Yd(n,o.shape)[0],"number"==typeof t?(Ld(o.shape[n]%t==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(o.shape[n]/t)):(Ld(o.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t),Kp.runKernelFunc((function(e){return e.split(o,r,n)}),{$x:o},(function(e){return{$x:function(){return Dh(e,n)}}}))}});function Wh(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self&&self;var Uh=Wh((function(e){!function(e,t){function n(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var o=new n(e),i=t&&t.state,a=o.next;return a.int32=function(){return 4294967296*o.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,i&&("object"==typeof i&&r(i,o),a.state=function(){return r(o,{})}),a}t&&t.exports?t.exports=o:this.alea=o}(0,e)})),Vh=Wh((function(e){!function(e,t){function n(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var o=new n(e),i=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=o.next,a.quick=a,i&&("object"==typeof i&&r(i,o),a.state=function(){return r(o,{})}),a}t&&t.exports?t.exports=o:this.xor128=o}(0,e)})),Hh=Wh((function(e){!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var o=new n(e),i=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=o.next,a.quick=a,i&&("object"==typeof i&&r(i,o),a.state=function(){return r(o,{})}),a}t&&t.exports?t.exports=o:this.xorwow=o}(0,e)})),$h=Wh((function(e){!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var o=new n(e),i=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=o.next,a.quick=a,i&&(i.x&&r(i,o),a.state=function(){return r(o,{})}),a}t&&t.exports?t.exports=o:this.xorshift7=o}(0,e)})),Gh=Wh((function(e){!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),o=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var o=new n(e),i=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=o.next,a.quick=a,i&&(i.X&&r(i,o),a.state=function(){return r(o,{})}),a}t&&t.exports?t.exports=o:this.xor4096=o}(0,e)})),qh=Wh((function(e){!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var o=new n(e),i=t&&t.state,a=function(){return(o.next()>>>0)/4294967296};return a.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=o.next,a.quick=a,i&&("object"==typeof i&&r(i,o),a.state=function(){return r(o,{})}),a}t&&t.exports?t.exports=o:this.tychei=o}(0,e)})),Kh=Wh((function(e){!function(t,r){var o,i=this,a=256,s="random",l=r.pow(a,6),u=r.pow(2,52),c=2*u,d=255;function p(e,n,d){var p=[],g=m(function e(t,n){var r,o=[],i=typeof t;if(n&&"object"==i)for(r in t)try{o.push(e(t[r],n-1))}catch(e){}return o.length?o:"string"==i?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,v(t)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(a):(e=new Uint8Array(a),(i.crypto||i.msCrypto).getRandomValues(e)),v(e)}catch(e){var n=i.navigator,r=n&&n.plugins;return[+new Date,i,r,i.screen,v(t)]}}():e,3),p),y=new f(p),b=function(){for(var e=y.g(6),t=l,n=0;e<u;)e=(e+n)*a,t*=a,n=y.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|y.g(4)},b.quick=function(){return y.g(4)/4294967296},b.double=b,m(v(y.S),t),(n.pass||d||function(e,t,n,o){return o&&(o.S&&h(o,y),e.state=function(){return h(y,{})}),n?(r[s]=e,t):e})(b,g,"global"in n?n.global:this==r,n.state)}function f(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<a;)s[o]=o++;for(o=0;o<a;o++)s[o]=s[i=d&i+e[o%n]+(t=s[o])],s[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,s=r.S;e--;)t=s[o=d&o+1],n=n*a+s[d&(s[o]=s[i=d&i+t])+(s[i]=t)];return r.i=o,r.j=i,n})(a)}function h(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var n,r=e+"",o=0;o<r.length;)t[d&o]=d&(n^=19*t[d&o])+r.charCodeAt(o++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=p,m(r.random(),t),e.exports){e.exports=p;try{o=n(8082)}catch(e){}}}([],Math)}));Kh.alea=Uh,Kh.xor128=Vh,Kh.xorwow=Hh,Kh.xorshift7=$h,Kh.xor4096=Gh,Kh.tychei=qh;var Xh=Kh.alea,Yh=function(){function e(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=Xh(i.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var o=void 0,i=void 0,a=void 0;do{a=(o=2*this.random()-1)*o+(i=2*this.random()-1)*i}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);t=this.mean+this.stdDev*o*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),Qh=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var o=r||Math.random();this.randu=Xh(o.toString()),this.randn=new Yh(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,o,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(o=this.randu())<t||Math.log(o)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),Jh=function(){function e(e,t,n,r){var o=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==o.dtype||"float32"===o.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=Xh(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function Zh(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",yp(e),new Rp(e,t,n)}var em=yh({batchToSpaceND_:function(e,t,n){var r=ah(e,"x","batchToSpaceND"),o=t.reduce((function(e,t){return e*t}));return Ld(r.rank>=1+t.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length})),Ld(n.length===t.length,(function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length})),Ld(r.shape[0]%o==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+o})),Kp.runKernelFunc((function(e){return e.batchToSpaceND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}}))}}),tm=yh({broadcastTo_:function(e,t){var n=ah(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var o=n.shape.slice();o.length<t.length;)o.unshift(1);n=n.reshape(o)}for(var i=Array.from(t),a=t.length-1;a>=0;a--)if(n.shape[a]===t[a])i[a]=1;else if(1!==n.shape[a])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=i.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));return 0===s.length?n.clone():Kp.runKernelFunc((function(e){return e.tile(n,i)}),{input:n},(function(e){return{input:function(){return e.sum(s,!0)}}}))}}),nm=yh({cast_:function(e,t){var n=ah(e,"x","cast");if(!tp(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return Kp.runKernelFunc((function(e){return e.cast(n,t)}),{x:n},(function(e){return{x:function(){return e.clone()}}}),"Cast",r)}}),rm=yh({clone_:function(e){var t=ah(e,"x","clone",null);return Kp.runKernelFunc((function(){return Kp.makeTensorFromDataId(t.dataId,t.shape,t.dtype)}),{$x:t},(function(e){return{$x:function(){return e.toFloat()}}}))}}),om=yh({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var o=ah(e,"x","cumsum"),i=fh([t|=0],o.rank),a=o;null!=i&&(a=o.transpose(i));var s=mh(1,o.rank)[0],l=Kp.runKernelFunc((function(e){return e.cumsum(a,s,n,r)}),{permutedX:a},(function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}}));return null!=i&&(l=l.transpose(i)),l}}),im=yh({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=ah(e,"x","depthToSpace"),o="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];return Ld(o*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+t+"  for depthToSpace with input shape\n      "+r.shape})),Ld(i*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+" for depthToSpace with input shape\n          "+r.shape})),Ld(a%(t*t)==0,(function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+a+" for depthToSpace with input shape "+r.shape})),Kp.runKernelFunc((function(e){return e.depthToSpace(r,t,n)}),{$x:r})}}),am=yh({expandDims_:function(e,t){void 0===t&&(t=0);var n=ah(e,"x","expandDims",null);Ld(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n.shape.slice();return t<0&&(Ld(-(n.rank+1)<=t,(function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"})),t=n.rank+t+1),r.splice(t,0,1),bm(n,r)}}),sm=yh({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var o=Zh([e,t],r),i=e<=t?e:t,a=0;a<i;++a)o.set(1,a,a);var s=o.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return Am(am(s,0),[n[0],1,1]);if(2===n.length)return Am(am(am(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return Am(am(am(am(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),lm=yh({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var o=ah(e,"logits","multinomial"),i=o.size,a=o.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);n=n||Math.random();var s=1===a?o.as2D(1,-1):o,l=Kp.runKernelFunc((function(e){return e.multinomial(s,r,t,n)}),{logits2D:s});return 1===a?l.as1D():l}}),um=yh({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var o=ah(e,"indices","oneHot","int32"),i=o.shape.concat([t]);return o=o.flatten(),Kp.runKernelFunc((function(e){return e.oneHot(o,t,n,r)}),{$indices:o},(function(e){return{$indices:function(){return Ih(o.shape,"float32")}}})).reshape(i)}}),cm=yh({pad_:function(e,t,n){void 0===n&&(n=0);var r=ah(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:t,constantValue:n};return Kp.runKernelFunc((function(e){return e.pad(r,t,n)}),{x:r},(function(e){var n=t.map((function(e){return e[0]}));return{x:function(){return e.slice(n,r.shape)}}}),"PadV2",o)}}),dm=yh({pad1d_:function(e,t,n){return void 0===n&&(n=0),Ld(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),cm(e,[t],n)}}),pm=yh({pad2d_:function(e,t,n){return void 0===n&&(n=0),Ld(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),cm(e,t,n)}}),fm=yh({pad3d_:function(e,t,n){return void 0===n&&(n=0),Ld(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),cm(e,t,n)}}),hm=yh({pad4d_:function(e,t,n){return void 0===n&&(n=0),Ld(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),cm(e,t,n)}}),mm=yh({rand_:function(e,t,n){var r=Ud(e),o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var i=0;i<r;i++)o[i]=t();return Kp.makeTensor(o,e,n)}}),vm=yh({randomNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new Yh(t,n,r,!1,o),a=Zh(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),gm=yh({randomGamma_:function(e,t,n,r,o){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var i=new Qh(t,n,r,o),a=Zh(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),ym=yh({randomUniform_:function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var i=Zh(e,r),a=new Jh(t,n,null,o),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),bm=yh({reshape_:function(e,t){var n=ah(e,"x","reshape",null);t=Xd(t,n.size),Ld(n.size===Ud(t),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:t};return Kp.runKernelFunc((function(e){return e.reshape(n,t)}),{x:n},(function(e){return{x:function(){return e.reshape(n.shape)}}}),"Reshape",r)}}),xm=yh({spaceToBatchND_:function(e,t,n){var r=ah(e,"x","spaceToBatchND");return Ld(r.rank>=1+t.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length})),Ld(n.length===t.length,(function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length})),Ld(r.shape.reduce((function(e,r,o){return o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]==0:e}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()})),Kp.runKernelFunc((function(e){return e.spaceToBatchND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}}))}}),wm=yh({squeeze_:function(e,t){var n=ah(e,"x","squeeze");return bm(n,Qd(n.shape,t).newShape)}}),Sm=yh({stack_:function(e,t){void 0===t&&(t=0);var n=sh(e,"tensors","stack");if(Ld(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===n.length)return n[0].expandDims(t);var r=n[0].rank,o=n[0].shape,i=n[0].dtype;Ld(t<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(e){Bd(o,e.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(e){Ld(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var a=n.map((function(e){return e.expandDims(t)}));return Dh(a,t)}}),Am=yh({tile_:function(e,t){var n=ah(e,"x","tile",null);Ld(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."}));var r=[n],o={reps:t};return Kp.runKernelFunc((function(e,r){var o=e.tile(n,t);return r([n]),o}),{x:n},(function(e,n){var r=n[0];return{x:function(){var n=Nh(r);if(1===r.rank)for(var o=0;o<t[0];++o)n=n.add(e.slice([o*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(o=0;o<t[0];++o)for(var i=0;i<t[1];++i)n=n.add(e.slice([o*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(var a=0;a<t[2];++a)n=n.add(e.slice([o*r.shape[0],i*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(a=0;a<t[2];++a)for(var s=0;s<t[3];++s)n=n.add(e.slice([o*r.shape[0],i*r.shape[1],a*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}}),"Tile",o,r)}}),km=yh({truncatedNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new Yh(t,n,r,!0,o),a=Zh(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),Cm=yh({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=ah(e,"x","unstack");Ld(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"})),t<0&&(t+=n.shape.length);var r={axis:t};return Kp.runKernelFunc((function(e){return e.unstack(n,t)}),{x:n},(function(e){return{x:function(){return Sm(e,t)}}}),"Unpack",r)}});function Em(e,t,n,r){void 0===r&&(r=!0);var o=[];if(r)(o=o.concat(t.slice(0))).push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var i=t.length,a=0;a<i;++a)o=o.concat([e[a+1]/t[a],t[a]]);o=o.concat(e.slice(i+1))}return o}function _m(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var o=t+1;o<e;++o)o<=2*t?(r.push(o),r.push(o-(t+1))):r.push(o)}else{var i=[],a=[];for(o=1;o<e;++o)o>=2*t+1||o%2==1?a.push(o):i.push(o);r.push.apply(r,i),r.push(0),r.push.apply(r,a)}return r}function Rm(e,t,n,r){void 0===r&&(r=!0);var o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?o.push(t[i-1]*e[i]):o.push(e[i]/t[i-1]):o.push(e[i]);return o}function Tm(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Im(e,t,n){for(var r=e.slice(0,1),o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}function Pm(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],o=1,i=0;i<n.length-1;++i)o*=n[i];var a=e.shape,s=n.slice();s.pop();var l=1;for(i=r;i<e.rank;++i)l*=a[i],s.push(a[i]);var u=pp(e.shape).map((function(e){return e/l})).concat([1]).slice(0,r);return[s,o,l,u]}Object.freeze({prepareAndValidate:Pm});function Om(e){return e<=30?e:dp(e,Math.floor(Math.sqrt(e)))}function Mm(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+o+".";if(n.rank<o)throw new Error(i+" update.rank < "+o+". ");if(e.length<r+(n.rank-o))throw new Error(i+" Output shape length < "+(r+(n.rank-o)));if(n.rank!==o+e.length-r)throw new Error(i+" update.rank != "+(o+e.length-r));for(var a=0;a<o;++a)if(n.shape[a]!==t.shape[a])throw new Error(i+" updates.shape["+a+"] ("+n.shape[a]+") != indices.shape["+a+"] ("+t.shape[a]+").");for(a=0;a<n.rank-o;++a)if(n.shape[a+o]!==e[a+r])throw new Error(i+" updates.shape["+(a+o)+"] ("+n.shape[a+o]+") != shape["+(a+o)+"] ("+e[a+o]+")")}function Nm(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}Mm(n,t,e)}function Dm(e,t,n){for(var r=t.shape.length,o=r>1?t.shape[r-1]:1,i=n.length,a=1,s=o;s<i;++s)a*=n[s];var l=o<1?1:o;return{sliceRank:o,numUpdates:Ud(t.shape)/l,sliceSize:a,strides:pp(n.slice(0,o)).concat([1]),outputSize:Ud(n)}}Object.freeze({validateUpdateShape:Mm,validateInput:Nm,calculateShapes:Dm});function Fm(e,t,n){Ld(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."})),Ld(e.rank===n.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."}));for(var r=function(r){Ld(t[r]+n[r]<=e.shape[r],(function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"}))},o=0;o<e.rank;++o)r(o)}function jm(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Lm(e,t,n){for(var r=[],o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function Bm(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||null==i)&&(i=a>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),Dd(0,i,s-1)}function zm(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||null==i)&&(i=a>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),a>0?Dd(0,i,s):Dd(-1,i,s-1)}function Wm(e,t,n){for(var r=n.length,o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function Um(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}Object.freeze({assertParamsValid:Fm,maskToAxes:jm,computeOutShape:Lm,startForAxis:Bm,stopForAxis:zm,isSliceContinous:Wm,computeFlatOffset:Um});function Vm(e){return Kp.customGrad(e)}var Hm=yh({softmax_:function(e,t){void 0===t&&(t=-1);var n=ah(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return Kp.runKernelFunc((function(e,r){var o=e.softmax(n,t);return r([o]),o}),{logits:n},(function(e,n){var r=n[0],o=e.mul(r);return{logits:function(){return o.sub(o.sum([t],!0).mul(r))}}}),"Softmax",{dim:t},[],[!0])}}),$m=yh({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=ah(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Vm((function(e,n){var r=e.max(t,!0),o=e.sub(r),i=o.toFloat().sub(o.exp().sum(t,!0).log());return n([i]),{value:i,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}}))(n)}}),Gm=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),qm=function(){function e(){}return e.prototype.time=function(e){return Km("time")},e.prototype.read=function(e){return Km("read")},e.prototype.readSync=function(e){return Km("readSync")},e.prototype.numDataIds=function(){return Km("numDataIds")},e.prototype.disposeData=function(e){return Km("disposeData")},e.prototype.write=function(e,t,n){return Km("write")},e.prototype.move=function(e,t,n,r){return Km("move")},e.prototype.memory=function(){return Km("memory")},e.prototype.floatPrecision=function(){return Km("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return Km("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,Km("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return Km("slice")},e.prototype.stridedSlice=function(e,t,n,r){return Km("stridedSlice")},e.prototype.unstack=function(e,t){return Km("unstack")},e.prototype.reverse=function(e,t){return Km("reverse")},e.prototype.concat=function(e,t){return Km("concat")},e.prototype.neg=function(e){return Km("neg")},e.prototype.add=function(e,t){return Km("add")},e.prototype.addN=function(e){return Km("addN")},e.prototype.subtract=function(e,t){return Km("subtract")},e.prototype.multiply=function(e,t){return Km("multiply")},e.prototype.realDivide=function(e,t){return Km("realDivide")},e.prototype.floorDiv=function(e,t){return Km("floorDiv")},e.prototype.sum=function(e,t){return Km("sum")},e.prototype.prod=function(e,t){return Km("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return Km("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return Km("argMin")},e.prototype.argMax=function(e,t){return Km("argMax")},e.prototype.equal=function(e,t){return Km("equal")},e.prototype.notEqual=function(e,t){return Km("notEqual")},e.prototype.less=function(e,t){return Km("less")},e.prototype.lessEqual=function(e,t){return Km("lessEqual")},e.prototype.greater=function(e,t){return Km("greater")},e.prototype.greaterEqual=function(e,t){return Km("greaterEqual")},e.prototype.logicalNot=function(e){return Km("logicalNot")},e.prototype.logicalAnd=function(e,t){return Km("logicalAnd")},e.prototype.logicalOr=function(e,t){return Km("logicalOr")},e.prototype.where=function(e){return Km("where")},e.prototype.select=function(e,t,n){return Km("select")},e.prototype.topk=function(e,t,n){return Km("topk")},e.prototype.min=function(e,t){return Km("min")},e.prototype.minimum=function(e,t){return Km("minimum")},e.prototype.mod=function(e,t){return Km("mod")},e.prototype.max=function(e,t){return Km("max")},e.prototype.maximum=function(e,t){return Km("maximum")},e.prototype.all=function(e,t){return Km("all")},e.prototype.any=function(e,t){return Km("any")},e.prototype.squaredDifference=function(e,t){return Km("squaredDifference")},e.prototype.ceil=function(e){return Km("ceil")},e.prototype.floor=function(e){return Km("floor")},e.prototype.round=function(e){return Km("round")},e.prototype.sign=function(e){return Km("sign")},e.prototype.isNaN=function(e){return Km("isNaN")},e.prototype.isInf=function(e){return Km("isInf")},e.prototype.isFinite=function(e){return Km("isFinite")},e.prototype.pow=function(e,t){return Km("pow")},e.prototype.exp=function(e){return Km("exp")},e.prototype.expm1=function(e){return Km("expm1")},e.prototype.softmax=function(e,t){return Km("softmax")},e.prototype.log=function(e){return Km("log")},e.prototype.log1p=function(e){return Km("log1p")},e.prototype.sqrt=function(e){return Km("sqrt")},e.prototype.rsqrt=function(e){return Km("rsqrt")},e.prototype.square=function(e){return Km("square")},e.prototype.reciprocal=function(e){return Km("reciprocal")},e.prototype.relu=function(e){return Km("relu")},e.prototype.relu6=function(e){return Km("relu6")},e.prototype.prelu=function(e,t){return Km("prelu")},e.prototype.elu=function(e){return Km("elu")},e.prototype.eluDer=function(e,t){return Km("eluDer")},e.prototype.selu=function(e){return Km("selu")},e.prototype.int=function(e){return Km("int")},e.prototype.clip=function(e,t,n){return Km("clip")},e.prototype.abs=function(e){return Km("abs")},e.prototype.complexAbs=function(e){return Km("complexAbs")},e.prototype.sigmoid=function(e){return Km("sigmoid")},e.prototype.softplus=function(e){return Km("softplus")},e.prototype.sin=function(e){return Km("sin")},e.prototype.cos=function(e){return Km("cos")},e.prototype.tan=function(e){return Km("tan")},e.prototype.asin=function(e){return Km("asin")},e.prototype.acos=function(e){return Km("acos")},e.prototype.atan=function(e){return Km("atan")},e.prototype.atan2=function(e,t){return Km("atan2")},e.prototype.sinh=function(e){return Km("sinh")},e.prototype.cosh=function(e){return Km("cosh")},e.prototype.tanh=function(e){return Km("tanh")},e.prototype.asinh=function(e){return Km("asinh")},e.prototype.acosh=function(e){return Km("acosh")},e.prototype.atanh=function(e){return Km("atanh")},e.prototype.erf=function(e){return Km("erf")},e.prototype.step=function(e,t){return Km("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Km("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return Km("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return Km("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return Km("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Km("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return Km("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return Km("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return Km("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return Km("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return Km("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return Km("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return Km("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return Km("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return Km("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return Km("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return Km("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return Km("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return Km("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return Km("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return Km("reshape")},e.prototype.cast=function(e,t){return Km("cast")},e.prototype.tile=function(e,t){return Km("tile")},e.prototype.pad=function(e,t,n){return Km("pad")},e.prototype.transpose=function(e,t){return Km("transpose")},e.prototype.gather=function(e,t,n){return Km("gather")},e.prototype.gatherND=function(e,t){return Km("gatherND")},e.prototype.scatterND=function(e,t,n){return Km("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return Km("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return Km("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return Km("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return Km("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return Km("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return Km("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,o,i){return Km("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,o){return Km("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,o,i,a){return Km("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return Km("multinomial")},e.prototype.oneHot=function(e,t,n,r){return Km("oneHot")},e.prototype.cumsum=function(e,t,n,r){return Km("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,o){return Km("nonMaxSuppression")},e.prototype.fft=function(e){return Km("fft")},e.prototype.ifft=function(e){return Km("ifft")},e.prototype.complex=function(e,t){return Km("complex")},e.prototype.real=function(e){return Km("real")},e.prototype.imag=function(e){return Km("imag")},e.prototype.cropAndResize=function(e,t,n,r,o,i){return Km("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return Km("depthToSpace")},e.prototype.split=function(e,t,n){return Km("split")},e.prototype.sparseToDense=function(e,t,n,r){return Km("sparseToDense")},e.prototype.diag=function(e){return Km("diag")},e.prototype.fill=function(e,t,n){return Km("fill")},e.prototype.onesLike=function(e){return Km("onesLike")},e.prototype.zerosLike=function(e){return Km("zerosLike")},e.prototype.linspace=function(e,t,n){return Km("linspace")},e.prototype.dispose=function(){return Km("dispose")},e}();function Km(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Xm(e,t){for(var n=e.length,r=[],o=0;o<n;o++){var i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r}function Ym(e,t){for(var n=[],r=0;r<t.length;r++){var o=e[e.length-r-1],i=t.length-r-1,a=t[i];(null==o||1===o&&a>1)&&n.unshift(i)}return n}function Qm(e,t){for(var n=[],r=Math.max(e.length,t.length),o=0;o<r;o++){var i=e[e.length-o-1];null==i&&(i=1);var a=t[t.length-o-1];if(null==a&&(a=1),1===i)n.unshift(a);else if(1===a)n.unshift(i);else{if(i!==a)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(i)}}return n}function Jm(e,t,n,r,o,i,a){void 0===a&&(a="channelsLast");var s,l=rv(t),u=l[0],c=l[1];if("channelsLast"===a)s=[u,c,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);s=[u,c,e[1],e[1]]}return ev(e,s,n,r,o,i,!1,a)}function Zm(e,t,n,r,o,i,a){void 0===a&&(a="NDHWC");var s,l,u=ov(t),c=u[0],d=u[1],p=u[2];if("NDHWC"===a)l="channelsLast",s=[c,d,p,e[4],e[4]];else{if("NCDHW"!==a)throw new Error("Unknown dataFormat "+a);l="channelsFirst",s=[c,d,p,e[1],e[1]]}return tv(e,s,n,r,o,!1,l,i)}function ev(e,t,n,r,o,i,a,s){void 0===a&&(a=!1),void 0===s&&(s="channelsLast");var l=[-1,-1,-1,-1],u=l[0],c=l[1],d=l[2],p=l[3];if("channelsLast"===s)u=e[0],c=e[1],d=e[2],p=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);u=e[0],p=e[1],c=e[2],d=e[3]}var f,h=t[0],m=t[1],v=t[3],g=rv(n),y=g[0],b=g[1],x=rv(r),w=x[0],S=x[1],A=iv(h,w),k=iv(m,S),C=function(e,t,n,r,o,i,a,s){var l,u,c;if("number"==typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var d=function(e,t,n,r,o){null==r&&(r=nv(e,t,n));var i=e[1],a=av((e[0]-t+2*r)/n+1,o);Ld(Hd(a),(function(){return"The output # of rows ("+a+") must be an integer. Change the stride and/or zero pad parameters"}));var s=av((i-t+2*r)/n+1,o);return Ld(Hd(s),(function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"})),[a,s]}([t,n],i,r,e,s);u=d[0],c=d[1]}else if("same"===e){u=Math.ceil(t/r),c=Math.ceil(n/o);var p=Math.max(0,(u-1)*r+i-t),f=Math.max(0,(c-1)*o+a-n),h=Math.floor(p/2),m=p-h,v=Math.floor(f/2);l={top:h,bottom:m,left:v,right:f-v,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);l={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-i+1)/r),c=Math.ceil((n-a+1)/o)}return{padInfo:l,outHeight:u,outWidth:c}}(o,c,d,y,b,A,k,i),E=C.padInfo,_=C.outHeight,R=C.outWidth,T=a?v*p:v;return"channelsFirst"===s?f=[u,T,_,R]:"channelsLast"===s&&(f=[u,_,R,T]),{batchSize:u,dataFormat:s,inHeight:c,inWidth:d,inChannels:p,outHeight:_,outWidth:R,outChannels:T,padInfo:E,strideHeight:y,strideWidth:b,filterHeight:h,filterWidth:m,effectiveFilterHeight:A,effectiveFilterWidth:k,dilationHeight:w,dilationWidth:S,inShape:e,outShape:f,filterShape:t}}function tv(e,t,n,r,o,i,a,s){void 0===i&&(i=!1),void 0===a&&(a="channelsLast");var l=[-1,-1,-1,-1,-1],u=l[0],c=l[1],d=l[2],p=l[3],f=l[4];if("channelsLast"===a)u=e[0],c=e[1],d=e[2],p=e[3],f=e[4];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);u=e[0],f=e[1],c=e[2],d=e[3],p=e[4]}var h,m=t[0],v=t[1],g=t[2],y=t[4],b=ov(n),x=b[0],w=b[1],S=b[2],A=ov(r),k=A[0],C=A[1],E=A[2],_=iv(m,k),R=iv(v,C),T=iv(g,E),I=function(e,t,n,r,o,i,a,s,l,u,c){var d,p,f,h;if("number"==typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,o,i){null==o&&(o=nv(e,t,r));var a=e[1],s=e[2],l=av((e[0]-t+2*o)/r+1,i);Ld(Hd(l),(function(){return"The output # of depths ("+l+") must be an integer. Change the stride and/or zero pad parameters"}));var u=av((a-t+2*o)/r+1,i);Ld(Hd(u),(function(){return"The output # of rows ("+u+") must be an integer. Change the stride and/or zero pad parameters"}));var c=av((s-t+2*o)/r+1,i);return Ld(Hd(c),(function(){return"The output # of columns ("+c+") must be an integer. Change the stride and/or zero pad parameters"})),[l,u,c,1]}([t,n,r,1],s,0,o,e,c);p=m[0],f=m[1],h=m[2]}else if("same"===e){var v=((p=Math.ceil(t/o))-1)*o+s-t,g=((f=Math.ceil(n/i))-1)*i+l-n,y=((h=Math.ceil(r/a))-1)*a+u-r,b=Math.floor(v/2),x=v-b,w=Math.floor(g/2),S=g-w,A=Math.floor(y/2);d={top:w,bottom:S,left:A,right:y-A,front:b,back:x,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-s+1)/o),f=Math.ceil((n-l+1)/i),h=Math.ceil((r-u+1)/a)}return{padInfo:d,outDepth:p,outHeight:f,outWidth:h}}(o,c,d,p,x,w,S,_,R,T,s),P=I.padInfo,O=I.outDepth,M=I.outHeight,N=I.outWidth,D=i?y*f:y;return"channelsFirst"===a?h=[u,D,O,M,N]:"channelsLast"===a&&(h=[u,O,M,N,D]),{batchSize:u,dataFormat:a,inDepth:c,inHeight:d,inWidth:p,inChannels:f,outDepth:O,outHeight:M,outWidth:N,outChannels:D,padInfo:P,strideDepth:x,strideHeight:w,strideWidth:S,filterDepth:m,filterHeight:v,filterWidth:g,effectiveFilterDepth:_,effectiveFilterHeight:R,effectiveFilterWidth:T,dilationDepth:k,dilationHeight:C,dilationWidth:E,inShape:e,outShape:h,filterShape:t}}function nv(e,t,n,r){void 0===r&&(r=1);var o=iv(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function rv(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function ov(e){return"number"==typeof e?[e,e,e]:e}function iv(e,t){return t<=1?e:e+(e-1)*(t-1)}function av(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function sv(e){var t=rv(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function lv(e,t){return sv(e)||sv(t)}function uv(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function cv(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=Ih(e.shape),o=e.toFloat(),i=n.complex(o,r);return r.dispose(),o.dispose(),i}if(!np(e.dtype,t))return Kp.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var a=n.real(e);return i=a.cast(t),a.dispose(),i}if("int32"===t)return n.int(e);if("bool"===t){var s=kh(0,e.dtype);return i=n.notEqual(e,s),s.dispose(),i}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function dv(e,t){return Kp.makeTensorFromDataId(e.dataId,t,e.dtype)}function pv(e,t,n){var r=(t-e)/(n-1),o=vp(n,"float32");o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+r;return Ch(o,"float32")}Object.freeze({castTensor:cv,reshapeTensor:dv,linspaceImpl:pv,upcastType:zp,axesAreInnerMostDims:lh,combineLocations:uh,computeOutAndReduceShapes:ch,expandShapeToKeepDim:dh,assertAxesAreInnerMostDims:ph,getAxesPermutation:fh,getUndoAxesPermutation:hh,getInnerMostAxes:mh,getBroadcastDims:Xm,getReductionAxes:Ym,assertAndGetBroadcastShape:Qm,assertParamsConsistent:vh,computeOutShape:gh,computePool2DInfo:Jm,computePool3DInfo:Zm,computeConv2DInfo:ev,computeConv3DInfo:tv,computeDefaultPad:nv,tupleValuesAreOne:sv,eitherStridesOrDilationsAreOne:lv,convertConv2DDataFormat:uv,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:Om});function fv(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function hv(e,t){return{real:e[2*t],imag:e[2*t+1]}}function mv(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function vv(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function gv(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,o=e.length,i=0,a=!1;r<o;){var s=n(t,e[i=r+(o-r>>>1)]);s>0?r=i+1:(o=i,a=!s)}return a?r:-r-1}(e,t,n||yv)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function yv(e,t){return e>t?1:e<t?-1:0}function bv(e,t,n,r,o){return wv(e,t,n,r,o,0).selectedIndices}function xv(e,t,n,r,o,i){var a=wv(e,t,n,r,o,i,!0);return a.numValidOutputs.dispose(),{selectedIndices:a.selectedIndices,selectedScores:a.selectedScores}}function wv(e,t,n,r,o,i,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);for(var l=Array.from(t).map((function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}})).filter((function(e){return e.score>o})).sort(kv),u=i>0?-.5/i:0,c=[],d=[];c.length<n&&l.length>0;){var p=l.pop(),f=p.score,h=p.boxIndex,m=p.suppressBeginIndex;if(f<o)break;for(var v=!1,g=c.length-1;g>=m;--g){var y=Sv(e,h,c[g]);if(y>=r){v=!0;break}if(p.score=p.score*Av(r,u,y),p.score<=o)break}p.suppressBeginIndex=c.length,v||(p.score===f?(c.push(h),d.push(p.score)):p.score>o&&gv(l,p,kv))}var b=c.length;return s&&(c.fill(0,b),d.fill(0,b)),{selectedIndices:Ch(c,"int32"),selectedScores:Ch(d,"float32"),numValidOutputs:kh(b,"int32")}}function Sv(e,t,n){var r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(o[0],o[2]),c=Math.min(o[1],o[3]),d=Math.max(o[0],o[2]),p=Math.max(o[1],o[3]),f=(s-i)*(l-a),h=(d-u)*(p-c);if(f<=0||h<=0)return 0;var m=Math.max(i,u),v=Math.max(a,c),g=Math.min(s,d),y=Math.min(l,p),b=Math.max(g-m,0)*Math.max(y-v,0);return b/(f+h-b)}function Av(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function kv(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function Cv(e,t,n){var r=new Array(e.rank).fill(0),o=e.shape.slice();return t.map((function(t){o[n]=t;var i=e.slice(r,o);return r[n]+=t,i}))}function Ev(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var o=Zh(n,e.dtype);for(r=0;r<o.values.length;++r){for(var i=o.indexToLoc(r),a=new Array(e.rank),s=0;s<a.length;s++)a[s]=i[s]%e.shape[s];var l=e.locToIndex(a);o.values[r]=e.values[l]}return o.toTensor()}function _v(e,t,n,r,o){for(var i=t[t.length-1],a=[e.length/i,i],s=a[0],l=a[1],u=Jd(n,s*r),c=Jd("int32",s*r),d=0;d<s;d++){for(var p=d*l,f=e.subarray(p,p+l),h=[],m=0;m<f.length;m++)h.push({value:f[m],index:m});h.sort((function(e,t){return t.value-e.value}));var v=d*r,g=u.subarray(v,v+r),y=c.subarray(v,v+r);for(m=0;m<r;m++)g[m]=h[m].value,y[m]=h[m].index}var b=t.slice();return b[b.length-1]=r,[Sh(u,b,n),Sh(c,b,"int32")]}function Rv(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var o=Zh(e,"int32"),i=Zh([n.length,e.length],"int32");for(r=0;r<n.length;r++){var a=o.indexToLoc(n[r]),s=r*e.length;i.values.set(a,s)}return i.toTensor()}var Tv=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},Iv=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},Pv=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,o=e.batchSize,i=e.inSize,a=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,a];var s="max"===t?">":"<",l=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+l+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function Ov(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return e+"."+t}))}function Mv(e,t){return 1===t?[e]:Ov(e,t)}function Nv(){var e,t,n,r,o,i,a,s,l,u;return 2===Cd().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",i="outputColor",a="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",i="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:i,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}function Dv(e,t,n){void 0===n&&(n="index");var r=pp(t);return r.map((function(t,o){return"int "+e[o]+" = "+n+" / "+t+"; "+(o===r.length-1?"int "+e[o+1]+" = "+n+" - "+e[o]+" * "+t:"index -= "+e[o]+" * "+t)+";"})).join("")}function Fv(e){var t=pp(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var jv="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function Lv(e,t,n,r){var o=[];e.forEach((function(e){var t=Ud(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?o.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(o.push("uniform sampler2D "+e.name+";"),o.push("uniform int offset"+e.name+";"))}));var i,a,s=o.join("\n"),l=e.map((function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?zv(e):Bv(e);var o=e.shapeInfo.logicalShape,i=t.logicalShape;return o.length<=i.length&&(r+=n?function(e,t){var n,r=e.name,o=r.charAt(0).toUpperCase()+r.slice(1),i="get"+o+"AtOutCoords",a=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,l=Xm(e.shapeInfo.logicalShape,t.logicalShape),u=qv(s),c=s-a,d=["x","y","z","w","u","v"];n=0===a?"":s<2&&l.length>=1?"coords = 0;":l.map((function(e){return"coords."+d[e+c]+" = 0;"})).join("\n");var p;p=s<2&&a>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+d[t+c]})).join(", ");var f="return outputValue;",h=1===Ud(e.shapeInfo.logicalShape),m=1===Ud(t.logicalShape);if(1!==a||h||m){if(h&&!m)f=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(l.length){var v=a-2,g=a-1;l.indexOf(v)>-1&&l.indexOf(g)>-1?f="return vec4(outputValue.x);":l.indexOf(v)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(g)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}}else f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+i+"() {\n      "+u+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+o+"("+p+");\n      "+f+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=t.texShape,a=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&Vd(a,i))return"\n      float "+o+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var u,c=qv(l),d=Xm(e.shapeInfo.logicalShape,t.logicalShape),p=l-s,f=["x","y","z","w","u","v"];u=0===s?"":l<2&&d.length>=1?"coords = 0;":d.map((function(e){return"coords."+f[e+p]+" = 0;"})).join("\n");var h;return h=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+f[t+p]})).join(", "),"\n    float "+o+"() {\n      "+c+" coords = getOutputCoords();\n      "+u+"\n      return get"+r+"("+h+");\n    }\n  "}(e,t)),r}(e,t,r)})).join("\n"),u=t.texShape,c=Nv(),d=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(c),p=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+Wv+"\n    "+Uv+"\n    "+Vv+"\n  "}(c);return t.isPacked?(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Vd(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=(i=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+o[0]+", "+o[1]+"));\n      int index = resTexRC.x * "+o[1]+" + resTexRC.y;\n\n      int b = index / "+a+";\n      index -= b * "+a+";\n\n      int r = 2 * (index / "+i+");\n      int c = imod(index, "+i+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),o=r*Math.ceil(e[e.length-2]/2),i=o,a="",s="b, r, c",l=2;l<e.length-1;l++)a="\n      int b"+l+" = index / "+(i*=e[e.length-l-1])+";\n      index -= b"+l+" * "+i+";\n    "+a,s="b"+l+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+a+"\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,o,i,a}(t.logicalShape,u),a=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(c)):(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return Vd(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=Dv(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=Dv(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=Dv(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=Dv(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,u),a=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(c)),r&&(p+=Hv),[p,d,a,s,i,l,n].join("\n")}function Bv(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,o=r[0],i=r[1];if(1===o&&1===i)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+a[0]+", "+a[1]+", "+$v(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+Gv(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,o=r[0],i=r[1];if(1===i&&1===o)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=$v(t);return 1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+a+") + 0.5) / "+o+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+a+") + 0.5) / "+i+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+o+", "+i+", index + "+a+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape;if(null!=o&&Vd(t,o)){var i=o[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+o[1]+".0, "+i+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var a=Qd(t),s=a.newShape,l=a.keptDims,u=s;if(u.length<t.length)return"\n      "+Bv(Kv(e,u))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+Xv(["row","col"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+t[1]+", 1)));\n        "+Gv(e)+"\n      }\n    ";var c=o[0],d=o[1],p=$v(n);return 1===d?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+p+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+c+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===c?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+p+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+d+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+t[1]+" + col + "+p+";\n    vec2 uv = uvFromFlat("+c+", "+d+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[1]*t[2],i=t[2],a=Qd(t),s=a.newShape,l=a.keptDims,u=s;if(u.length<t.length)return"\n        "+Bv(Kv(e,u))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+Xv(["row","col","depth"],l)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+o+", "+i+", 1)));\n        "+Gv(e)+"\n      }\n    ";var c=e.shapeInfo.texShape,d=c[0],p=c[1],f=e.shapeInfo.flatOffset;return p===o&&null==f?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+i+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+p+".0, "+d+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":p===i&&null==f?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+p+".0, "+d+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+o+" + col * "+i+" + depth + "+$v(n)+";\n        vec2 uv = uvFromFlat("+d+", "+p+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[3],i=t[2]*o,a=t[1]*i,s=Qd(t),l=s.newShape,u=s.keptDims;if(l.length<t.length)return"\n      "+Bv(Kv(e,l))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+Xv(["row","col","depth","depth2"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+a+", "+i+", "+o+", 1)));\n        "+Gv(e)+"\n      }\n    ";var c=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],f=d[1];return f===a&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+i+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+f+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":f===o&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+f+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+a+" + col * "+i+" +\n          depth * "+o+" + depth2;\n      vec2 uv = uvFromFlat("+p+", "+f+", index + "+$v(n)+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],i=t[3]*o,a=t[2]*i,s=t[1]*a,l=Qd(t),u=l.newShape,c=l.keptDims;if(u.length<t.length)return"\n      "+Bv(Kv(e,u))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+Xv(["row","col","depth","depth2","depth3"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+a+", "+i+", "+o+")) +\n          depth3;\n        "+Gv(e)+"\n      }\n    ";var d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,f=p[0],h=p[1];return h===s&&null==d?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+a+", "+i+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+h+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":h===o&&null==d?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+",\n               "+t[2]*t[3]+", "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+h+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+a+" + depth * "+i+" +\n          depth2 * "+o+" + depth3 + "+$v(n)+";\n      vec2 uv = uvFromFlat("+f+", "+h+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=Qd(t),i=o.newShape,a=o.keptDims;if(i.length<t.length)return"\n      "+Bv(Kv(e,i))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+Xv(["row","col","depth","depth2","depth3","depth4"],a)+");\n      }\n    ";var s=t[5],l=t[4]*s,u=t[3]*l,c=t[2]*u,d=t[1]*c;if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+d+", "+c+", "+u+", "+l+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+s+", 1)));\n        "+Gv(e)+"\n      }\n    ";var p=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,h=f[0],m=f[1];return m===d&&null==p?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+c+", "+u+", "+l+", "+s+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":m===s&&null==p?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+d+" + col * "+c+" + depth * "+u+" +\n          depth2 * "+l+" + depth3 * "+s+" + depth4 + "+$v(n)+";\n      vec2 uv = uvFromFlat("+h+", "+m+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function zv(e){var t;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 "+("get"+(t=e.name).charAt(0).toUpperCase()+t.slice(1))+"() {\n      return "+Nv().texture2D+"("+t+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],i=Nv();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+o[0]+", "+o[1]+", index);\n      return "+i.texture2D+"("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=o[0],a=o[1],s=Nv();if(null!=o&&Vd(t,o))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+a+".0, "+i+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+l[0]+", "+l[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===t[0])return"\n        "+zv(Kv(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+Xv(["b","row","col"],[1,2])+");\n        }\n      ";var a=i[0],s=i[1],l=Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+a+", "+s+", "+l*Math.ceil(t[1]/2)+", "+l+", b, row, col);\n      return "+Nv().texture2D+"("+n+", uv);\n    }\n  "}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],s=a[0],l=a[1],u=Math.ceil(t[n-1]/2),c=u*Math.ceil(t[n-2]/2),d="int b, int row, int col",p="b * "+c+" + (row / 2) * "+u+" + (col / 2)",f=2;f<n-1;f++)d="int b"+f+", "+d,p="b"+f+" * "+(c*=t[n-f-1])+" + "+p;return"\n    vec4 "+o+"("+d+") {\n      int index = "+p+";\n      int texR = index / "+l+";\n      int texC = index - texR * "+l+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+l+", "+s+");\n      return "+Nv().texture2D+"("+r+", uv);\n    }\n  "}(e)}}var Wv="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Uv="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Vv="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Hv="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function $v(e){return"offset"+e}function Gv(e){var t=e.name,n=Ud(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function qv(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Kv(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Xv(e,t){return t.map((function(t){return e[t]})).join(", ")}var Yv=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Ld(e.length>2,(function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."}));var o=e[e.length-1],i=Math.ceil(o/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");var a,s,l=this.outputShape,u=l.length,c=qv(u),d=Mv("coords",u);if(1===i){var p=qv(s=u+1);a="\n        "+p+" sourceLocR = "+p+"("+d.join()+", 0);\n        ++"+d[u-1]+";\n        "+p+" sourceLocG = "+p+"("+d.join()+", 0);\n        ++"+d[u-2]+";\n        "+p+" sourceLocA = "+p+"("+d.join()+", 0);\n        --"+d[u-1]+";\n        "+p+" sourceLocB = "+p+"("+d.join()+", 0);\n        --"+d[u-2]+";"}else s=u,a="\n        "+c+" sourceLocR = coords;\n        ++"+d[u-1]+";\n        "+c+" sourceLocG = coords;\n        ++"+d[u-2]+";\n        "+c+" sourceLocA = coords;\n        --"+d[u-1]+";\n        "+c+" sourceLocB = coords;\n        --"+d[u-2]+";";var f=["x","y","z","w","u","v"].slice(0,s),h="."+f[s-1],m=f.map((function(e){return"int "+e})),v=Mv("sourceLocR",s-1).concat("inIdx.r"),g=Mv("sourceLocG",s-1).concat("inIdx.g"),y=Mv("sourceLocB",s-1).concat("inIdx.b"),b=Mv("sourceLocA",s-1).concat("inIdx.a"),x="max"===n?"greaterThan":"lessThan",w=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",S="vec4(\n            getAChannel("+v.join()+"),\n            hasNextCol ? getAChannel("+g.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",A=r?"":"\n      float getBestIndicesAChannel("+m.join()+") {\n        return getChannel(getBestIndicesA("+f.join()+"),\n                                          vec2("+f.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+m.join()+") {\n        return getChannel(getA("+f.join()+"),\n                               vec2("+f.slice(-2).join()+"));\n      }\n      "+A+"\n      void main() {\n        "+c+" coords = getOutputCoords();\n        bool hasNextCol = "+d[u-1]+" < "+(l[u-1]-1)+";\n        bool hasNextRow = "+d[u-2]+" < "+(l[u-2]-1)+";\n        "+a+"\n        ivec4 srcIdx = ivec4(sourceLocR"+h+", sourceLocG"+h+",\n          sourceLocB"+h+", sourceLocA"+h+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+S+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+w+"\n          vec4 candidate = "+S+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+x+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},Qv=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,c=l-1-e.padInfo.left,d=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+u+", "+c+");\n      const float avgMultiplier = float("+d+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+i+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+l+";\n            wC+= "+a+") {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Jv=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,f=c-1-e.padInfo.front,h=d-1-e.padInfo.top,m=p-1-e.padInfo.left,v=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+f+", "+h+", "+m+");\n      const float avgMultiplier = float("+v+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+o+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+d+";\n              wR += "+l+") {\n            float dyR = float(dyRCorner + wR) / "+i+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+p+";\n                wC += "+u+") {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Zv=function(e,t,n,r,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Qm(e,t),Qm(e,n);var a="0.0";null!=r&&(Qm(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";null!=o&&(Qm(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+i+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},eg=function(e,t,n,r,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Qm(e,t),Qm(e,n);var a="vec4(0.0)";null!=r&&(Qm(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=o&&(Qm(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+a+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+i+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},tg=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Qm(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},ng="return a + b;",rg="return a - b;",og="return a * b;",ig="return (a < 0.) ? b * a : a;",ag=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Qm(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},sg="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",lg=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Qm(t,n);var o=this.outputShape.length,i="";if(r)if(0===o||1===Ud(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(i="\n          "+qv(o)+" coords = getOutputCoords();\n        ",1===o)i+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var a=Mv("coords",o);i+="\n            bool nextRowOutOfBounds =\n              ("+a[o-2]+" + 1) >= "+this.outputShape[o-2]+";\n            bool nextColOutOfBounds =\n              ("+a[o-1]+" + 1) >= "+this.outputShape[o-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+i+"\n\n        setOutput(result);\n      }\n    "},ug=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),cg=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),dg=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},pg=function(e){this.outputShape=[],this.outputShape=gh(e,1),this.variableNames=e.map((function(e,t){return"T"+t}));var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var o=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+o+"));")}var i=t.length,a=t[t.length-1];r.push("else setOutput(getT"+i+"(yR, yC-"+a+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},fg=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=gh(e,t);var n=this.outputShape,r=n.length,o=qv(r),i=Mv("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((function(e,t){return"T"+t}));var s=new Array(e.length-1);s[0]=e[0][t];for(var l=1;l<s.length;l++)s[l]=s[l-1]+e[l][t];var u=a[t],c=a.slice(-2),d=a.join(),p="if ("+u+" < "+s[0]+") {\n        return getChannel(\n            getT0("+d+"), vec2("+c.join()+"));\n        }";for(l=1;l<s.length;l++){var f=s[l-1];p+="\n        if ("+u+" < "+s[l]+"  && "+u+" >= "+s[l-1]+") {\n          return getChannel(\n            getT"+l+"("+hg(a,u,f)+"),\n            vec2("+hg(c,u,f)+"));\n        }"}var h=s.length,m=s[s.length-1];p+="\n        return getChannel(\n          getT"+h+"("+hg(a,u,m)+"),\n          vec2("+hg(c,u,m)+"));",this.userCode="\n      float getValue("+a.map((function(e){return"int "+e}))+") {\n        "+p+"\n      }\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+i+"), 0., 0., 0.);\n\n        "+i[r-1]+" = "+i[r-1]+" + 1;\n        if ("+i[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+i+");\n        }\n\n        "+i[r-2]+" = "+i[r-2]+" + 1;\n        if ("+i[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+i+");\n        }\n\n        "+i[r-1]+" = "+i[r-1]+" - 1;\n        if ("+i[r-2]+" < "+n[r-2]+" &&\n            "+i[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+i+");\n        }\n        setOutput(result);\n      }\n    "};function hg(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?e+" - "+n:e})).join()}var mg=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+i+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},vg=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=i?1:2,u=i?2:3,c=i?3:1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+c+"];\n\n        ivec2 dyCorner = ivec2(coords["+l+"], coords["+u+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+i+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},gg=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+o+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+i+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+a+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},yg=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+l+", "+u+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+o+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+i+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},bg=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+i+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},xg=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},wg=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.padInfo.top,i=e.padInfo.left,a=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4,h="channelsLast"===e.dataFormat,m=h?1:2,v=h?2:3,g=h?3:1,y="",b="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",b="result = activation(result);");var x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+a+", "+s+");\n      const ivec2 pads = ivec2("+o+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+g+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+m+"], coords["+v+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+c+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+d+"; wC++) {\n            int xC = xCCorner + wC * "+u+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+p+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+h+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===f)+") {\n\n              if ("+h+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+p+") *\n                    getW(wR, wC, "+p+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+p+", xR, xC) *\n                    getW(wR, wC, "+p+", d2);\n              }\n\n            } else if ("+(2===f)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+p+", d2),\n                getW(wR, wC, "+p+" + 1, d2)\n              );\n\n              if ("+h+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+p+"),\n                  getX(batch, xR, xC, "+p+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+p+", xR, xC),\n                  getX(batch, "+p+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===f)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+p+", d2),\n                getW(wR, wC, "+p+" + 1, d2),\n                getW(wR, wC, "+p+" + 2, d2)\n              );\n\n              if ("+h+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+p+"),\n                  getX(batch, xR, xC, "+p+" + 1),\n                  getX(batch, xR, xC, "+p+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+p+", xR, xC),\n                  getX(batch, "+p+" + 1, xR, xC),\n                  getX(batch, "+p+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+x+"\n        "+b+"\n        setOutput(result);\n      }\n    "},Sg=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,d=e.filterHeight,p=e.filterWidth,f=4*Math.floor(e.inChannels/4),h=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+o+", "+i+", "+a+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+c+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+"; wR++) {\n            int xR = xRCorner + wR * "+l+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+p+"; wC++) {\n              int xC = xCCorner + wC * "+u+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+f+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===h)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+f+") *\n                  getW(wF, wR, wC, "+f+", d2);\n              } else if ("+(2===h)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===h)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1),\n                  getX(batch, xF, xR, xC, "+f+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2),\n                  getW(wF, wR, wC, "+f+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ag=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,d=e.dilationWidth,p=e.filterHeight,f=e.filterWidth,h=e.outChannels/e.inChannels,m="",v="";n&&(m=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",v="result = activation(result);");var g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+m+"\n\n      const ivec2 strides = ivec2("+l+", "+u+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+h+";\n        int q = d2 - d1 * "+h+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+p+"; wR++) {\n          int xR = xRCorner + wR * "+c+";\n\n          if (xR < 0 || xR >= "+o+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+d+";\n\n            if (xC < 0 || xC >= "+i+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+g+"\n        "+v+"\n        setOutput(result);\n      }\n    "},kg=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,d=e.dilationWidth,p=e.filterHeight,f=e.filterWidth,h=f,m="int xR; int xC; int xCOffset;",v=0;v<p;v++)for(var g=0;g<f;g++)m+="\n          vec4 xTexelR"+v+"C"+2*g+" = vec4(0.);\n          vec4 wR"+v+"C"+g+" = vec4(0.);\n          vec4 xR"+v+"C"+g+" = vec4(0.);";for(v=0;v<p;v++)for(var y=0;y<h;y++){if(m+="\n          xR = xRCorner + "+v*c+";\n          xC = xCCorner + "+(g=2*y)*d+";\n        ",1===u){if(g<f&&(m+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+i+") {\n                    xTexelR"+v+"C"+g+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+i+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+i+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+v+"C"+g+" = vec4(previous.zw, xTexelR"+v+"C"+g+".xy);\n                } else {\n                  xR"+v+"C"+g+" = vec4(0, 0, xTexelR"+v+"C"+g+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+o+" && xC >= 0 && xC < "+i+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = xTexelR"+v+"C"+g+";\n              ",g+1<f)){var b=s%2==0?Fd(d):d;d%2==0&&s%2==1||d%2!=0&&s%2!=1?(m+="\n                  xCOffset = xC + "+s%2+" + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+i+") {\n                    xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",d>1&&(m+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+o+" &&\n                      xCOffset >= 0 && xCOffset < "+i+") {\n                      xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+v+"C"+g+" = vec4(0.);\n                    }\n                  "),m+="\n                  xR"+v+"C"+(g+1)+" = vec4(\n                    xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".xy);\n                "):m+="\n                  xCOffset = xC + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+i+") {\n                    xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+v+"C"+(g+1)+" = xTexelR"+v+"C"+(g+2)+";\n                "}}else g<f&&(m+="\n              if(xR >= 0 && xR < "+o+") {\n            ",s%2==1?(m+="\n                xCOffset = xC + 1 - "+u+";\n                if(xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+i+") {\n                  xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+v+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = vec4(\n                  xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".zw);\n              ",g+1<f&&(m+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+u+";\n                  if(xCOffset >= 0 && xCOffset < "+i+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+v+"C"+(g+1)+" = vec4(xTexelR"+v+"C"+(g+2)+".xy, final.xy);\n                ")):(m+="\n                if(xC >= 0 && xC < "+i+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+u+";\n                if(xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+v+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = vec4(\n                  xTexelR"+v+"C"+g+".xy, xTexelR"+v+"C"+(g+2)+".xy);\n              ",g+1<f&&(m+="\n                  xR"+v+"C"+(g+1)+" = vec4(\n                    xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".zw);\n                ")),m+="}");g<f&&(m+="\n            vec4 wTexelR"+v+"C"+g+" = getW("+v+", "+g+", d1, q);\n            wR"+v+"C"+g+" = vec4(wTexelR"+v+"C"+g+".xz, wTexelR"+v+"C"+g+".xz);\n          ",g+1<f&&(m+="\n              vec4 wTexelR"+v+"C"+(g+1)+" = getW("+v+", "+(g+1)+", d1, q);\n              wR"+v+"C"+(g+1)+" =\n                vec4(wTexelR"+v+"C"+(g+1)+".xz, wTexelR"+v+"C"+(g+1)+".xz);"))}for(v=0;v<p;v++)for(g=0;g<f;g++)m+="dotProd += xR"+v+"C"+g+" * wR"+v+"C"+g+";";var x="",w="";n&&(x=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",w="result = activation(result);");var S=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+x+"\n\n      const ivec2 strides = ivec2("+l+", "+u+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+m+"\n\n        vec4 result = dotProd;\n        "+S+"\n        "+w+"\n        setOutput(result);\n      }\n    "},Cg=function(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],a=e[1],s=e[2],l=e[3],u=t[0],c=n[0],d=n[1];this.outputShape=[u,c,d,l];var p="bilinear"===r?1:0,f=[a-1+".0",s-1+".0"],h=f[0],m=f[1],v=c>1?[""+(a-1)/(c-1),"(y2-y1) * height_ratio","y1*"+h+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+h],g=v[0],y=v[1],b=v[2],x=d>1?[""+(s-1)/(d-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],w=x[0],S=x[1],A=x[2];this.userCode="\n      const float height_ratio = float("+g+");\n      const float width_ratio = float("+w+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+i+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+S+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+h+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n        float in_x = "+A+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+p+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},Eg=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,o=e[e.length-1],i=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+o+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+qv(r)+" coords = getOutputCoords();\n        int end = "+_g(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+o+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+i+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+_g(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function _g(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var Rg=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Qp.DENSE;var t=af(e),n=Nv();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Dv(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},Tg=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Qp.DENSE;var t=af(e),n=Nv();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Dv(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},Ig=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),Pg=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},Og=function(e){this.variableNames=["A"],this.outTexUsage=Jp.DOWNLOAD;var t=Nv();this.outputShape=e,this.userCode="\n      "+jv+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},Mg=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Jp.DOWNLOAD;var t=Nv();this.outputShape=e,this.userCode="\n      "+jv+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},Ng=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=Nv(),o=t[0],i=t[1];this.outputShape=e;var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      "+Fv(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+i+";\n        int c = imod(flatIndex, "+i+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+o+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+a+", 0., 0., 0.);\n      }\n    "},Dg=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=Nv(),o=t[0],i=t[1];this.outputShape=e;var a="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var l=0;l<=1;l++)for(var u=0;u<=1;u++){var c=2*l+u;a+="\n          localCoords = coords;\n          if(localCoords[2] + "+u+" < "+e[2]+") {\n            localCoords[2] += "+u+";\n            if(localCoords[1] + "+l+" < "+e[1]+") {\n              localCoords[1] += "+l+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+i+";\n              c = imod(flatIndex, "+i+");\n              uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+o+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+c+"] = values[0];\n              } else if(offset == 1) {\n                result["+c+"] = values[1];\n              } else if(offset == 2) {\n                result["+c+"] = values[2];\n              } else {\n                result["+c+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+Fv(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+a+"\n\n        "+r.output+" = "+s+";\n      }\n    "},Fg=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var o=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+o+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+i+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},jg=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),Lg=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var o=qv(this.rank),i=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],i=0;i<e.length;i++)i===t?o.push("int(getIndices("+r[i]+"))"):o.push(""+r[i]);return o.join()}(e,n);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "},Bg=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=qv(t.length),o=qv(n.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+o+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+i+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function zg(e,t){var n=Nv();return ff(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function Wg(e,t){return wf(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Ug(e,t){return Sf(e,t,new Uint16Array([0,1,2,2,1,3]))}function Vg(e,t,n,r,o,i,a){kf(n,r);var s=Af(e,t),l=e.TEXTURE_2D;return uf(e,t,(function(){return e.bindTexture(l,s)})),uf(e,t,(function(){return e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),uf(e,t,(function(){return e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),uf(e,t,(function(){return e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST)})),uf(e,t,(function(){return e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST)})),uf(e,t,(function(){return e.texImage2D(l,0,o,n,r,0,i,a,null)})),uf(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),s}function Hg(e,t,n,r,o){var i=of(n,r);return Vg(e,t,i[0],i[1],o.internalFormatFloat,o.textureFormatFloat,e.FLOAT)}function $g(e,t,n,r,o){var i=of(n,r);return Vg(e,t,i[0],i[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function Gg(e,t,n,r,o){var i=of(n,r);return Vg(e,t,i[0],i[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function qg(e,t,n,r,o){var i=sf(n,r);return Vg(e,t,i[0],i[1],o.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function Kg(e,t,n,r,o){var i=sf(n,r);return Vg(e,t,i[0],i[1],o.internalFormatPackedHalfFloat,e.RGBA,o.textureTypeHalfFloat)}function Xg(e,t,n,r){return uf(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),Ef(e,t,n,"clipSpacePos",r,3,20,0)&&Ef(e,t,n,"uv",r,2,20,12)}function Yg(e,t,n,r,o,i,a){var s,l,u;uf(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),i instanceof Uint8Array?(s=new Uint8Array(r*o*4),l=e.UNSIGNED_BYTE,u=e.RGBA):(s=new Float32Array(r*o*4),l=e.FLOAT,u=a.internalFormatPackedFloat),s.set(i),uf(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,u,r,o,0,e.RGBA,l,s)})),uf(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Qg(e,t,n,r){uf(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),r.data instanceof Uint8Array?uf(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)})):uf(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)})),uf(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Jg(e,t,n,r,o){var i=e.createBuffer();uf(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)}));var a=16*n*r;return uf(e,t,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)})),uf(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)})),uf(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),i}function Zg(e,t,n){var r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function ey(e,t,n,r,o){var i=of(n,r),a=i[0],s=i[1],l=new Uint8Array(n*r*4);return uf(e,t,(function(){return e.readPixels(0,0,a,s,o.downloadTextureFormat,e.UNSIGNED_BYTE,l)})),new Float32Array(l.buffer)}function ty(e,t,n,r,o,i,a,s){var l=e,u=new Float32Array(function(e,t){var n=sf(e,t);return n[0]*n[1]*4}(i,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function ny(e,t,n,r){var o=new Float32Array(n*r*4);return uf(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,o)})),o}var ry=Object.freeze({createVertexShader:zg,createVertexBuffer:Wg,createIndexBuffer:Ug,createFloat32MatrixTexture:Hg,createFloat16MatrixTexture:$g,createUnsignedBytesMatrixTexture:Gg,createPackedMatrixTexture:qg,createFloat16PackedMatrixTexture:Kg,bindVertexProgramAttributeStreams:Xg,uploadDenseMatrixToTexture:Yg,uploadPixelDataToTexture:Qg,createBufferFromOutputTexture:Jg,downloadFloat32MatrixFromBuffer:Zg,downloadByteEncodedFloatMatrixFromOutputTexture:ey,downloadPackedMatrixFromBuffer:ty,downloadMatrixFromPackedOutputTexture:ny}),oy=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=Cd().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,nf(t,e)):this.gl=rf(t);var n="WEBGL_color_buffer_float";if(1===Cd().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=pf(this.gl,this.debug,"OES_texture_float"),Gf(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=pf(this.gl,this.debug,"OES_texture_half_float");else if(Cd().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Gf(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=pf(this.gl,this.debug,"EXT_color_buffer_half_float");else if(Cd().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Gf(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Gf(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=Wg(this.gl,this.debug),this.indexBuffer=Ug(this.gl,this.debug),this.framebuffer=Cf(this.gl,this.debug),this.textureConfig=lf(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return Cd().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;uf(t,this.debug,(function(){return t.finish()})),uf(t,this.debug,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),uf(t,this.debug,(function(){return t.deleteFramebuffer(e.framebuffer)})),uf(t,this.debug,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),uf(t,this.debug,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),uf(t,this.debug,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),Hg(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),$g(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),Gg(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),Qg(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),Yg(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Kg(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),qg(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(Of(this.gl,this.debug,this.framebuffer),this.outputTexture=null),uf(this.gl,this.debug,(function(){return t.gl.deleteTexture(e)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return ey(r.gl,r.debug,t,n,r.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,o,i){return ty(this.gl,e,0,0,0,o,i,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return Zg(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=Jg(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(Cd().getBool("WEBGL_FENCE_API_ENABLED")){var o=e,i=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=o.clientWaitSync(i,0,0);return e===o.ALREADY_SIGNALED||e===o.CONDITION_SATISFIED},t=i}else Cd().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,Cd().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return ny(r.gl,r.debug,t,n)}))},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=hf(t,this.debug,e),r=zg(t,this.debug),o=yf(t,this.debug);return uf(t,this.debug,(function(){return t.attachShader(o,r)})),uf(t,this.debug,(function(){return t.attachShader(o,n)})),bf(t,this.debug,o),this.debug&&xf(t,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=Xg(t,this.debug,this.program,this.vertexBuffer)),o},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&uf(this.gl,this.debug,(function(){return t.gl.deleteProgram(e)}))},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&xf(this.gl,this.debug,this.program),uf(this.gl,this.debug,(function(){return t.gl.useProgram(e)}))},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?Rf(this.gl,this.debug,e,t):Tf(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),uf(this.gl,this.debug,(function(){return n.gl.getAttribLocation(e,t)}))},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),If(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=sf(t,n),o=r[0],i=r[1];this.setOutputMatrixTextureDriver(e,o,i)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&xf(this.gl,this.debug,this.program),Mf(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),uf(e,this.debug,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),uf(this.gl,this.debug,(function(){return e.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=pf(this.gl,this.debug,2===Cd().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===Cd().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),o=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,o),o},e.prototype.endQuery=function(){if(2!==Cd().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return Sd(this,void 0,void 0,(function(){var t=this;return Ad(this,(function(n){switch(n.label){case 0:return[4,Kd((function(){return t.disposed||t.isQueryAvailable(e,Cd().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(e,Cd().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||Kd((function(){return n.pollItems(),0===n.itemsToPoll.length}))},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),Pf(this.gl,this.debug,e,this.framebuffer),this.debug&&Mf(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(Pf(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Mf(this.gl)):Of(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;Pf(r,this.debug,e,this.framebuffer),this.debug&&Mf(r),this.outputTexture=e,uf(r,this.debug,(function(){return r.viewport(0,0,t,n)})),uf(r,this.debug,(function(){return r.scissor(0,0,t,n)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var o=this;this.throwIfDisposed(),uf(this.gl,this.debug,(function(){return o.gl.scissor(e,t,n,r)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function iy(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(e,n){var r=e.logicalShape,o=t[n],i=o.shape;if(!Vd(r,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+i+" must match");if(!e.isUniform||!o.isUniform){var a=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!Vd(a,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+a+" and "+s+" must match")}}))}var ay=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,o=n.inChannels,i=n.strideWidth,a=n.strideHeight,s=n.padInfo,l=n.outWidth,u=n.dilationWidth,c=n.dilationHeight,d=n.dataFormat,p=s.left,f=s.top,h=o*r,m=Nv(),v="channelsLast"===d,g=v?0:1,y=v?1:2,b="",x=0;x<=1;x++)for(var w=0;w<=1;w++)b+="\n          blockIndex = rc.y + "+w+";\n          pos = rc.x + "+x+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+l+")) * "+a+" - "+f+";\n            d0 = offsetY + "+c+" * (pos / "+h+");\n\n            if(d0 < "+t[g]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+l+".) * "+i+". - "+p+".);\n              d1 = offsetX + "+u+" * (int(mod(float(pos), "+h+".) / "+o+".));\n\n              if(d1 < "+t[y]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+o+".));\n\n                if ("+v+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*x+w)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*x+w)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+b+"\n\n        "+m.output+" = result;\n      }\n    "},sy=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];var i,a=t,s=e[3]-1;this.outputShape=e;var l="float("+n+") + float("+r+") * sum";i=.5===o?"inversesqrt("+l+")":1===o?"1.0/("+l+")":"exp(log("+l+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+i+";\n        setOutput(val);\n      }\n    "},ly=function(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+o+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+o+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},uy=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,a=t,s=e[3]-1;this.outputShape=e;var l="float("+n+") + float("+r+") * sum";i=.5===o?"inversesqrt("+l+")":1===o?"1.0/("+l+")":"exp(log("+l+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+a+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+a+"; j <= "+a+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+i+";\n        setOutput(result);\n      }\n    "},cy=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=o-1-e.padInfo.top,s=i-1-e.padInfo.left,l=o*i-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+o+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+i+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+l+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+i+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},dy=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.front,d=l-1-e.padInfo.top,p=u-1-e.padInfo.left,f=s*l*u-1;this.userCode="\n      const ivec3 pads = ivec3("+c+", "+d+", "+p+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+o+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+i+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+u+";\n                wC += "+a+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+f+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+l+" * "+u+" +\n                  wR * "+u+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},py=function(e,t,n,r,o,i,a){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===i&&(i=null),void 0===a&&(a=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],l=Math.ceil(s/2),u=n?"i * 2, rc.y":"rc.y, i * 2",c=r?"rc.z, i * 2":"i * 2, rc.z",d=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],p=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],f="",h="";i&&(f=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+i+"\n        }":"vec4 activation(vec4 x) {\n          "+i+"\n        }",h="result = activation(result);");var m=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+f+"\n\n      const float sharedDimension = "+l+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+l+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+u+");\n          vec4 b = getMatrixB(rc.x, "+c+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+d[0]+" * "+p[0]+");\n          result += ("+d[1]+" * "+p[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+m+"\n\n        "+h+"\n\n        setOutput(result);\n      }\n    "},fy=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),hy=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},my=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=Mv("rc",t),r=qv(t),o=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",o=e-2;o<e;o++)r+=n[o]+" >= "+t[o],o<e-1&&(r+="||");return r}(t,e,n),i=function(e,t,n,r){if(1===e)return"";var o=r.slice(-2);return"\n    int r = "+o[0]+";\n    int c = "+o[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),a=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var o=0;o<=1;o++){for(var i=(0===r?"r":"rp1")+", "+(0===o?"c":"cp1"),a=2;a<e;a++)i=t[t.length-1-a]+","+i;n.push(i)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+o+") {\n            setOutput(vec4(0));\n          } else {\n            "+i+"\n\n            setOutput(vec4("+a+"));\n          }\n        }\n      "}},vy=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));var r=e.length,o=qv(r),i=t.map((function(e){return e[0]})).join(","),a=t.map((function(t,n){return t[0]+e[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+o+" start = "+o+"("+i+");\n      "+o+" end = "+o+"("+a+");\n\n      void main() {\n        "+o+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+o+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+i+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},gy=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));for(var r=e.length,o=qv(r),i=t.map((function(e){return e[0]})).join(","),a=t.map((function(t,n){return t[0]+e[n]})).join(","),s=Mv("rc",r),l=Mv("source",r),u=s[r-1]+" < "+this.outputShape[r-1],c=1===r?"source":"vec2("+l.slice(-2).join()+")",d=[o+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+u+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+u+") {"],p=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",f="",h=0,m=1===r?2:4;h<m;h++)f+="\n        "+d[h]+"\n        if ("+p+") {\n          result["+h+"] = float("+n+");\n        } else {\n          "+o+" source = rc - start;\n          result["+h+"] = getChannel(getX("+l.join()+"), "+c+");\n        }\n      ";f+=1===r?"} ":"}}",this.userCode="\n      const "+o+" start = "+o+"("+i+");\n      const "+o+" end = "+o+"("+a+");\n\n      void main() {\n        "+o+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+f+"\n        setOutput(result);\n      }\n    "},yy=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,s=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=e.padInfo.top,d=e.padInfo.left;this.outputShape=e.outShape;var p="avg"===t,f="0.0";if(p||(f="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+o+", "+i+");\n        const ivec2 pads = ivec2("+c+", "+d+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+a+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+u+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+u+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var h=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(h="avgValue / count");var m=4*Math.floor(r/4),v=r%4,g="\n      if ("+p+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+i+");\n      const ivec2 pads = ivec2("+c+", "+d+");\n      const float initializationValue = "+f+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+f+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+l+";\n            wR += "+a+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+m+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+g+"\n          }\n\n          int xC = xCCorner + "+m+";\n          if ("+(1===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(2===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(3===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+g+"\n          }\n        }\n        setOutput("+h+");\n      }\n    "}},by=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,f=e.padInfo.front,h=e.padInfo.top,m=e.padInfo.left;this.outputShape=e.outShape;var v="avg"===t,g="0.0";if(v||(g="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+o+", "+i+", "+a+");\n        const ivec3 pads = ivec3("+f+", "+h+", "+m+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+c+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+d+";\n                wR += "+l+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+p+";\n                  wC += "+u+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+d+" * "+p+" +\n                      wR * "+p+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var y=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(y="avgValue / count");var b=4*Math.floor(r/4),x=r%4,w="\n      if ("+v+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+o+", "+i+", "+a+");\n      const ivec3 pads = ivec3("+f+", "+h+", "+m+");\n      const float initializationValue = "+g+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+g+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+";\n            wR += "+l+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+"; wC += 4) {\n              int xC = xCCorner + wC * "+u+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+u+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+u+", ch)\n              );\n\n              "+w+"\n            }\n\n            int xC = xCCorner + "+b+";\n            if ("+(1===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(2===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(3===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+u+", ch),\n                initializationValue\n              );\n\n              "+w+"\n            }\n          }\n          setOutput("+y+");\n        }\n      }\n    "}},xy=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=Math.ceil(o/n);this.outputShape=[r,i];var a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",s="min"):"max"===t&&(a="-1.0 / 1e-20",s="max");var l=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");var u=4*Math.floor(n/4),c=n%4,d="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",p="vec4";"all"===t?(a="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===t&&(a="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");var f="";o%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+f+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+u+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+d+"\n        }\n\n        int inIdx = inOffset + "+u+";\n        if ("+(1===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(2===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(3===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+d+"\n        }\n        setOutput("+l+");\n      }\n    "},wy=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),n+="\n        "+o+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+Dv(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+Fv(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},Sy=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],l=a[2],u=[n&&s>1?o-1:o,n&&l>1?i-1:i],c=[n&&s>1?s-1:s,n&&l>1?l-1:l],d=u[0]/c[0],p=u[1]/c[1],f=1/d,h=1/p,m=2*Math.ceil(f)+2,v=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+p+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+v+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(o-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(i-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Ay=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var l=[r&&t>1?i-1:i,r&&n>1?a-1:a],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},ky=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var l=[r&&t>1?i-1:i,r&&n>1?a-1:a],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+",\n          "+l[1]/u[1]+");\n      const vec3 inputShapeRC = vec3("+i+".0, "+a+".0,\n                                     "+a+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},Cy=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],l=a[2],u=[n&&s>1?o-1:o,n&&l>1?i-1:i],c=[n&&s>1?s-1:s,n&&l>1?l-1:l],d=u[0]/c[0],p=u[1]/c[1],f=1/d,h=1/p,m=2*Math.ceil(f)+2,v=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+p+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+v+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+u[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+u[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},Ey=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var l=[r&&t>1?i-1:i,r&&n>1?a-1:a],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},_y=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map((function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)})).join(","),o=qv(n);this.userCode="\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},Ry=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=Mv("rc",n),o=r[n-1]+" + 1 < "+this.outputShape[n-1],i=r[n-2]+" + 1 < "+this.outputShape[n-2],a=qv(n);function s(n){var r=e.map((function(r,o){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(o,n)}));return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+o+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+a+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+o+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+i+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+o+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},Ty=function(e,t,n,r,o,i,a){void 0===a&&(a=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=qv(o.length),l=qv(i.length),u="";1===n?u="i":2===n&&(u="i, j");var c="getIndices("+u+")",d="";1===r?d="i":2===r&&(d="i, coords[1]");var p="getUpdates("+d+")",f=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+o+");\n\n        void main() {\n          "+l+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+c+");\n              flattenedIndex += index * "+f+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+p+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},Iy=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=e.numSegments,a=i*Math.ceil(o/n);this.outputShape=[r,a];var s=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, segFilter);\n    ",c="";o%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      ");var d="";o%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+d+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+i+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+i+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+u+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+u+"\n        } else if ("+(2===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+u+"\n        } else if ("+(3===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+u+"\n        }\n        setOutput(sumValue);\n      }\n    "},Py=function(e,t,n){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)o="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],l=0;l<t.length;l++)s.push(""+i[l]),l<e&&a.push(""+i[l]);r=a.join(),o=s.join()}var u=qv(n);this.userCode="\n      void main() {\n        "+u+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+o+"));\n        } else {\n          setOutput(getB("+o+"));\n        }\n      }\n    "},Oy=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=qv(this.rank),r="uniform int start["+this.rank+"];",o=function(e){if(1===e)return"sourceLoc";if(e<=6)return My.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map((function(e,t){return"sourceLoc."+My[t]+" = start["+t+"] + coords."+My[t]+";"})).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+o+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),My=["x","y","z","w","u","v"],Ny=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=qv(this.rank),n=Mv("coords",this.rank),r=Mv("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",i="getChannel(getSource("+r.join()+"), "+o+")",a="\n      result.x = "+i+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+i+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+i+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+i+";\n        }\n      }\n    ",l=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map((function(e,t){return"start["+t+"]"})).join()+");":e.map((function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"})).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+l+"\n        vec4 result = vec4(0.);\n        "+a+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),Dy=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,o=qv(n.length),i=qv(n.length),a="";if(1===r)a="coords * strides + begin";else{var s=0;a=n.map((function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"})).join(",")}this.userCode="\n      "+o+" begin = "+o+"("+e+");\n      "+o+" strides = "+o+"("+t+");\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "},Fy=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,o=jy(t,n),i=Ly(e,o,n);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var a=this.freeTextures[i].shift();return this.usedTextures[i].push(a),a}return this.numUsedTextures++,this.log(),o===Zp.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===Zp.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===Zp.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===Zp.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===Zp.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var o=Ly(t,jy(n,r),r);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[o],a=i.indexOf(e);if(a<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(a,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));for(var t in this.usedTextures)this.usedTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function jy(e,t){if(e===Jp.UPLOAD)return Zp.PACKED_2X2_FLOAT32;if(e===Jp.RENDER||null==e)return function(e){return Cd().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Zp.PACKED_2X2_FLOAT32:Zp.UNPACKED_FLOAT32:e?Zp.PACKED_2X2_FLOAT16:Zp.UNPACKED_FLOAT16}(t);if(e===Jp.DOWNLOAD||e===Jp.PIXELS)return Zp.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function Ly(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var By=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var o=qv(this.rank),i=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],o=0;o<e.length;o++)r.push("imod("+n[o]+", "+e[o]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "},zy=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var o=qv(this.rank),i=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}(t);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+i+"));\n    }\n    "},Wy=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=qv(this.rank),i=Ov("rc",this.rank),a=new Array(this.rank);for(r=0;r<t.length;r++)a[t[r]]=i[r];var s="vec2("+a.slice(-2).join()+")",l="++"+i[this.rank-1]+" < "+n[this.rank-1],u="getChannel(getA("+a.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+o+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+u+";\n      if("+l+") {\n        result[1] = "+u+";\n      }\n      --"+i[this.rank-1]+";\n      if(++"+i[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+u+";\n        if("+l+") {\n          result[3] = "+u+";\n        }\n      }\n      setOutput(result);\n    }\n    "},Uy=1.7580993408473768,Vy=1.0507009873554805,Hy=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},$y="if (isnan(x)) return x;",Gy="return abs(x);",qy=$y+"\n  return (x < 0.0) ? 0.0 : x;\n",Ky=$y+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Xy="return (x >= 0.0) ? x : (exp(x) - 1.0);",Yy="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+Uy+";\n  float scale = "+Vy+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",Qy="return -x;",Jy="return ceil(x);",Zy="return floor(x);",eb="return exp(x);",tb="return exp(x) - 1.0;",nb=$y+"\n  return sin(x);\n",rb=$y+"\n  return cos(x);\n",ob=$y+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",ib=$y+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",ab=$y+"\n  return atan(x);\n",sb=$y+"return log(x + sqrt(x * x + 1.0));",lb=$y+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",ub=$y+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",cb="return x;",db="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",pb="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",fb="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",hb=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},mb=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=Mv("rc",t),r=qv(t),o=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),a=t<=1?"rc":"vec2("+i.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+o+");\n\n        setOutput(getChannel(packedInput, "+a+"));\n      }\n    "},vb={};function gb(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?db:qy;if("elu"===e)return t?fb:Xy;if("relu6"===e)return t?pb:Ky;if("prelu"===e)return t?sg:ig;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var yb=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!Cd().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var o=rf(Cd().getNumber("WEBGL_VERSION"));r.binaryCache=((n=Cd().getNumber("WEBGL_VERSION"))in vb||(vb[n]={}),vb[n]),r.gpgpu=new oy(o),r.canvas=o.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new Fy(r.gpgpu),r.numMBBeforeWarning=null==Cd().global.screen?1024:Cd().global.screen.height*Cd().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new Gm(r,Kp),r}return wd(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(Cd().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:Jp.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(Cd().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:Jp.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,o=t.complexTensors,i=t.slice,a=t.shape,s=t.isPacked;if(null!=i){var l;l=s?new hb(a,cb):new Hy(a,cb);var u=this.runWebGLProgram(l,[{dataId:e,shape:a,dtype:r}],r),c=this.readSync(u.dataId);return this.disposeData(u.dataId),c}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var d,p,f=null!=this.activeTimers;return f&&(d=gp()),p="complex64"===r?fv(o.real.dataSync(),o.imag.dataSync()):this.getValuesFromTexture(e),f&&(this.downloadWaitMs+=gp()-d),this.convertAndCacheOnCPU(e,p)},t.prototype.read=function(e){return Sd(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,u,c,d,p,f,h,m,v,g,y,b,x,w,S;return Ad(this,(function(A){switch(A.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise((function(e){return t.push(e)}))];if(n=this.texData.get(e),r=n.values,o=n.shape,i=n.slice,a=n.dtype,s=n.complexTensors,l=n.isPacked,null!=i)return void 0,u=l?new hb(o,cb):new Hy(o,cb),c=this.runWebGLProgram(u,[{dataId:e,shape:o,dtype:a}],a),d=this.read(c.dataId),this.disposeData(c.dataId),[2,d];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!Cd().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===Cd().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return p=null,"complex64"!==a&&Cd().get("WEBGL_BUFFER_SUPPORTED")&&(f=this.decode(e),h=this.texData.get(f.dataId),p=(S=this.gpgpu).createBufferFromTexture.apply(S,[h.texture].concat(af(o)))),this.pendingRead.set(e,[]),"complex64"===a?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:A.sent(),A.label=2;case 2:return"complex64"!==a?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return v=A.sent(),g=v[0],y=v[1],m=fv(g,y),[3,5];case 4:null==p?m=this.getValuesFromTexture(e):(b=Ud(o),m=this.gpgpu.downloadFloat32MatrixFromBuffer(p,b)),A.label=5;case 5:return null!=f&&this.disposeData(f.dataId),x=this.convertAndCacheOnCPU(e,m),w=this.pendingRead.get(e),this.pendingRead.delete(e),w.forEach((function(e){return e(x)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,x]}}))}))},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!cf(n)){if(Cd().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,i=n.isPacked,a=Ud(r);if(Cd().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),l=this.texData.get(s.dataId),u=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[l.texture].concat(af(r))).subarray(0,a);return this.disposeData(s.dataId),u}var c=Cd().getBool("WEBGL_PACK")&&!0===i,d=c?Bf(r):r,p=c?new Mg(d):new Og(d),f=this.runWebGLProgram(p,[{shape:d,dtype:o,dataId:e}],"float32"),h=this.texData.get(f.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(h.texture,h.texShape[0],h.texShape[1]).subarray(0,a);return this.disposeData(f.dataId),m},t.prototype.time=function(e){return Sd(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return Ad(this,(function(l){switch(l.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),o=Wd(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),i=Wd(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=t,r&&(this.programTimersStack=null),a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},Cd().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(o)]:[3,2];case 1:return s=l.sent(),a.kernelMs=jd(s),a.getExtraProfileInfo=function(){return s.map((function(e,t){return{name:i[t],ms:e}})).map((function(e){return e.name+": "+e.ms})).join(", ")},[3,3];case 2:a.kernelMs={error:"WebGL query timers are not supported in this environment."},l.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,a]}}))}))},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return Cd().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:gp(),endMs:null}},t.prototype.endTimer=function(e){return Cd().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=gp(),e)},t.prototype.getQueryTime=function(e){return Sd(this,void 0,void 0,(function(){var t;return Ad(this,(function(n){return Cd().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]}))}))},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,o=t.texShape,i=t.usage,a=t.isPacked,s=t.slice,l=s&&s.origDataId||e,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),null!=n&&(this.numBytesInGPU-=this.computeBytes(o,r),this.textureManager.releaseTexture(n,o,i,a)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return Cd().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Kp.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every((function(e){return null==n.texData.get(e.dataId).texture&&e.size<t}))},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Kp.keep(e.clone()),imag:Kp.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===Ud(n))return Sh([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,o=Wm(e.shape,t,n);if(r||!o){var i=Cd().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ny(n):new Oy(n),a=i.getCustomSetupFunc(t);return this.compileAndRun(i,[e],null,a)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),o=this.makeOutput(n,e.dtype),i=this.texData.get(o.dataId);Object.assign(i,r),i.shape=n,i.dtype=e.dtype;var a=Um(t,e.strides);r.slice&&(a+=r.slice.flatOffset),i.slice={flatOffset:a,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(i.slice.origDataId)||1;return this.dataRefCount.set(i.slice.origDataId,s+1),o},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var o=Lm(t,n,r);if(o.some((function(e){return 0===e})))return Sh([],o);var i=new Dy(t,r,o);return this.compileAndRun(i,[e])},t.prototype.reverse=function(e,t){var n=Cd().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ry(e.shape,t):new _y(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map((function(e){return xh(e)})),r=e.map((function(e){return wh(e)}));return bh(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>Cd().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(e.length/2),i=this.concat(e.slice(0,o),t),a=this.concat(e.slice(o),t);return this.concat([i,a],t)}if(Cd().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new fg(e.map((function(e){return e.shape})),t);return this.compileAndRun(s,e)}var l=gh(e.map((function(e){return e.shape})),t),u=e.map((function(e){return e.as2D(-1,Ud(e.shape.slice(t)))})),c=new pg(u.map((function(e){return e.shape})));return this.compileAndRun(c,u).reshape(l)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(Cd().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Qy,e.dtype);var t=new Hy(e.shape,Qy);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var o=n?e.shape[2]:e.shape[1],i=r?t.shape[1]:t.shape[2],a=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===o||1===i)&&a>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var l=1===i?e:e.as3D(s,a,1),u=1===i?2:1,c=1===i?t.as3D(s,1,a):t;return this.multiply(l,c).sum(u,!0)}var d=zp(e.dtype,t.dtype),p=new py(e.shape,[s,o,i],n,r);return this.compileAndRun(p,[e,t],d)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,i=e.bias,a=e.activation,s=e.preluActivationWeights,l=r?t.shape[2]:t.shape[1],u=o?n.shape[1]:n.shape[2],c=t.shape[0],d=zp(t.dtype,n.dtype),p=null!=i,f=null!=s,h=a?gb(a,!0):null,m=new py(t.shape,[c,l,u],r,o,p,h,f),v=[t,n];return i&&v.push(i),s&&v.push(s),this.compileAndRun(m,v,d)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),o=new tg("return areal * breal - aimag * bimag;",e.shape,t.shape),i=new tg("return areal * bimag + aimag * breal;",e.shape,t.shape),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(o,a),l=this.compileAndRun(i,a),u=this.complex(s,l);return s.dispose(),l.dispose(),u}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,og,e.dtype);var c=new ag(og,e.shape,t.shape);return this.compileAndRun(c,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,i){var a=[e,t,n],s=null;null!=i&&(s=i.shape,a.push(i));var l=null;if(null!=o&&(l=o.shape,a.push(o)),Cd().getBool("WEBGL_PACK_NORMALIZATION")){var u=new eg(e.shape,t.shape,n.shape,s,l,r);return this.compileAndRun(u,a)}var c=new Zv(e.shape,t.shape,n.shape,s,l,r);return this.compileAndRun(c,a)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){var i=Cd().getBool("WEBGL_PACK_NORMALIZATION")?new uy(e.shape,t,n,r,o):new sy(e.shape,t,n,r,o);return this.compileAndRun(i,[e])},t.prototype.LRNGrad=function(e,t,n,r,o,i,a){var s=new ly(t.shape,r,o,i,a);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map((function(e){return xp(e)}));return Ev(Zh(e.shape,e.dtype,n),t)}var r=new By(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=Cd().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gy(e.shape,t,n):new vy(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=Cd().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Wy(e.shape,t):new zy(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new Lg(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){Ld(e.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),o=Em(e.shape,t,r),i=_m(o.length,t.length),a=Rm(e.shape,t,r),s=Tm(n,t.length),l=Im(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,l)},t.prototype.spaceToBatchND=function(e,t,n){Ld(e.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=Em(a.shape,t,r,!1),l=_m(s.length,t.length,!1),u=Rm(a.shape,t,r,!1);return a.reshape(s).transpose(l).reshape(u)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],o=e.shape[1],i=Om(o),a=new xy({windowSize:i,inSize:o,batchSize:r},t),s=this.compileAndRun(a,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],o=e.shape[1];null!=n&&(r=n.shape[0],o=n.shape[1]);var i=Om(o),a=new Pv({windowSize:i,inSize:o,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var l=this.compileAndRun(a,s,"int32");return 1===l.shape[1]?l:this.argReduce(e,t,l)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,o=Om(r[r.length-1]),i=new Yv(r,o,t,null==n),a=null==n?[e]:[e,n],s=this.compileAndRun(i,a,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){ph("sum",t,e.rank);var n=ch(e.shape,t),r=n[0],o=Ud(n[1]),i=e.as2D(-1,o),a=Wp(e.dtype);return this.reduce(i,"sum",a).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=ch(e.shape,t),r=n[0],o=Ud(n[1]),i=e.as2D(-1,o),a=Wp(e.dtype);return this.reduce(i,"prod",a).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,o=fh([r],e.rank),i=e;null!=o&&(i=e.transpose(o),r=mh(1,e.rank)[0]);var a=function(e,t,n){for(var r=[],o=e.length,i=0;i<o;i++)i!==t?r.push(e[i]):r.push(n);return r}(i.shape,r,n),s=Ud([i.shape[r]]),l=i.as2D(-1,s),u=Wp(e.dtype),c=this.segOpCompute(l,"unsortedSegmentSum",t,u,n).reshape(a);return null!=o&&(c=c.transpose(hh(o))),c},t.prototype.segOpCompute=function(e,t,n,r,o){var i=e.shape[0],a=e.shape[1],s=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=dp(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=dp(e,n+1);return n}(a,o),l=new Iy({windowSize:s,inSize:a,batchSize:i,numSegments:o},t),u=this.compileAndRun(l,[e,n],r);return u.shape[1]===o?u:(n=Oh(0,o).tile([a/s]),this.segOpCompute(u,t,n,r,o))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(ph("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!Cd().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var o=ch(e.shape,r),i=o[0],a=Ud(o[1]),s=e.as2D(-1,a);return this.argReduce(s,n).reshape(i)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var o=new Eg(e.shape,n,r);return this.compileAndRun(o,[e])},t.prototype.equal=function(e,t){if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new ag("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new ag("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new ag("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new ag("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new ag("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new ag("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new Hy(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new ag("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new ag("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new Py(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],zp(t.dtype,n.dtype))},t.prototype.where=function(e){rh("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Rv(e.shape,t)},t.prototype.topk=function(e,t,n){return _v(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){ph("min",t,e.rank);var n=ch(e.shape,t),r=n[0],o=Ud(n[1]),i=e.as2D(-1,o);return this.reduce(i,"min",i.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new lg("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new ag("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new lg("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new ag("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);ph("max",t,e.rank);var n=ch(e.shape,t),r=n[0],o=Ud(n[1]),i=e.as2D(-1,o);return this.reduce(i,"max",i.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new lg("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new ag("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){ph("all",t,e.rank);var n=ch(e.shape,t),r=n[0],o=Ud(n[1]),i=e.as2D(-1,o);return this.reduce(i,"all",i.dtype).reshape(r)},t.prototype.any=function(e,t){ph("any",t,e.rank);var n=ch(e.shape,t),r=n[0],o=Ud(n[1]),i=e.as2D(-1,o);return this.reduce(i,"any",i.dtype).reshape(r)},t.prototype.realDivide=function(e,t){if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new ag("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new ag("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,ng);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=zp(e.dtype,t.dtype);if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,ng,n);var r=new ag(ng,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new hb(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,o){void 0===o&&(o=!1);var i=new lg(n,e.shape,t.shape,o);return this.compileAndRun(i,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,o=this.texData.get(e.dataId),i=this.texData.get(t.dataId),a=[[o.complexTensors.real,i.complexTensors.real],[o.complexTensors.imag,i.complexTensors.imag]].map((function(o){var i=o[0],a=o[1],s=r.makeComplexComponentTensorInfo(e,i),l=r.makeComplexComponentTensorInfo(t,a),u=new ag(n,e.shape,t.shape);return r.compileAndRun(u,[s,l],zp(i.dtype,a.dtype))})),s=a[0],l=a[1],u=this.complex(s,l);return s.dispose(),l.dispose(),u},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>Cd().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var o=e.map((function(e){return e.dtype})).reduce((function(e,t){return zp(e,t)})),i=e.map((function(e){return e.shape})),a=Cd().getBool("WEBGL_PACK")?new Iv(e[0].shape,i):new Tv(e[0].shape,i);return this.compileAndRun(a,e,o)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,rg);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=zp(e.dtype,t.dtype);if(Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,rg,e.dtype);var r=new ag(rg,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new lg("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new ag("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=zp(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(Cd().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Jy,e.dtype);var t=new Hy(e.shape,Jy);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(Cd().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Zy,e.dtype);var t=new Hy(e.shape,Zy);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new Hy(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new Hy(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new Hy(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new Hy(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new Hy(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(Cd().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,eb,e.dtype);var t=new Hy(e.shape,eb);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(Cd().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,tb,e.dtype);var t=new Hy(e.shape,tb);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=Yd([t],e.shape),r=this.max(e,n),o=dh(r.shape,n),i=this.subtract(e,r.reshape(o)),a=this.exp(i),s=this.sum(a,n).reshape(o);return this.realDivide(a,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(Cd().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new Hy(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new Hy(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new Hy(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new Hy(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new Hy(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=Cd().getBool("WEBGL_PACK")?new hb(e.shape,db):new Hy(e.shape,qy),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=Cd().getBool("WEBGL_PACK")?new hb(e.shape,pb):new Hy(e.shape,Ky),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new lg(sg,e.shape,t.shape):new ag(ig,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(Cd().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,fb,e.dtype);var t=new Hy(e.shape,Xy);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new lg("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new ag("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new Hy(e.shape,Yy);return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new Hy(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,o=(r=Cd().getBool("WEBGL_PACK_CLIP")?new cg(e.shape):new ug(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,o)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(Cd().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Gy,e.dtype);var t=new Hy(e.shape,Gy);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new dg(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new Hy(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new Hy(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new Hy(e.shape,nb);return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new Hy(e.shape,rb);return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new Hy(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new Hy(e.shape,ob);return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new Hy(e.shape,ib);return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new Hy(e.shape,ab);return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new lg("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new ag("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new Hy(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new Hy(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new Hy(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new Hy(e.shape,sb);return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new Hy(e.shape,lb);return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new Hy(e.shape,ub);return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new Hy(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new Hy(e.shape,function(e){return void 0===e&&(e=0),$y+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,o,i){var a=e.shape,s=this.texData.get(e.dataId),l=n.inChannels,u=a[0]*a[1]*a[2],c=n.outChannels,d="channelsLast"===n.dataFormat,p=(1===u||1===c)&&l>1e3,f=a[2]%2!=0&&!!s.isPacked;if(p||!Cd().getBool("WEBGL_LAZILY_UNPACK")||!Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!f){var h=d?a[0]*a[1]*a[2]:a[0]*a[2]*a[3],m=this.reshape(e,[1,h,n.inChannels]),v=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:m,b:v,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:i}),n.outShape)}var g=d?a[0]*a[1]*(a[2]+1):a[0]*a[2]*(a[3]+1),y={dataId:e.dataId,shape:[1,g,n.inChannels],dtype:e.dtype},b=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,Ld(Uf(s.shape,y.shape),(function(){return"packed reshape "+s.shape+" to "+y.shape+" isn't free"}));var x=this.reshape(t,[1,n.inChannels,n.outChannels]),w=this.fusedBatchMatMul({a:y,b:x,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:i}),S=this.texData.get(w.dataId);return Ld(S.isPacked,(function(){return"batchMatMul result is expected to be packed"})),s.shape=b,S.shape=n.outShape,Kp.makeTensorFromDataId(w.dataId,n.outShape,w.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,o,i){var a=n.filterWidth,s=n.filterHeight,l=n.inChannels,u=n.outWidth,c=n.outHeight,d="channelsLast"===n.dataFormat,p=a*s*l,f=c*u,h=[p,f],m=e.squeeze([0]),v=t.reshape([1,p,-1]),g=new ay(h,m.shape,n),y=this.compileAndRun(g,[m]).reshape([1,h[0],h[1]]),b=null!=r,x=null!=i,w=o?gb(o,!0):null,S=new py(y.shape,[1,f,n.outChannels],!0,!1,b,w,x),A=[y,v];r&&A.push(r),x&&A.push(i);var k=this.compileAndRun(S,A);return d?k.reshape([1,c,u,n.outChannels]):k.reshape([1,n.outChannels,c,u])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,o,i,a);if(Cd().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,o,i,a);var s=null!=o,l=null!=a,u=i?gb(i,!1):null,c=new wg(r,s,u,l),d=[t,n];return o&&d.push(o),a&&d.push(a),this.compileAndRun(c,d)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(Cd().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new wg(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new vg(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new mg(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,o=e.convInfo,i=e.bias,a=e.activation,s=e.preluActivationWeights,l=Cd().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,u=a?gb(a,l):null,c=[n,r],d=null!=i,p=null!=s;return d&&c.push(i),p&&c.push(s),l?(t=new kg(o,d,u,p),this.compileAndRun(t,c)):(t=new Ag(o,d,u,p),this.compileAndRun(t,c))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return Cd().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new kg(n),this.compileAndRun(r,[e,t])):(r=new Ag(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new xg(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new bg(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new Sg(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new yg(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new gg(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new yy(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new yy(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var o=new yy(r,"max",!0),i=this.compileAndRun(o,[t]),a=new cy(r),s=this.compileAndRun(a,[e,i],t.dtype);return i.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new Qv(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return cv(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,i=0;i<e.rank;i++)i!==t&&(r[o++]=e.shape[i]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var l=new Array(n);for(i=0;i<l.length;i++)a[t]=i,l[i]=this.slice(e,a,s).reshape(r);return l},t.prototype.avgPool3d=function(e,t){var n=new by(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new Jv(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new by(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var o=new by(r,"max",!0),i=this.compileAndRun(o,[t]),a=new dy(r),s=this.compileAndRun(a,[e,i],t.dtype);return i.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!Uf(e.shape,t)&&(null===n.texture||!Uf(n.shape,t))){var r=this.packedReshape(e,t);return Kp.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return dv(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var o=Cd().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ky(e.shape,t,n,r):new Ay(e.shape,t,n,r);return this.compileAndRun(o,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new Sy(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var o=new Ey(e.shape,t,n,r);return this.compileAndRun(o,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new Cy(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var o=t?e:Hm(e),i=o.shape[0],a=o.shape[1],s=new fy(i,a,n),l=s.getCustomSetupFunc(r);return this.compileAndRun(s,[o],"int32",l)},t.prototype.oneHot=function(e,t,n,r){var o=new hy(e.size,t,n,r);return this.compileAndRun(o,[e])},t.prototype.diag=function(e){var t=new Pg(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return rh("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),bv(e.dataSync(),t.dataSync(),n,r,o)},t.prototype.cropAndResize=function(e,t,n,r,o,i){var a=new Cg(e.shape,t.shape,r,o,i);return this.compileAndRun(a,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){Ld(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));var r=e.shape[0],o="NHWC"===n?e.shape[1]:e.shape[2],i="NHWC"===n?e.shape[2]:e.shape[3],a="NHWC"===n?e.shape[3]:e.shape[1],s=o*t,l=i*t,u=a/(t*t),c=new Ig("NHWC"===n?[r,s,l,u]:[r,u,s,l],t,n);return this.compileAndRun(c,[e])},t.prototype.split=function(e,t,n){return Cv(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=Dm(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,l=r.outputSize,u=[l/a,a],c=e.reshape([i,o]),d=t.reshape([i,a]);if(0===l)return dv(Sh([]),n);var p=kh(0),f=new Ty(i,o,c.rank,d.rank,s,u);return this.compileAndRun(f,[d,c,p]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var o=Dm(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.strides,l=o.outputSize,u=new Ty(a,i,e.rank,t.rank,s,[l,1],!1);return this.compileAndRun(u,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new Fg("return real * expR - imag * expI;",e.shape,t),o=new Fg("return real * expI + imag * expR;",e.shape,t),i=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],a=this.compileAndRun(r,i),s=this.compileAndRun(o,i),l=this.complex(a,s).as2D(e.shape[0],e.shape[1]);return a.dispose(),s.dispose(),l},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=Pm(e,t),i=o[0],a=o[1],s=o[2],l=o[3],u=t.reshape([a,r]),c=e.reshape([e.size/s,s]),d=new Bg(r,l,[a,s]);return this.compileAndRun(d,[c,u]).reshape(i)},t.prototype.fill=function(e,t,n){if("string"===(n=n||up(t))){var r=Zd(n,Ud(e));return r.fill(t),Kp.makeTensor(r,e,n,this)}var o=new jg(e,t),i=o.getCustomSetupFunc(t);return this.compileAndRun(o,[],n,i)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return pv(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return Kp.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new mb(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new my(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[jf(e.shape)].concat(Lf(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[jf(t)].concat(Lf(t)),i=new wy(o,n),a=this.runWebGLProgram(i,[r],e.dtype,null,!0);return{dataId:a.dataId,shape:t,dtype:a.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,o=n.shape,i=n.dtype,a=Bf(o);return t=r?new Tg(a):new Rg(a),{dtype:i,shape:o,dataId:this.runWebGLProgram(t,[{shape:a,dtype:i,dataId:e}],i,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,o){var i=this;void 0===o&&(o=!1);var a=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(a.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Qp.DENSE){var l=af(e.outputShape);s.texShape=l.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===Ud(a.shape))return s.values=Jd(a.dtype,0),a;var u=[],c=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&Ud(t.shape)<=Cd().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?i.unpackTensor(t):i.packTensor(t),u.push(t),n=i.texData.get(t.dataId);else if(n.isPacked&&!Uf(n.shape,t.shape)){var r=t,o=t.shape;t.shape=n.shape,t=i.packedReshape(t,o),u.push(t),n=i.texData.get(t.dataId),r.shape=o}return i.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(a.dataId);var d,p={shape:a.shape,texData:s,isUniform:!1},f=function(e,t,n){var r="";t.concat(n).forEach((function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t}));var o=e.userCode;return e.constructor.name+"_"+r+"_"+o}(e,c,p),h=this.getAndSaveBinary(f,(function(){return function(e,t,n,r){var o=t.userCode,i=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=i.map((function(e){return e.shapeInfo})),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},l=Lv(i,s,o,t.packedInputs),u=e.createProgram(l),c=null,d=e.getUniformLocation(u,"NAN",!1);1===Cd().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(u,"INFINITY",!1));for(var p={},f=0;f<t.variableNames.length;f++){var h=t.variableNames[f];p[h]=e.getUniformLocation(u,h,!1),p["offset"+h]=e.getUniformLocation(u,"offset"+h,!1)}return{program:t,source:l,webGLProgram:u,uniformLocations:p,inShapeInfos:a,outShapeInfo:s,infLoc:c,nanLoc:d}}(i.gpgpu,e,c,p)})),m=null!=this.activeTimers;if(m&&(d=this.startTimer()),function(e,t,n,r,o){iy(t.inShapeInfos,n),iy([t.outShapeInfo],[r]);var i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i,a[0],a[1]):e.setOutputMatrixTexture(i,a[0],a[1]),e.setProgram(t.webGLProgram),1===Cd().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var o=t.program.variableNames[r],i=t.uniformLocations[o],a=t.uniformLocations["offset"+o];if(null!=i)if(n.isUniform)if(Ud(n.shape)<2)e.gl.uniform1f(i,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(i,s)}else null!=n.texData.slice&&null!=a&&e.gl.uniform1i(a,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,i,r)})),null!=o&&o(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,h,c,p,r),u.forEach((function(e){return i.disposeData(e.dataId)})),m&&(d=this.endTimer(d),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(d)})),!Cd().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){var v=this.unpackTensor(a);return this.disposeData(a.dataId),v}return a},t.prototype.compileAndRun=function(e,t,n,r,o){void 0===o&&(o=!1),n=n||t[0].dtype;var i=this.runWebGLProgram(e,t,n,r,o);return Kp.makeTensorFromDataId(i.dataId,i.shape,i.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(Cd().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]})),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=th((function(){if(!Cd().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=Cd().getBool("DEBUG");Cd().set("DEBUG",!1);var n=e.abs(kh(1e-8)).dataSync()[0];if(Cd().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,i=n.values,a=n.texture,s=n.usage,l=n.isPacked;if(null==a){var u,c=null!=this.activeTimers;c&&(u=gp());var d=n.texShape;if(null==d&&(d=zf(r,l),n.texShape=d),null!=i){var p=Bf(r),f=void 0,h=d[1],m=d[0],v=i instanceof Uint8Array;l?(h=(t=sf(d[0],d[1]))[0],m=t[1],f=new Dg(p,[m,h],v)):f=new Ng(p,[m,h],v);var g=this.makeTensorInfo([m,h],o);this.texData.get(g.dataId).usage=v?Jp.PIXELS:Jp.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(g.dataId),h,m,i);var y=this.runWebGLProgram(f,[g],o,null,!0),b=this.texData.get(y.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeData(g.dataId),this.texData.delete(y.dataId),n.values=null,c&&(this.uploadWaitMs+=gp()-u)}else{var x=this.acquireTexture(d,s,o,l);n.texture=x}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*op(t)},t}(qm);Xp()&&Kp.registerBackend("webgl",(function(){return new yb}),2);var bb=yh({square_:function(e){var t=ah(e,"x","square"),n=[t];return Kp.runKernelFunc((function(e,n){return n([t]),e.square(t)}),{x:t},null,"Square",{},n,[])}}),xb="SquaredDifference",wb=yh({squaredDifference_:function(e,t){var n,r=ah(e,"a","squaredDifference"),o=ah(t,"b","squaredDifference");n=Up(r,o),r=n[0],o=n[1],Qm(r.shape,o.shape);var i={a:r,b:o},a=[r,o];return Kp.runKernelFunc((function(e,t){var n=e.squaredDifference(r,o);return t([r,o]),n}),i,(function(e,t){var n=t[0],r=t[1],o=kh(2);return{a:function(){return e.mul(n.sub(r).mul(o))},b:function(){return e.mul(r.sub(n).mul(o))}}}),xb,{},a,[])}}),Sb=yh({abs_:function(e){var t=ah(e,"x","abs");return"complex64"===t.dtype?Kp.runKernelFunc((function(e){return e.complexAbs(t)}),{$x:t}):Kp.runKernelFunc((function(e,n){var r=e.abs(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}}),"Abs")}}),Ab=yh({acos_:function(e){var t=ah(e,"x","acos");return Kp.runKernelFunc((function(e,n){var r=e.acos(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(kh(1).sub(n.toFloat().square()).sqrt()).neg()}}}))}}),kb=yh({acosh_:function(e){var t=ah(e,"x","acosh");return Kp.runKernelFunc((function(e,n){var r=e.acosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}}))}}),Cb=yh({asin_:function(e){var t=ah(e,"x","asin");return Kp.runKernelFunc((function(e,n){var r=e.asin(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(kh(1).sub(n.toFloat().square()).sqrt())}}}))}}),Eb=yh({asinh_:function(e){var t=ah(e,"x","asinh");return Kp.runKernelFunc((function(e,n){var r=e.asinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(kh(1).add(n.toFloat().square()).sqrt())}}}))}}),_b=yh({atan_:function(e){var t=ah(e,"x","atan");return Kp.runKernelFunc((function(e,n){var r=e.atan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}}))}}),Rb=yh({atanh_:function(e){var t=ah(e,"x","atanh");return Kp.runKernelFunc((function(e,n){var r=e.atanh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(kh(1).sub(n.toFloat().square()))}}}))}}),Tb=yh({ceil_:function(e){var t=ah(e,"x","ceil");return Kp.runKernelFunc((function(e){return e.ceil(t)}),{$x:t},(function(e){return{$x:function(){return Nh(e)}}}))}}),Ib=yh({clipByValue_:function(e,t,n){var r=ah(e,"x","clipByValue");Ld(t<=n,(function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."}));var o=[r],i={min:t,max:n};return Kp.runKernelFunc((function(e,o){var i=e.clip(r,t,n);return o([r]),i}),{x:r},(function(e,r){var o=r[0];return{x:function(){return e.where(o.greaterEqual(t).logicalAnd(o.lessEqual(n)),Nh(e))}}}),"ClipByValue",i,o)}}),Pb=yh({cos_:function(e){var t=ah(e,"x","cos"),n=[t];return Kp.runKernelFunc((function(e,n){var r=e.cos(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}}),"Cos",{},n)}}),Ob=yh({cosh_:function(e){var t=ah(e,"x","cosh");return Kp.runKernelFunc((function(e,n){var r=e.cosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}}))}}),Mb=yh({erf_:function(e){var t=ah(e,"x","erf");return Ld("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=t.toFloat()),Kp.runKernelFunc((function(e,n){var r=e.erf(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Nb=yh({exp_:function(e){var t=ah(e,"x","exp");return Kp.runKernelFunc((function(e,n){var r=e.exp(t);return n([r]),r}),{x:t},(function(e,t){return{x:function(){return e.mulStrict(t[0])}}}),"Exp",{},[],[!0])}}),Db=yh({expm1_:function(e){var t=ah(e,"x","expm1");return Kp.runKernelFunc((function(e,n){var r=e.expm1(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}}))}}),Fb=yh({floor_:function(e){var t=ah(e,"x","floor");return Kp.runKernelFunc((function(e){return e.floor(t)}),{$x:t},(function(e){return{$x:function(){return Nh(e)}}}))}}),jb=yh({log_:function(e){var t=ah(e,"x","log"),n=[t];return Kp.runKernelFunc((function(e,n){var r=e.log(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}}),"Log",{},n)}}),Lb=yh({log1p_:function(e){var t=ah(e,"x","log1p");return Kp.runKernelFunc((function(e,n){var r=e.log1p(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}}))}}),Bb=yh({logSigmoid_:function(e){var t=ah(e,"x","logSigmoid");return Kp.runKernelFunc((function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}}))}}),zb=yh({neg_:function(e){var t=ah(e,"x","neg"),n=[t];return Kp.runKernelFunc((function(e){return e.neg(t)}),{x:t},(function(e){return{x:function(){return e.neg()}}}),"Neg",{},n)}}),Wb=yh({reciprocal_:function(e){var t=ah(e,"x","reciprocal");return Kp.runKernelFunc((function(e,n){var r=e.reciprocal(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}}))}}),Ub=yh({round_:function(e){var t=ah(e,"x","round");return Kp.runKernelFunc((function(e){return e.round(t)}),{$x:t},(function(e){return{$x:function(){return Nh(e)}}}))}}),Vb=yh({rsqrt_:function(e){var t=ah(e,"x","rsqrt"),n=[t];return Kp.runKernelFunc((function(e,n){var r=e.rsqrt(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},n)}}),Hb=yh({sigmoid_:function(e){var t=ah(e,"x","sigmoid");return Kp.runKernelFunc((function(e,n){var r=e.sigmoid(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(kh(1).sub(n)))}}}),"Sigmoid")}}),$b=yh({sign_:function(e){var t=ah(e,"x","sign");return Kp.runKernelFunc((function(e){return e.sign(t)}),{$x:t},(function(e){return{$x:function(){return Nh(e)}}}))}}),Gb=yh({isNaN_:function(e){var t=ah(e,"x","isNaN");return Kp.runKernelFunc((function(e){return e.isNaN(t)}),{$x:t},(function(e){return{$x:function(){return Nh(e)}}}))}}),qb=yh({isInf_:function(e){var t=ah(e,"x","isInf");return Kp.runKernelFunc((function(e){return e.isInf(t)}),{$x:t},(function(e){return{$x:function(){return Nh(e)}}}))}}),Kb=yh({isFinite_:function(e){var t=ah(e,"x","isFinite");return Kp.runKernelFunc((function(e){return e.isFinite(t)}),{$x:t},(function(e){return{$x:function(){return Nh(e)}}}))}}),Xb=yh({sin_:function(e){var t=ah(e,"x","sin"),n=[t];return Kp.runKernelFunc((function(e,n){var r=e.sin(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}}),"Sin",{},n)}}),Yb=yh({sinh_:function(e){var t=ah(e,"x","sinh");return Kp.runKernelFunc((function(e,n){var r=e.sinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}}))}}),Qb=yh({softplus_:function(e){var t=ah(e,"x","softplus");return Kp.runKernelFunc((function(e,n){var r=e.softplus(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}}))}}),Jb=yh({sqrt_:function(e){var t=ah(e,"x","sqrt");return Kp.runKernelFunc((function(e,n){var r=e.sqrt(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}}))}}),Zb=yh({step_:function(e,t){void 0===t&&(t=0);var n=ah(e,"x","step");return Kp.runKernelFunc((function(e){return e.step(n,t)}),{$x:n},(function(e){return{$x:function(){return Nh(e)}}}))}}),ex=yh({tan_:function(e){var t=ah(e,"x","tan");return Kp.runKernelFunc((function(e,n){var r=e.tan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}}))}}),tx=yh({tanh_:function(e){var t=ah(e,"x","tanh");return Kp.runKernelFunc((function(e,n){var r=e.tanh(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return kh(1).sub(n.square()).mulStrict(e)}}}),"Tanh",{},null,[!0])}});function nx(e,t,n,r,o,i){var a,s,l=ah(e,"x","batchNorm"),u=ah(t,"mean","batchNorm"),c=ah(n,"variance","batchNorm");return null!=o&&(a=ah(o,"scale","batchNorm")),null!=r&&(s=ah(r,"offset","batchNorm")),Ld(2===l.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."})),Ld(2===u.rank||1===u.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+u.rank+"."})),Ld(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."})),null!=a&&Ld(2===a.rank||1===a.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."})),null!=s&&Ld(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),ix(l,u,c,s,a,i)}function rx(e,t,n,r,o,i){var a,s,l=ah(e,"x","batchNorm"),u=ah(t,"mean","batchNorm"),c=ah(n,"variance","batchNorm");return null!=o&&(a=ah(o,"scale","batchNorm")),null!=r&&(s=ah(r,"offset","batchNorm")),Ld(3===l.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."})),Ld(3===u.rank||1===u.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+u.rank+"."})),Ld(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."})),null!=a&&Ld(3===a.rank||1===a.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."})),null!=s&&Ld(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),ix(l,u,c,s,a,i)}function ox(e,t,n,r,o,i){var a,s,l=ah(e,"x","batchNorm"),u=ah(t,"mean","batchNorm"),c=ah(n,"variance","batchNorm");return null!=o&&(a=ah(o,"scale","batchNorm")),null!=r&&(s=ah(r,"offset","batchNorm")),Ld(4===l.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+l.rank+"."})),Ld(4===u.rank||1===u.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+u.rank+"."})),Ld(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."})),null!=a&&Ld(4===a.rank||1===a.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."})),null!=s&&Ld(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),ix(l,u,c,s,a,i)}function ix(e,t,n,r,o,i){null==i&&(i=.001);var a,s,l,u=ah(e,"x","batchNorm"),c=ah(t,"mean","batchNorm"),d=ah(n,"variance","batchNorm");null!=o&&(a=ah(o,"scale","batchNorm")),null!=r&&(s=ah(r,"offset","batchNorm")),Ld(c.rank===d.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),Ld(null==s||c.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),Ld(null==a||c.rank===a.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),l=0===u.rank||1===u.rank?u.as4D(1,1,1,u.size):2===u.rank?u.as4D(1,1,u.shape[0],u.shape[1]):3===u.rank?u.as4D(1,u.shape[0],u.shape[1],u.shape[2]):u;var p=[u,c,d,a];return Kp.runKernelFunc((function(e,t){var n=e.batchNormalization(l,ax(c),ax(d),i,ax(a),ax(s));return t([u,c,d,a]),n}),{x:u,mean:c,variance:d,scale:a,offset:s},(function(e,t){var n=t,r=n[0],o=n[1],a=n[2],s=n[3],u=null==s?kh(1):s,c=Ym(o.shape,l.shape),d=[];if(1===o.rank){for(var p=0;p<l.shape.length-1;++p)d.push(l.shape[p]);d.push(1)}var f=r.sub(o),h=e.mul(u),m=Vb(a.add(kh(i))),v=m.mul(m).mul(m).mul(kh(-.5));return{x:function(){return 1===o.rank?e.mul(Am(m.as4D(1,1,1,o.shape[0]),d)).mul(u).reshape(r.shape):e.mul(m).mul(u).reshape(r.shape)},mean:function(){var e=m.mul(kh(-1)).mul(h);return 1===o.rank&&(e=e.sum(c)),e.reshape(o.shape)},variance:function(){var e=v.mul(f).mul(h);return 1===o.rank&&(e=e.sum(c)),e.reshape(o.shape)},scale:function(){var t=f.mul(m),n=e.mul(t);return 1===o.rank&&(n=n.sum(c)),n.reshape(o.shape)},offset:function(){var t=e;return 1===o.rank&&(t=t.sum(c)),t.reshape(o.shape)}}}),"BatchNormalization",{varianceEpsilon:i},p).reshape(u.shape)}function ax(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function sx(){eh("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var lx=yh({batchNormalization2d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),sx(),nx(e,t,n,i,o,r)}}),ux=yh({batchNormalization3d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),sx(),rx(e,t,n,i,o,r)}}),cx=yh({batchNormalization4d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),sx(),ox(e,t,n,i,o,r)}}),dx=yh({batchNormalization_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),sx(),ix(e,t,n,i,o,r)}}),px=yh({batchNorm_:ix}),fx=yh({batchNorm2d_:nx}),hx=yh({batchNorm3d_:rx}),mx=yh({batchNorm4d_:ox}),vx=yh({logicalAnd_:function(e,t){var n=ah(e,"a","logicalAnd","bool"),r=ah(t,"b","logicalAnd","bool");return Qm(n.shape,r.shape),Kp.runKernelFunc((function(e){return e.logicalAnd(n,r)}),{a:n,b:r},null,"LogicalAnd")}}),gx=yh({logicalNot_:function(e){var t=ah(e,"x","logicalNot","bool");return Kp.runKernelFunc((function(e){return e.logicalNot(t)}),{$x:t})}}),yx=yh({logicalOr_:function(e,t){var n=ah(e,"a","logicalOr","bool"),r=ah(t,"b","logicalOr","bool");return Qm(n.shape,r.shape),Kp.runKernelFunc((function(e){return e.logicalOr(n,r)}),{$a:n,$b:r})}}),bx=yh({logicalXor_:function(e,t){var n=ah(e,"a","logicalXor","bool"),r=ah(t,"b","logicalXor","bool");return Qm(n.shape,r.shape),yx(e,t).logicalAnd(vx(e,t).logicalNot())}}),xx=yh({where_:function(e,t,n){var r=ah(t,"a","where"),o=ah(n,"b","where"),i=ah(e,"condition","where","bool");return Bd(r.shape,o.shape,"Error in where: "),1===i.rank?Ld(i.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):Bd(i.shape,o.shape,"Error in where: "),Kp.runKernelFunc((function(e,t){var n=e.select(i,r,o);return t([i]),n}),{$condition:i,$a:r,$b:o},(function(e,t){var n=t[0];return{$condition:function(){return Nh(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}}))}}),wx=function(e){return Sd(this,void 0,void 0,(function(){var t,n,r;return Ad(this,(function(o){switch(o.label){case 0:return[4,(t=ah(e,"condition","whereAsync","bool")).data()];case 1:return n=o.sent(),r=Rv(t.shape,n),e!==t&&t.dispose(),[2,r]}}))}))},Sx=yh({add_:function(e,t){var n,r=ah(e,"a","add"),o=ah(t,"b","add");n=Up(r,o),r=n[0],o=n[1];var i=Qm(r.shape,o.shape);return Kp.runKernelFunc((function(e){return e.add(r,o)}),{a:r,b:o},(function(e){return{a:function(){var t=e,n=Ym(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Ym(o.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(o.shape)}}}),"Add")}}),Ax=yh({addN_:function(e){Ld(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),Ld(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var t=e.map((function(e,t){return ah(e,"tensors"+t,"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!Vd(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return Kp.runKernelFunc((function(e){return e.addN(t)}),r,(function(e){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}),"AddN")}}),kx=yh({addStrict_:function(e,t){var n=ah(e,"a","addStrict"),r=ah(t,"b","addStrict");return Bd(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),Cx=yh({atan2_:function(e,t){var n,r=ah(e,"a","atan2"),o=ah(t,"b","atan2");n=Up(r,o),r=n[0],o=n[1];var i=Qm(r.shape,o.shape);return Kp.runKernelFunc((function(e,t){var n=e.atan2(r,o);return t([r,o]),n}),{$a:r,$b:o},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Sx(n.square(),r.square()),o=e.mul(r.div(t)),a=Ym(n.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(n.shape)},$b:function(){var t=Sx(n.square(),r.square()),o=zb(e.mul(n.div(t))),a=Ym(r.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(r.shape)}}}))}}),Ex=yh({div_:function(e,t){var n,r=ah(e,"a","div"),o=ah(t,"b","div");if(n=Up(r,o),r=n[0],o=n[1],"int32"===r.dtype&&"int32"===o.dtype)return Tx(r,o);var i=Qm(r.shape,o.shape);return Kp.runKernelFunc((function(e,t){var n=e.realDivide(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=Ym(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=Ym(r.shape,i);o.length>0&&(t=t.sum(o).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}}),"Div")}}),_x=yh({divNoNan_:function(e,t){var n,r=ah(e,"a","div"),o=ah(t,"b","div");r=(n=Up(r,o))[0],o=n[1];var i=Ex(r,o),a=Nh(i),s=o.equal(a);return xx(s,a,i)}}),Rx=yh({divStrict_:function(e,t){var n=ah(e,"a","div"),r=ah(t,"b","div");return Bd(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),Tx=yh({floorDiv_:function(e,t){var n,r=ah(e,"a","floorDiv"),o=ah(t,"b","floorDiv");n=Up(r,o),r=n[0],o=n[1];var i=Qm(r.shape,o.shape);return Kp.runKernelFunc((function(e,t){var n=e.floorDiv(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=Ym(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=Ym(r.shape,i);o.length>0&&(t=t.sum(o).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}}),"FloorDiv")}}),Ix=yh({maximum_:function(e,t){var n,r=ah(e,"a","maximum"),o=ah(t,"b","maximum");return n=Up(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),Qm(r.shape,o.shape),Kp.runKernelFunc((function(e,t){var n=e.maximum(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}}),"Maximum")}}),Px=yh({maximumStrict_:function(e,t){var n=ah(e,"a","maximumStrict"),r=ah(t,"b","maximumStrict");return Bd(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),Ox=yh({minimum_:function(e,t){var n,r=ah(e,"a","minimum"),o=ah(t,"b","minimum");return n=Up(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),Qm(r.shape,o.shape),Kp.runKernelFunc((function(e,t){var n=e.minimum(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}}),"Minimum")}}),Mx=yh({minimumStrict_:function(e,t){var n=ah(e,"a","minimumStrict"),r=ah(t,"b","minimumStrict");return Bd(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),Nx=yh({mod_:function(e,t){var n,r=ah(e,"a","mod"),o=ah(t,"b","mod");n=Up(r,o),r=n[0],o=n[1];var i=Qm(r.shape,o.shape);return Kp.runKernelFunc((function(e,t){var n=e.mod(r,o);return t([r,o]),n}),{$a:r,$b:o},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=Ym(n.shape,i);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),o=Ym(r.shape,i);return o.length>0?t.sum(o).reshape(r.shape):t}}}))}}),Dx=yh({modStrict_:function(e,t){var n=ah(e,"a","modStrict"),r=ah(t,"b","modStrict");return Bd(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Fx=yh({mul_:function(e,t){var n,r=ah(e,"a","mul"),o=ah(t,"b","mul");n=Up(r,o),r=n[0],o=n[1];var i=Qm(r.shape,o.shape);return Kp.runKernelFunc((function(e,t){var n=e.multiply(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),o=Ym(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=Ym(r.shape,i);return o.length>0?t.sum(o).reshape(r.shape):t}}}),"Mul")}}),jx=yh({mulStrict_:function(e,t){var n=ah(e,"a","mul"),r=ah(t,"b","mul");return Bd(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Lx=yh({pow_:function(e,t){var n,r=ah(e,"base","pow"),o=ah(t,"exp","pow");n=Up(r,o),r=n[0],o=n[1];var i=Qm(r.shape,o.shape),a=[r,o];return Kp.runKernelFunc((function(e,t){var n=e.pow(r,o);return t([r,o,n]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1],o=t[2];return{a:function(){var t=r.toFloat(),o=e.mul(t.mul(n.pow(t.sub(kh(1))))),a=Ym(n.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(n.shape)},b:function(){var t=n.greater(0),a=n.log().where(t,Nh(n)),s=e.mul(o.mul(a)),l=Ym(r.shape,i);return l.length>0&&(s=s.sum(l)),s.reshape(r.shape)}}}),"Pow",{},a,[!0])}}),Bx=yh({powStrict_:function(e,t){return Bd(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),zx=yh({squaredDifferenceStrict_:function(e,t){var n=ah(e,"a","squaredDifferenceStrict"),r=ah(t,"b","squaredDifferenceStrict");return Bd(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Wx=yh({sub_:function(e,t){var n,r=ah(e,"a","sub"),o=ah(t,"b","sub");n=Up(r,o),r=n[0],o=n[1];var i=Qm(r.shape,o.shape);return Kp.runKernelFunc((function(e){return e.subtract(r,o)}),{a:r,b:o},(function(e){return{a:function(){var t=e,n=Ym(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=Ym(o.shape,i);return n.length>0&&(t=t.sum(n)),t.neg().reshape(o.shape)}}}),"Sub")}}),Ux=yh({subStrict_:function(e,t){var n=ah(e,"a","subStrict"),r=ah(t,"b","subStrict");return Bd(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Vx=yh({equal_:function(e,t){var n,r=ah(e,"a","equal"),o=ah(t,"b","equal");return n=Up(r,o),r=n[0],o=n[1],Qm(r.shape,o.shape),Kp.runKernelFunc((function(e){return e.equal(r,o)}),{$a:r,$b:o})}}),Hx=yh({equalStrict_:function(e,t){var n=ah(e,"a","equalStrict"),r=ah(t,"b","equalStrict");return Bd(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),$x=yh({greater_:function(e,t){var n,r=ah(e,"a","greater"),o=ah(t,"b","greater");return n=Up(r,o),r=n[0],o=n[1],Qm(r.shape,o.shape),Kp.runKernelFunc((function(e){return e.greater(r,o)}),{a:r,b:o},null,"Greater")}}),Gx=yh({greaterEqual_:function(e,t){var n,r=ah(e,"a","greaterEqual"),o=ah(t,"b","greaterEqual");return n=Up(r,o),r=n[0],o=n[1],Qm(r.shape,o.shape),Kp.runKernelFunc((function(e,t){var n=e.greaterEqual(r,o);return t([r,o]),n}),{a:r,b:o},(function(e,t){var n=t[0],r=t[1];return{a:function(){return Nh(n)},b:function(){return Nh(r)}}}),"GreaterEqual")}}),qx=yh({greaterEqualStrict_:function(e,t){var n=ah(e,"a","greaterEqualStrict"),r=ah(t,"b","greaterEqualStrict");return Bd(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Kx=yh({greaterStrict_:function(e,t){var n=ah(e,"a","greaterStrict"),r=ah(t,"b","greaterStrict");return Bd(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Xx=yh({less_:function(e,t){var n,r=ah(e,"a","less"),o=ah(t,"b","less");return n=Up(r,o),r=n[0],o=n[1],Qm(r.shape,o.shape),Kp.runKernelFunc((function(e){return e.less(r,o)}),{a:r,b:o},null,"Less")}}),Yx=yh({lessEqual_:function(e,t){var n,r=ah(e,"a","lessEqual"),o=ah(t,"b","lessEqual");return n=Up(r,o),r=n[0],o=n[1],Qm(r.shape,o.shape),Kp.runKernelFunc((function(e,t){var n=e.lessEqual(r,o);return t([r,o]),n}),{a:r,b:o},null,"LessEqual")}}),Qx=yh({lessEqualStrict_:function(e,t){var n=ah(e,"a","lessEqualStrict"),r=ah(t,"b","lessEqualStrict");return Bd(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),Jx=yh({lessStrict_:function(e,t){var n=ah(e,"a","lessStrict"),r=ah(t,"b","lessStrict");return Bd(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),Zx=yh({notEqual_:function(e,t){var n,r=ah(e,"a","notEqual"),o=ah(t,"b","notEqual");return n=Up(r,o),r=n[0],o=n[1],Qm(r.shape,o.shape),Kp.runKernelFunc((function(e){return e.notEqual(r,o)}),{a:r,b:o},null,"NotEqual")}}),ew=yh({notEqualStrict_:function(e,t){var n=ah(e,"a","notEqualStrict"),r=ah(t,"b","notEqualStrict");return Bd(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function tw(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function nw(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var rw=yh({gather_:function(e,t,n){void 0===n&&(n=0);var r=ah(e,"x","gather"),o=ah(t,"indices","gather","int32");n=Yd(n,r.shape)[0];var i=function(e,t,n){for(var r=e.shape[n],o=[],i=1,a=1,s=0;s<n;s++)o.push(e.shape[s]),i*=e.shape[s];for(s=0;s<t.rank;s++)o.push(t.shape[s]);for(s=n+1;s<e.rank;s++)o.push(e.shape[s]),a*=e.shape[s];return{batchSize:i,sliceSize:a,dimSize:r,outputShape:o}}(r,o,n);return Kp.runKernelFunc((function(e,t){var i=e.gather(r,o.flatten(),n);return t([o]),i}),{x:r,indices:o},(function(e,t){var o=t[0];return{x:function(){var t=r.shape,i=o.size,a=t.slice(0,n),s=a.length,l=t.slice(n,t.length).slice(1),u=l.length,c=tw(0,s),d=tw(s+1,s+1+u),p=nw([a,[i],l]),f=e.reshape(p),h=o.reshape([i]),m=nw([[s],c,d]),v=f.transpose(m),g=ow(v,h,r.shape[n]),y=hh(m);return g.transpose(y)},indices:function(){return o}}}),"Gather",{axis:n}).reshape(i.outputShape)}}),ow=yh({unsortedSegmentSum_:function(e,t,n){var r=ah(e,"x","unsortedSegmentSum"),o=ah(t,"segmentIds","unsortedSegmentSum","int32");return Ld(Hd(n),(function(){return"numSegments must be of dtype int"})),Kp.runKernelFunc((function(e,t){var i=e.unsortedSegmentSum(r,o,n);return t([o]),i}),{$x:r},(function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=Ix(t,Nh(t)),r=rw(e,n),o=Gx(t,kh(0,"int32")),i=r.rank-o.rank,a=0;a<i;++a)o=am(o,a+1);o=vx(o,Th(r.shape,"bool"));var s=Nh(r);return xx(o,r,s)}(e,n)}}}))}});function iw(e,t,n,r,o,i,a){void 0===i&&(i="NHWC"),Ld(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var s=e,l=t,u=!1;3===t.rank&&(u=!0,l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),Ld(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),Ld(4===l.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+l.rank})),Ld(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}));var c="NHWC"===i?s[3]:s[1],d="NHWC"===i?l.shape[3]:l.shape[1];Ld(c===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+n.shape[2]+"."})),Ld(d===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+d+") must match output depth for filter "+n.shape[3]+"."})),null!=a&&Ld(Hd(o),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var p=uv(i),f=ev(s,n.shape,r,1,o,a,!1,p),h=Kp.runKernelFunc((function(e,t){var r=e.conv2dDerInput(l,n,f);return t([n,l]),r}),{dy4D:l,filter:n},(function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return uw(e,n,r,o,i,1,a)},filter:function(){return dw(e,s,n.shape,r,o,i,a)}}}));return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function aw(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function sw(e,t,n,r,o){Ld(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var i=e,a=t,s=!1;4===t.rank&&(s=!0,a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),i=[1,e[0],e[1],e[2],e[3]]);var l=i[4],u=a.shape[4];Ld(5===i.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."})),Ld(5===a.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank})),Ld(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank})),Ld(l===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[3]+"."})),Ld(u===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+u+") must match output depth for filter "+n.shape[4]+"."}));var c=tv(i,n.shape,r,1,o),d=Kp.runKernelFunc((function(e){return e.conv3dDerInput(a,n,c)}),{dy5D:a});return s?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}var lw=yh({conv1d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NWC"),void 0===i&&(i=1);var s=ah(e,"x","conv1d"),l=ah(t,"filter","conv1d"),u=s,c=!1;2===s.rank&&(c=!0,u=s.as3D(1,s.shape[0],s.shape[1])),Ld(3===u.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank "+u.rank+"."})),Ld(3===l.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+l.rank+"."})),null!=a&&Ld(Hd(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."})),Ld(u.shape[2]===l.shape[1],(function(){return"Error in conv1d: depth of input ("+u.shape[2]+") must match input depth for filter "+l.shape[1]+"."})),Ld(lv(n,i),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+i+"'"})),Ld("NWC"===o,(function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."}));var d=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),p=u.as4D(u.shape[0],1,u.shape[1],u.shape[2]),f=uw(p,d,[1,n],r,"NHWC",[1,i],a);return c?f.as2D(f.shape[2],f.shape[3]):f.as3D(f.shape[0],f.shape[2],f.shape[3])}}),uw=yh({conv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=ah(e,"x","conv2d"),l=ah(t,"filter","conv2d"),u=s,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),Ld(4===u.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank "+u.rank+"."})),Ld(4===l.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+l.rank+"."})),null!=a&&Ld(Hd(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var d="NHWC"===o?u.shape[3]:u.shape[1];Ld(d===l.shape[2],(function(){return"Error in conv2d: depth of input ("+d+") must match input depth for filter "+l.shape[2]+"."})),Ld(lv(n,i),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}));var p=uv(o),f=ev(u.shape,l.shape,n,i,r,a,!1,p),h=[l,u],m=Kp.runKernelFunc((function(e,t){var n=e.conv2d(u,l,f);return t([l,u]),n}),{x:u,filter:l},(function(e,t){var a=t,s=a[0],l=a[1];return Ld(sv(i),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"})),{x:function(){return pw(l.shape,e,s,n,r,o)},filter:function(){return dw(l,e,s.shape,n,r,o)}}}),"Conv2D",f,h);return c?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),cw=yh({conv3d_:function(e,t,n,r,o,i){void 0===o&&(o="NDHWC"),void 0===i&&(i=[1,1,1]);var a=ah(e,"x","conv3d"),s=ah(t,"filter","conv3d"),l=a,u=!1;4===a.rank&&(u=!0,l=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),Ld(5===l.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."})),Ld(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),Ld(l.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),Ld(function(e,t){return aw(e)||aw(t)}(n,i),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),Ld("NDHWC"===o,(function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."}));var c=tv(l.shape,s.shape,n,i,r),d=Kp.runKernelFunc((function(e,t){var n=e.conv3d(l,s,c);return t([l,s]),n}),{x:l,$filter:s},(function(e,t){Ld(aw(i),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}));var o=t[0],a=t[1];return{x:function(){return sw(o.shape,e,a,n,r)},$filter:function(){return function(e,t,n,r,o){var i=e;4===e.rank&&(i=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var a=t;4===a.rank&&(a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),Ld(5===i.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+i.shape+"."})),Ld(5===a.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+a.shape+"."})),Ld(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."})),Ld(i.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input "+i.shape[4]+") must match input depth in filter ("+n[3]+"."})),Ld(a.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+a.shape[4]+") must match output depth for filter ("+n[4]+")."}));var s=tv(i.shape,n,r,1,o);return Kp.runKernelFunc((function(e){return e.conv3dDerFilter(i,a,s)}),{x5D:i,dy5D:a})}(o,e,a.shape,n,r)}}}));return u?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),dw=yh({conv2dDerFilter_:function(e,t,n,r,o,i,a){void 0===i&&(i="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var l=t;3===l.rank&&(l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Ld(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),Ld(4===l.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+l.shape+"."})),Ld(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}));var u="NHWC"===i?s.shape[3]:s.shape[1],c="NHWC"===i?l.shape[3]:l.shape[1];Ld(u===n[2],(function(){return"Error in conv2dDerFilter: depth of input "+u+") must match input depth in filter ("+n[2]+"."})),Ld(c===n[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+n[3]+")."})),null!=a&&Ld(Hd(o),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var d=uv(i),p=ev(s.shape,n,r,1,o,a,!1,d);return Kp.runKernelFunc((function(e){return e.conv2dDerFilter(s,l,p)}),{x4D:s,dy4D:l})}}),pw=yh({conv2dDerInput_:iw}),fw=yh({depthwiseConv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=ah(e,"x","depthwiseConv2d"),l=ah(t,"filter","depthwiseConv2d"),u=s,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),Ld(4===u.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+u.rank+"."})),Ld(4===l.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+l.rank+"."})),Ld(u.shape[3]===l.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+u.shape[3]+") must match the inChannels dimension in filter "+l.shape[2]+"."})),null==i&&(i=[1,1]),Ld(lv(n,i),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),null!=a&&Ld(Hd(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}));var d=ev(u.shape,l.shape,n,i,r,a,!0),p=[u,l],f=Kp.runKernelFunc((function(e,t){var n=e.depthwiseConv2D(u,l,d);return t([u,l]),n}),{x:u,filter:l},(function(e,t){Ld(sv(i),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"}));var n=t[0],r=t[1];return{x:function(){return hw(n.shape,e,r,d)},filter:function(){return mw(n,e,r.shape,d)}}}),"DepthwiseConv2dNative",d,p);return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),hw=yh({depthwiseConv2dDerInput_:function(e,t,n,r){var o=t,i=!1;3===t.rank&&(i=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=Kp.runKernelFunc((function(e){return e.depthwiseConv2DDerInput(o,n,r)}),{dy4D:o});return i?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}}),mw=yh({depthwiseConv2dDerFilter_:function(e,t,n,r){var o=e;3===e.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=t;return 3===i.rank&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Kp.runKernelFunc((function(e){return e.depthwiseConv2DDerFilter(o,i,r)}),{x4D:o,dy4D:i})}}),vw=yh({separableConv2d_:function(e,t,n,r,o,i,a){void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC");var s=ah(e,"x","separableConv2d"),l=ah(t,"depthwiseFilter","separableConv2d"),u=ah(n,"pointwiseFilter","separableConv2d"),c=s,d=!1;if(3===s.rank&&(d=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Ld(4===c.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."})),Ld(4===l.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+l.rank+"."})),Ld(4===u.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+l.rank+"."})),Ld(1===u.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+u.shape[0]+"."})),Ld(1===u.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+u.shape[1]+"."}));var p=l.shape[2],f=l.shape[3];Ld(u.shape[2]===p*f,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+p*f+", but got "+u.shape[2]+"."}));var h=fw(c,l,r,o,a,i),m=uw(h,u,1,"valid",a);return d?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),gw=yh({conv2dTranspose_:function(e,t,n,r,o,i){return iw(n,ah(e,"x","conv2dTranspose"),ah(t,"filter","conv2dTranspose"),r,o,"NHWC",i)}}),yw=yh({conv3dTranspose_:function(e,t,n,r,o){return sw(n,ah(e,"x","conv3dTranspose"),ah(t,"filter","conv3dTranspose"),r,o)}}),bw=yh({matMul_:function(e,t,n,r){var o;void 0===n&&(n=!1),void 0===r&&(r=!1);var i=ah(e,"a","matMul"),a=ah(t,"b","matMul");o=Up(i,a),i=o[0],a=o[1];var s=n?i.shape[i.rank-2]:i.shape[i.rank-1],l=r?a.shape[a.rank-1]:a.shape[a.rank-2],u=n?i.shape[i.rank-1]:i.shape[i.rank-2],c=r?a.shape[a.rank-2]:a.shape[a.rank-1],d=i.shape.slice(0,-2),p=a.shape.slice(0,-2),f=Ud(d),h=Ud(p);Ld(i.rank>=2&&a.rank>=2&&i.rank===a.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+a.rank+"."})),Ld(Vd(d,p),(function(){return"Error in matMul: outer dimensions ("+d+") and ("+p+") of Tensors with shapes "+i.shape+" and "+a.shape+" must match."})),Ld(s===l,(function(){return"Error in matMul: inner shapes ("+s+") and ("+l+") of Tensors with shapes "+i.shape+" and "+a.shape+" and transposeA="+n+" and transposeB="+r+" must match."}));var m=i.shape.slice(0,-2).concat([u,c]),v=n?i.as3D(f,s,u):i.as3D(f,u,s),g=r?a.as3D(h,c,l):a.as3D(h,l,c),y={transposeA:n,transposeB:r};return Kp.runKernelFunc((function(e,t){var o=e.batchMatMul(v,g,n,r);return t([v,g]),o}),{a:v,b:g},(function(e,t){var o=t,i=o[0],a=o[1];return n||r?!n&&r?{a:function(){return e.matMul(a,!1,!1)},b:function(){return e.matMul(i,!0,!1)}}:n&&!r?{a:function(){return a.matMul(e,!1,!0)},b:function(){return i.matMul(e,!1,!1)}}:{a:function(){return a.matMul(e,!0,!0)},b:function(){return e.matMul(i,!0,!0)}}:{a:function(){return e.matMul(a,!1,!0)},b:function(){return i.matMul(e,!0,!1)}}}),"BatchMatMul",y).reshape(m)}}),xw=yh({dot_:function(e,t){var n=ah(e,"t1","dot"),r=ah(t,"t2","dot");Ld(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."}));var o=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];return Ld(o===i,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+i+"."})),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),ww=yh({outerProduct_:function(e,t){var n=ah(e,"v1","outerProduct"),r=ah(t,"v2","outerProduct");return Ld(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."})),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),Sw=yh({reverse_:function(e,t){var n=ah(e,"x","reverse");if(0===n.rank)return n.clone();var r=Yd(t,n.shape);return Kp.runKernelFunc((function(e){return e.reverse(n,r)}),{$x:n},(function(e){return{$x:function(){return e.reverse(r)}}})).reshapeAs(n)}}),Aw=yh({reverse1d_:function(e){var t=ah(e,"x","reverse");return Ld(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."})),Sw(t,0)}}),kw=yh({reverse2d_:function(e,t){var n=ah(e,"x","reverse");return Ld(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."})),Sw(n,t)}}),Cw=yh({reverse3d_:function(e,t){var n=ah(e,"x","reverse");return Ld(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."})),Sw(n,t)}}),Ew=yh({reverse4d_:function(e,t){var n=ah(e,"x","reverse");return Ld(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."})),Sw(n,t)}});function _w(e,t,n,r,o,i){var a=ah(e,"x","maxPool"),s=a,l=!1;3===a.rank&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),null==r&&(r=[1,1]),Ld(4===s.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),Ld(lv(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"})),null!=i&&Ld(Hd(o),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var u=Jm(s.shape,t,n,r,o,i);if(1===u.filterWidth&&1===u.filterHeight&&Vd(u.inShape,u.outShape))return a.clone();var c=[s],d=Kp.runKernelFunc((function(e,t){var n=e.maxPool(s,u);return t([s,n]),n}),{x:s},(function(e,i){var a=i[0],s=i[1];return{x:function(){return function(e,t,n,r,o,i,a,s){var l=ah(e,"dy","maxPoolBackprop"),u=ah(t,"input","maxPoolBackprop"),c=ah(n,"output","maxPoolBackprop");Ld(u.rank===l.rank,(function(){return"Rank of input ("+u.rank+") does not match rank of dy ("+l.rank+")"})),null==i&&(i=[1,1]),Ld(lv(o,i),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"})),Ld(4===l.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."})),Ld(4===u.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+u.rank+"."}));var d=Jm(u.shape,r,o,i,a,s);return Kp.runKernelFunc((function(e){return e.maxPoolBackprop(l,u,c,d)}),{$dy:l,$input:u})}(e,a,s,t,n,r,o)}}}),"MaxPool",u,c);return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}function Rw(e,t,n,r,o,i){var a=ah(e,"x","avgPool","float32");null==r&&(r=[1,1]),Ld(lv(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}));var s=a,l=!1;3===a.rank&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),Ld(4===s.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),null!=i&&Ld(Hd(o),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var u=Jm(s.shape,t,n,r,o,i);if(1===u.filterWidth&&1===u.filterHeight&&Vd(u.inShape,u.outShape))return a.clone();var c=Kp.runKernelFunc((function(e){return e.avgPool(s,u)}),{x:s},(function(e){return{x:function(){return function(e,t,n,r,o,i){var a=ah(e,"dy","avgPoolBackprop"),s=ah(t,"input","avgPoolBackprop");Ld(s.rank===a.rank,(function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+a.rank+")"})),null==o&&(o=[1,1]),Ld(lv(r,o),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"}));var l=s,u=a,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),u=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),Ld(4===u.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."})),Ld(4===l.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+l.rank+"."}));var d=Jm(l.shape,n,r,o,i),p=Kp.runKernelFunc((function(e){return e.avgPoolBackprop(u,l,d)}),{dy4D:u,input4D:l});return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}(e,s,t,n,r,o)}}}),"AvgPool",u);return c=c.cast(a.dtype),l?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var Tw=yh({maxPool_:function(e,t,n,r,o){return _w(e,t,n,1,r,o)}}),Iw=yh({avgPool_:function(e,t,n,r,o){return Rw(e,t,n,1,r,o)}}),Pw=yh({pool_:function(e,t,n,r,o,i){null==o&&(o=[1,1]),null==i&&(i=1),0===r&&(r="valid");var a=ah(e,"x","maxPool"),s=a,l=!1;3===a.rank&&(l=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),Ld(lv(i,o),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"}));var u,c=Jm(s.shape,t,i,o,r),d=[c.dilationHeight,c.dilationWidth];u="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),o=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],o[t]]}))}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];var p=1===d[0]&&1===d[1],f=function(e,t,n){var r=n.map((function(e){return e[0]})),o=n.map((function(e){return e[1]})),i=e.concat(r,o),a=t.map((function(e,t){return(e-i[t]%e)%e})),s=o.map((function(e,t){return e+a[t]}));return[t.map((function(e,t){return[r[t],s[t]]})),t.map((function(e,t){return[0,a[t]]}))]}([c.inHeight,c.inWidth],d,u),h=f[0],m=f[1],v=p?r:"valid",g=p?s:xm(s,d,h),y=("avg"===n?function(){return Rw(g,t,i,1,v)}:function(){return _w(g,t,i,1,v)})(),b=p?y:em(y,d,m);return l?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),Ow=yh({maxPool3d_:function(e,t,n,r,o,i,a){void 0===i&&(i="NDHWC");var s=ah(e,"x","maxPool3d"),l=s,u=!1;4===s.rank&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),Ld(5===l.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+l.rank+"."})),Ld("NDHWC"===i,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i})),Ld(lv(n,a),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=o&&Ld(Hd(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var c=Zm(l.shape,t,n,a,r,o,i),d=Kp.runKernelFunc((function(e,t){var n=e.maxPool3d(l,c);return t([l,n]),n}),{x:l},(function(e,i){var s=i[0],l=i[1];return{x:function(){return function(e,t,n,r,o,i,a,s){var l=ah(e,"dy","maxPool3dBackprop"),u=ah(t,"input","maxPool3dBackprop"),c=ah(n,"output","maxPool3dBackprop"),d=l,p=u,f=c,h=!1;4===u.rank&&(h=!0,d=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]),p=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),f=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3])),Ld(5===d.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+d.rank+"."})),Ld(5===p.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+p.rank+"."})),Ld(5===f.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+f.rank+"."})),null==i&&(i=[1,1,1]),Ld(lv(o,i),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"})),null!=s&&Ld(Hd(a),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+"."}));var m=Zm(p.shape,r,o,i,a,s),v=Kp.runKernelFunc((function(e){return e.maxPool3dBackprop(d,p,f,m)}),{dy5D:d,input5D:p});return h?v.as4D(v.shape[1],v.shape[2],v.shape[3],v.shape[4]):v}(e,s,l,t,n,a,r,o)}}}));return u?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),Mw=yh({avgPool3d_:function(e,t,n,r,o,i,a){void 0===i&&(i="NDHWC");var s=ah(e,"x","avgPool3d","float32"),l=s,u=!1;4===s.rank&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),Ld(5===l.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+l.rank+"."})),Ld("NDHWC"===i,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i})),Ld(lv(n,a),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=o&&Ld(Hd(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var c=Zm(l.shape,t,n,a,r,o,i),d=Kp.runKernelFunc((function(e){return e.avgPool3d(l,c)}),{x:l},(function(e){return{x:function(){return function(e,t,n,r,o,i,a){var s=ah(e,"dy","avgPool3dBackprop"),l=ah(t,"input","avgPool3dBackprop"),u=s,c=l,d=!1;4===l.rank&&(d=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),c=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),Ld(5===u.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+u.rank+"."})),Ld(5===c.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+c.rank+"."})),null==o&&(o=[1,1,1]),Ld(lv(r,o),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"})),null!=a&&Ld(Hd(i),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."}));var p=Zm(c.shape,n,r,o,i,a),f=Kp.runKernelFunc((function(e){return e.avgPool3dBackprop(u,c,p)}),{dy5D:u,input5D:c});return d?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}(e,l,t,n,a,r,o)}}}));return d=d.cast(l.dtype),u?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),Nw=yh({slice_:function(e,t,n){var r,o,i=ah(e,"x","slice");if(0===i.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(i.rank-1).fill(0)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(0)):t.slice()).forEach((function(e){Ld(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=null==n?new Array(i.rank).fill(-1):"number"==typeof n?[n].concat(new Array(i.rank-1).fill(-1)):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map((function(e,t){return e>=0?e:(Ld(-1===e,(function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."})),i.shape[t]-r[t])})),Fm(i,r,o);var a=i.shape,s={begin:r,size:o};return Kp.runKernelFunc((function(e){return e.slice(i,r,o)}),{x:i},(function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],a[n]-r[n]-o[n]]);return{x:function(){return e.pad(t)}}}),"Slice",s)}}),Dw=yh({slice1d_:function(e,t,n){var r=ah(e,"x","slice1d");return Ld(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),Nw(r,[t],[n])}}),Fw=yh({slice2d_:function(e,t,n){var r=ah(e,"x","slice2d");return Ld(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),Nw(r,t,n)}}),jw=yh({slice3d_:function(e,t,n){var r=ah(e,"x","slice3d");return Ld(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),Nw(r,t,n)}}),Lw=yh({slice4d_:function(e,t,n){var r=ah(e,"x","slice4d");return Ld(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),Nw(r,t,n)}});function Bw(e,t,n,r,o){return t.rank<n.rank&&(t=t.reshape(dh(t.shape,r))),e.rank<n.rank&&(e=e.reshape(dh(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==o?r:r.transpose(o)}}}var zw=yh({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ah(e,"x","all","bool"),o=Yd(t,r.shape),i=o,a=fh(i,r.rank);null!=a&&(r=r.transpose(a),i=mh(i.length,r.rank));var s=Kp.runKernelFunc((function(e){return e.all(r,i)}),{$x:r});if(n){var l=dh(s.shape,o);return s.reshape(l)}return s}}),Ww=yh({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ah(e,"x","any","bool"),o=Yd(t,r.shape),i=o,a=fh(i,r.rank);null!=a&&(r=r.transpose(a),i=mh(i.length,r.rank));var s=Kp.runKernelFunc((function(e){return e.any(r,i)}),{$x:r});if(n){var l=dh(s.shape,o);return s.reshape(l)}return s}}),Uw=yh({argMax_:function(e,t){void 0===t&&(t=0);var n=ah(e,"x","argMax");null==t&&(t=0);var r=Yd(t,n.shape),o=fh(r,n.rank);null!=o&&(n=n.transpose(o),r=mh(r.length,n.rank));var i={axis:r[0]},a=[n];return Kp.runKernelFunc((function(e,t){var o=e.argMax(n,r[0]);return t([n]),o}),{x:n},(function(e,t){var n=t[0];return{x:function(){return Nh(n)}}}),"ArgMax",i,a)}}),Vw=yh({argMin_:function(e,t){void 0===t&&(t=0);var n=ah(e,"x","argMin");null==t&&(t=0);var r=Yd(t,n.shape),o=fh(r,n.rank);return null!=o&&(n=n.transpose(o),r=mh(r.length,n.rank)),Kp.runKernelFunc((function(e,t){var o=e.argMin(n,r[0]);return t([n]),o}),{$x:n},(function(e,t){var n=t[0];return{$x:function(){return Nh(n)}}}))}}),Hw=yh({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ah(e,"x","logSumExp"),o=Yd(t,r.shape),i=r.max(o,!0),a=r.sub(i).exp().sum(o).log(),s=i.reshape(a.shape).add(a);if(n){var l=dh(s.shape,o);return s.reshape(l)}return s}}),$w=yh({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ah(e,"x","max"),o=r,i=Yd(t,r.shape),a=i,s=fh(a,r.rank);null!=s&&(r=r.transpose(s),a=mh(a.length,r.rank));var l=[r],u=Kp.runKernelFunc((function(e,t){var n=e.max(r,a);return t([o,n]),n}),{x:r},(function(e,t){return Bw(e,t[1],t[0],i,s)}),"Max",{axes:a},l,[!0]);if(n){var c=dh(u.shape,i);u=u.reshape(c)}return u}}),Gw=yh({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ah(e,"x","mean"),o=Yd(t,r.shape),i=Ud(ch(r.shape,o)[1]);return Vm((function(e){var r=kh(i);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return o.forEach((function(e){n[e]=1})),t.reshape(n).mul(Th(e.shape,"float32")).div(i)}}}))(r)}}),qw=yh({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ah(e,"x","min"),o=r,i=Yd(t,r.shape),a=i,s=fh(a,r.rank);null!=s&&(r=r.transpose(s),a=mh(a.length,r.rank));var l=[r],u=Kp.runKernelFunc((function(e,t){var n=e.min(r,a);return t([o,n]),n}),{x:r},(function(e,t){return Bw(e,t[1],t[0],i,s)}),"Min",{axes:a},l,[!0]);if(n){var c=dh(u.shape,i);u=u.reshape(c)}return u}}),Kw=yh({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Yd(t,(e=ah(e,"x","moments")).shape),o=e.mean(r,n),i=o.shape;n||(i=dh(o.shape,r));var a=e.toFloat().sub(o.reshape(i)).square();return{mean:o,variance:a.mean(r,n)}}}),Xw=yh({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ah(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var o=Yd(t,r.shape);return Vm((function(e){var t=fh(o,e.rank),r=o,i=e;null!=t&&(i=e.transpose(t),r=mh(r.length,e.rank));var a=function(t){var n=e.shape.slice();return o.forEach((function(e){n[e]=1})),t.reshape(n).mul(Th(e.shape,"float32"))},s={axes:r},l=Kp.runKernelFunc((function(e){return e.sum(i,r)}),{x:i},(function(e){return{x:function(){return a(e)}}}),"Sum",s);if(n){var u=dh(l.shape,o);l=l.reshape(u)}return{value:l,gradFunc:a}}))(r)}}),Yw=yh({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=ah(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var o=Yd(t,r.shape),i=fh(o,r.rank),a=o,s=r;null!=i&&(s=r.transpose(i),a=mh(a.length,r.rank));var l=Kp.runKernelFunc((function(e){return e.prod(s,a)}),{permutedX:s});if(n){var u=dh(l.shape,o);l=l.reshape(u)}return l}}),Qw=yh({elu_:function(e){var t=ah(e,"x","elu");return Kp.runKernelFunc((function(e,n){var r=e.elu(t);return n([r]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return Kp.runKernelFunc((function(t){return t.eluDer(e,n)}),{dy:e,y:n})}}}))}}),Jw=yh({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=ah(e,"x","leakyRelu");return Ix(kh(t).mul(n),n)}}),Zw=yh({prelu_:function(e,t){var n=ah(e,"x","prelu"),r=ah(t,"alpha","prelu");return Kp.runKernelFunc((function(e,t){var o=e.prelu(n,r);return t([n,r]),o}),{x:n,alpha:r},(function(e,t){var n=t[0],r=t[1],o=n.greater(0);return{x:function(){return xx(o,e,e.mul(r))},alpha:function(){var t=xx(o,Nh(e),e.mul(n)),i=Ym(r.shape,e.shape);return i.length>0&&(t=t.sum(i)),t.reshape(r.shape)}}}),"Prelu")}}),eS=yh({relu_:function(e){var t=ah(e,"x","relu");return"bool"===t.dtype?t.toInt():Kp.runKernelFunc((function(e,n){var r=e.relu(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}}),"Relu")}}),tS=yh({relu6_:function(e){var t=ah(e,"x","relu6");return"bool"===t.dtype?t.toInt():Kp.runKernelFunc((function(e,n){var r=e.relu6(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}}),"Relu6")}}),nS=yh({selu_:function(e){var t=ah(e,"x","selu");return Kp.runKernelFunc((function(e,n){var r=e.selu(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){var t=n.greater(kh(0)),r=kh(Uy),o=kh(Vy),i=e.mul(o),a=e.mul(r).mul(n.toFloat().exp());return xx(t,i,a)}}}))}}),rS=yh({transpose_:function(e,t){var n=ah(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),Ld(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."})),t.forEach((function(e){Ld(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t}))})),n.rank<=1)return n.clone();var r={perm:t};return Kp.runKernelFunc((function(e){return e.transpose(n,t)}),{x:n},(function(e){var n=hh(t);return{x:function(){return e.transpose(n)}}}),"Transpose",r)}}),oS=yh({localResponseNormalization_:function(e,t,n,r,o){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=.5);var i=ah(e,"x","localResponseNormalization");Ld(4===i.rank||3===i.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+i.rank+"."})),Ld(Hd(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."}));var a=i,s=!1;3===i.rank&&(s=!0,a=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var l=Kp.runKernelFunc((function(e,i){var s=e.localResponseNormalization4D(a,t,n,r,o);return i([a,s]),s}),{x4D:a},(function(e,i){var a=i[0],s=i[1];return{x4D:function(){return Kp.runKernelFunc((function(i){return i.LRNGrad(e,a,s,t,n,r,o)}),{})}}}));return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),iS=yh({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var o=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(kh(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=ah(e,"x","norm"),t,n),i=o.shape;if(r){var a=Yd(n,e.shape);i=dh(o.shape,a)}return o.reshape(i)}}),aS=yh({basicLSTMCell_:function(e,t,n,r,o,i){var a=ah(e,"forgetBias","basicLSTMCell"),s=ah(t,"lstmKernel","basicLSTMCell"),l=ah(n,"lstmBias","basicLSTMCell"),u=ah(r,"data","basicLSTMCell"),c=ah(o,"c","basicLSTMCell"),d=ah(i,"h","basicLSTMCell"),p=u.concat(d,1).matMul(s).add(l),f=p.shape[0],h=p.shape[1]/4,m=[f,h],v=p.slice([0,0],m),g=p.slice([0,h],m),y=p.slice([0,2*h],m),b=p.slice([0,3*h],m),x=v.sigmoid().mulStrict(g.tanh()).addStrict(c.mulStrict(a.add(y).sigmoid())),w=x.tanh().mulStrict(b.sigmoid());return[x,w]}}),sS=yh({multiRNNCell_:function(e,t,n,r){for(var o=ah(t,"data","multiRNNCell"),i=sh(n,"c","multiRNNCell"),a=sh(r,"h","multiRNNCell"),s=o,l=[],u=0;u<e.length;u++){var c=e[u](s,i[u],a[u]);l.push(c[0]),l.push(c[1]),s=c[1]}var d=[],p=[];for(u=0;u<l.length;u+=2)d.push(l[u]),p.push(l[u+1]);return[d,p]}}),lS=yh({movingAverage_:function(e,t,n,r,o){void 0===o&&(o=!0);var i=ah(e,"v","movingAverage"),a=ah(t,"x","movingAverage"),s=ah(n,"decay","movingAverage");Vp(i,a),Ld(Vd(i.shape,a.shape),(function(){return"Shape mismatch in v and x"}));var l=kh(1),u=l.sub(s),c=a.sub(i).mul(u);if(o){Ld(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var d=ah(r,"step","movingAverage");c=c.div(l.sub(Lx(s,d)))}return i.add(c)}}),uS=yh({stridedSlice_:function(e,t,n,r,o,i,a,s,l){if(void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),null==r&&(r=new Array(t.length)),0!==a)throw new Error("ellipsis mask is not yet supported");var u=ah(e,"x","stridedSlice"),c=jm(s),d=u.shape.slice();c.forEach((function(e){t[e]=0,n[e]=1,d.splice(e,0,1)})),u=u.reshape(d);for(var p=0;p<u.rank;p++)t[p]=Bm(o,t,r,u.shape,p),n[p]=zm(i,n,r,u.shape,p),r[p]=r[p]||1;var f=jm(l);f.forEach((function(e){n[e]=t[e]+1,r[e]=1}));var h=Lm(t,n,r),m=h.filter((function(e,t){return-1===f.indexOf(t)}));return r.every((function(e){return 1===e}))?Nw(u,t,h).reshape(m):Kp.runKernelFunc((function(e){return e.stridedSlice(u,t,n,r)}),{$x:u}).reshape(m)}}),cS=yh({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=ah(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(t>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+t);var i=Kp.runKernelFunc((function(e){return e.topk(r,t,n)}),{$x:r});return{values:i[0],indices:i[1]}}}),dS=yh({scatterND_:function(e,t,n){var r=ah(e,"indices","scatterND","int32"),o=ah(t,"updates","scatterND");return Nm(o,r,n),Kp.runKernelFunc((function(e){return e.scatterND(r,o,n)}),{indices:r,updates:o},null,"ScatterNd",{shape:n})}}),pS=yh({fft_:function(e){Ld("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Kp.runKernelFunc((function(e){return e.fft(r)}),{input:e}).reshape(e.shape)}}),fS=yh({ifft_:function(e){Ld("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Kp.runKernelFunc((function(e){return e.ifft(r)}),{input:e}).reshape(e.shape)}}),hS=yh({rfft_:function(e,t){Ld("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var n,r=e.shape[e.shape.length-1],o=e.size/r;if(null!=t&&t<r){var i=e.shape.map((function(e){return 0})),a=e.shape.map((function(e){return e}));a[e.shape.length-1]=t,n=e.slice(i,a),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=e.concat(Ih(s),e.shape.length-1),r=t}else n=e;var l=n.zerosLike(),u=bh(n,l).as2D(o,r),c=pS(u),d=Math.floor(r/2)+1,p=xh(c),f=wh(c),h=p.split([d,r-d],p.shape.length-1),m=f.split([d,r-d],f.shape.length-1),v=n.shape.slice();return v[n.shape.length-1]=d,bh(h[0],m[0]).reshape(v)}}),mS=yh({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),o=fS(r);return xh(o)}var i=[n,2*(t-1)],a=xh(e).as2D(n,t),s=wh(e).as2D(n,t),l=a.slice([0,1],[n,t-2]).reverse(1),u=s.slice([0,1],[n,t-2]).reverse(1).mul(kh(-1)),c=a.concat(l,1),d=s.concat(u,1);return r=bh(c,d).as2D(i[0],i[1]),o=fS(r),xh(o)}}),vS=Object.freeze({fft:pS,ifft:fS,rfft:hS,irfft:mS}),gS=yh({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var o=ah(e,"sparseIndices","sparseToDense","int32"),i=ah(t,"sparseValues","sparseToDense"),a=ah(r,"defaultValue","sparseToDense",i.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var o=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+i+".");var a=t.size;if(0!==t.rank&&(1!==t.rank||a!==o))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+o+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,i,n,a),Kp.runKernelFunc((function(e){return e.sparseToDense(o,i,n,a)}),{$sparseIndices:o,$sparseValues:i,$defaultValue:a})}}),yS=yh({gatherND_:function(e,t){var n=ah(t,"indices","gatherND","int32"),r=ah(e,"x","gatherND");return Kp.runKernelFunc((function(e){return e.gatherND(r,n)}),{x:r,indices:n},null,"GatherNd")}}),bS=yh({diag_:function(e){var t=ah(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return Kp.runKernelFunc((function(e){return e.diag(t)}),{$x:t}).reshape(n)}}),xS=yh({dropout_:function(e,t,n,r){var o=ah(e,"x","dropout");if(Ld("float32"===o.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."})),Ld(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got "+t+"."})),0===t)return e instanceof Op?o.clone():o;var i=function(e,t){if(null==t)return e.shape.slice();if(Vd(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(o,n),a=1-t,s=ym(i,0,1,"float32",r).add(a).floor().div(a);return o.mul(s)}});function wS(e,t,n){for(var r=1-e%2,o=new Float32Array(e),i=0;i<e;++i){var a=2*Math.PI*i/(e+r-1);o[i]=t-n*Math.cos(a)}return Ch(o,"float32")}var SS,AS=yh({hannWindow_:function(e){return wS(e,.5,.5)}}),kS=yh({hammingWindow_:function(e){return wS(e,.54,.46)}}),CS=yh({frame_:function(e,t,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=0);for(var i=0,a=[];i+t<=e.size;)a.push(Nw(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,l=Dh([Nw(e,i,t-s),Ph([s],o)]);a.push(l),i+=n}return 0===a.length?Eh([],[0,t]):Dh(a).as2D(a.length,t)}}),ES=yh({stft_:function(e,t,n,r,o){var i;void 0===o&&(o=AS),null==r&&(i=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var a=CS(e,t,n),s=Fx(a,o(t)),l=[],u=0;u<a.shape[0];u++)l.push(hS(s.slice([u,0],[1,t]),r));return Dh(l)}}),_S=Object.freeze({hannWindow:AS,hammingWindow:kS,frame:CS,stft:ES});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(SS||(SS={}));var RS=yh({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=SS.SUM_BY_NONZERO_WEIGHTS);var o=ah(e,"labels","absoluteDifference"),i=ah(t,"predictions","absoluteDifference"),a=null;null!=n&&(a=ah(n,"weights","absoluteDifference")),Bd(o.shape,i.shape,"Error in absoluteDifference: ");var s=o.sub(i).abs();return TS(s,a,r)}}),TS=yh({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=SS.SUM_BY_NONZERO_WEIGHTS);var r=ah(e,"losses","computeWeightedLoss"),o=null;null!=t&&(o=ah(t,"weights","computeWeightedLoss"));var i=null==o?r:r.mul(o);if(n===SS.NONE)return i;if(n===SS.SUM)return i.sum();if(n===SS.MEAN){if(null==o)return i.mean();var a=r.size/o.size,s=i.sum().div(o.sum());return a>1?s.div(kh(a)):s}if(n===SS.SUM_BY_NONZERO_WEIGHTS){if(null==o)return i.sum().div(kh(r.size));var l=o.mul(Th(r.shape)).notEqual(kh(0)).sum().toFloat();return i.sum().div(l)}throw Error("Unknown reduction: "+n)}}),IS=yh({cosineDistance_:function(e,t,n,r,o){void 0===o&&(o=SS.SUM_BY_NONZERO_WEIGHTS);var i=ah(e,"labels","cosineDistance"),a=ah(t,"predictions","cosineDistance"),s=null;null!=r&&(s=ah(r,"weights","cosineDistance")),Bd(i.shape,a.shape,"Error in cosineDistance: ");var l=kh(1).sub(i.mul(a).sum(n,!0));return TS(l,s,o)}}),PS=yh({hingeLoss_:function(e,t,n,r){void 0===r&&(r=SS.SUM_BY_NONZERO_WEIGHTS);var o=ah(e,"labels","hingeLoss"),i=ah(t,"predictions","hingeLoss"),a=null;null!=n&&(a=ah(n,"weights","hingeLoss")),Bd(o.shape,i.shape,"Error in hingeLoss: ");var s=kh(1);o=kh(2).mul(o).sub(s);var l=s.sub(o.mul(i)).relu();return TS(l,a,r)}}),OS=yh({huberLoss_:function(e,t,n,r,o){void 0===r&&(r=1),void 0===o&&(o=SS.SUM_BY_NONZERO_WEIGHTS);var i=ah(e,"labels","huberLoss"),a=ah(t,"predictions","huberLoss"),s=null;null!=n&&(s=ah(n,"weights","huberLoss")),Bd(i.shape,a.shape,"Error in huberLoss: ");var l=kh(r),u=a.sub(i).abs(),c=Ox(u,l),d=u.sub(c),p=kh(.5).mul(c.square()).add(l.mul(d));return TS(p,s,o)}}),MS=yh({logLoss_:function(e,t,n,r,o){void 0===r&&(r=1e-7),void 0===o&&(o=SS.SUM_BY_NONZERO_WEIGHTS);var i=ah(e,"labels","logLoss"),a=ah(t,"predictions","logLoss"),s=null;null!=n&&(s=ah(n,"weights","logLoss")),Bd(i.shape,a.shape,"Error in logLoss: ");var l=kh(1),u=kh(r),c=i.mul(a.add(u).log()).neg().sub(l.sub(i).mul(l.sub(a).add(u).log()));return TS(c,s,o)}}),NS=yh({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=SS.SUM_BY_NONZERO_WEIGHTS);var o=ah(e,"labels","meanSquaredError"),i=ah(t,"predictions","meanSquaredError"),a=null;null!=n&&(a=ah(n,"weights","meanSquaredError")),Bd(o.shape,i.shape,"Error in meanSquaredError: ");var s=o.squaredDifference(i);return TS(s,a,r)}}),DS=yh({sigmoidCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=SS.SUM_BY_NONZERO_WEIGHTS);var i=ah(e,"multiClassLabels","sigmoidCrossEntropy"),a=ah(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=ah(n,"weights","sigmoidCrossEntropy")),Bd(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=kh(r),u=kh(1),c=kh(.5);i=i.mul(u.sub(l)).add(c.mul(l))}var d=function(e,t){var n=ah(e,"labels","sigmoidCrossEntropyWithLogits"),r=ah(t,"logits","sigmoidCrossEntropyWithLogits");Bd(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=r.relu(),i=r.mul(n),a=r.abs().neg().exp().log1p();return o.sub(i).add(a)}(i,a);return TS(d,s,o)}}),FS=yh({softmaxCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=SS.SUM_BY_NONZERO_WEIGHTS);var i=ah(e,"onehotLabels","softmaxCrossEntropy"),a=ah(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=ah(n,"weights","softmaxCrossEntropy")),Bd(i.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var l=kh(r),u=kh(1),c=kh(i.shape[1]);i=i.mul(u.sub(l)).add(l.div(c))}var d=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return Vm((function(e,t,r){var o=t.logSumExp([n],!0),i=t.toFloat().sub(o);return r([e,i]),{value:i.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],o=t[1],i=dh(e.shape,[n]);return[e.reshape(i).mul(r.toFloat().sub(o.exp())),e.reshape(i).mul(o.exp().sub(r.toFloat()))]}}}))(e,t)}(i,a);return TS(d,s,o)}}),jS=Object.freeze({get Reduction(){return SS},absoluteDifference:RS,computeWeightedLoss:TS,cosineDistance:IS,hingeLoss:PS,huberLoss:OS,logLoss:MS,meanSquaredError:NS,sigmoidCrossEntropy:DS,softmaxCrossEntropy:FS});function LS(e,t){return void 0===t&&(t=!1),Kp.tidy((function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],o=sm(n),i=e.clone(),a=Eh([[1]],[1,1]),s=a.clone(),l=n>=r?r:n,u=function(e){var t,l=i,u=s,c=o;t=Kp.tidy((function(){var t=i.slice([e,e],[n-e,1]),l=t.norm(),u=i.slice([e,e],[1,1]),c=Eh([[-1]]).where(u.greater(0),Eh([[1]])),d=u.sub(c.mul(l)),p=t.div(d);s=1===p.shape[0]?a.clone():a.concat(p.slice([1,0],[p.shape[0]-1,p.shape[1]]),0);var f=c.matMul(d).div(l).neg(),h=i.slice([e,0],[n-e,r]),m=f.mul(s);if(0===e)i=h.sub(m.matMul(s.transpose().matMul(h)));else{var v=h.sub(m.matMul(s.transpose().matMul(h)));i=i.slice([0,0],[e,r]).concat(v,0)}var g=o.slice([0,e],[n,o.shape[1]-e]);if(0===e)o=g.sub(g.matMul(s).matMul(m.transpose()));else{var y=g.sub(g.matMul(s).matMul(m.transpose()));o=o.slice([0,0],[n,e]).concat(y,1)}return[s,i,o]})),s=t[0],i=t[1],o=t[2],nh([l,u,c])},c=0;c<l;++c)u(c);return!t&&n>r&&(o=o.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[o,i]}))}var BS=yh({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=ah(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var o=r.shape,i=r.shape.slice(-2),a=i[0],s=i[1];if(!(t<=a))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+a+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=a),n<0&&(n=s);var l=Oh(0,a,1,"int32").reshape([-1,1]),u=Oh(0,s,1,"int32"),c=Wx(l,u),d=vx(c.lessEqual(kh(+t,"int32")),c.greaterEqual(kh(-n,"int32"))),p=Ih([a,s],r.dtype);return Sm(Cm(r.reshape([-1,a,s])).map((function(e){return xx(d,e,p)}))).reshape(o)}}),zS=yh({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,Ld(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){Ld(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"}))},o=1;o<e.length;++o)r(o)}else t=!0,e=zh(e,e.shape[0],0).map((function(e){return wm(e,[0])}));Ld(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var i=[],a=e,s=function(e){i.push(Kp.tidy((function(){var t=a[e];if(e>0)for(var n=0;n<e;++n){var r=Xw(i[n].mulStrict(t)).mul(i[n]);t=t.sub(r)}return t.div(iS(t,"euclidean"))})))};for(o=0;o<e.length;++o)s(o);return t?Sm(i,0):i}}),WS=yh({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return LS(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=Cm(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];return r.forEach((function(e){var n=LS(e,t),r=n[0],a=n[1];o.push(r),i.push(a)})),[Sm(o,0).reshape(e.shape),Sm(i,0).reshape(e.shape)]}}),US=Object.freeze({bandPart:BS,gramSchmidt:zS,qr:WS});function VS(e,t,n,r,o,i){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==i&&(i=0);var a=e.shape[0];return n=Math.min(n,a),Ld(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),Ld(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),Ld(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),Ld(1===t.rank,(function(){return"scores must be a 1D tensor"})),Ld(t.shape[0]===a,(function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+t.shape[0]})),Ld(0<=i&&i<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:i}}var HS=yh({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=ah(e,"images","resizeBilinear");Ld(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),Ld(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."}));var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],l=Kp.runKernelFunc((function(e,t){return t([o]),e.resizeBilinear(o,a,s,n)}),{x:o},(function(e,t){return{x:function(){return Kp.runKernelFunc((function(r){return r.resizeBilinearBackprop(e,t[0],n)}),{})}}}),"ResizeBilinear",{alignCorners:n,newHeight:a,newWidth:s});return i?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),$S=yh({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=ah(e,"images","resizeNearestNeighbor");Ld(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),Ld(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."})),Ld("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],l=Kp.runKernelFunc((function(e,t){return t([o]),e.resizeNearestNeighbor(o,a,s,n)}),{batchImages:o},(function(e,t){return{batchImages:function(){return Kp.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)}),{})}}}));return i?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),GS=yh({nonMaxSuppression_:function(e,t,n,r,o){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var i=ah(e,"boxes","nonMaxSuppression"),a=ah(t,"scores","nonMaxSuppression"),s=VS(i,a,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;var l={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return Kp.runKernelFunc((function(e){return e.nonMaxSuppression(i,a,n,r,o)}),{boxes:i,scores:a},null,"NonMaxSuppressionV3",l)}}),qS=yh({nonMaxSuppressionWithScore_:function(e,t,n,r,o,i){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===i&&(i=0);var a=ah(e,"boxes","nonMaxSuppression"),s=ah(t,"scores","nonMaxSuppression"),l=VS(a,s,n,r,o,i),u={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:o=l.scoreThreshold,softNmsSigma:i=l.softNmsSigma},c=Kp.runKernel("NonMaxSuppressionV5",{boxes:a,scores:s},u);return{selectedIndices:c[0],selectedScores:c[1]}}}),KS=yh({cropAndResize_:function(e,t,n,r,o,i){var a=ah(e,"image","cropAndResize"),s=ah(t,"boxes","cropAndResize","float32"),l=ah(n,"boxInd","cropAndResize","int32");o=o||"bilinear",i=i||0;var u=s.shape[0];return Ld(4===a.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."})),Ld(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size ["+u+",4] but had shape "+s.shape+"."})),Ld(1===l.rank&&l.shape[0]===u,(function(){return"Error in cropAndResize: boxInd must be have size ["+u+"] but had shape "+s.shape+"."})),Ld(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),Ld(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),Ld("bilinear"===o||"nearest"===o,(function(){return"method must be bilinear or nearest, but was "+o})),Kp.runKernelFunc((function(e,t){return e.cropAndResize(a,s,l,r,o,i)}),{images:a,boxes:s,boxInd:l},null,"CropAndResize",{method:o,extrapolationValue:i,cropSize:r})}}),XS=Object.freeze({resizeBilinear:HS,resizeNearestNeighbor:$S,nonMaxSuppression:GS,nonMaxSuppressionAsync:function(e,t,n,r,o){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),Sd(this,void 0,void 0,(function(){var i,a,s,l,u,c,d;return Ad(this,(function(p){switch(p.label){case 0:return i=ah(e,"boxes","nonMaxSuppressionAsync"),a=ah(t,"scores","nonMaxSuppressionAsync"),s=VS(i,a,n,r,o),n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold,[4,Promise.all([i.data(),a.data()])];case 1:return l=p.sent(),u=l[0],c=l[1],d=bv(u,c,n,r,o),i!==e&&i.dispose(),a!==t&&a.dispose(),[2,d]}}))}))},nonMaxSuppressionWithScore:qS,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,o,i){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===i&&(i=0),Sd(this,void 0,void 0,(function(){var a,s,l,u,c,d,p;return Ad(this,(function(f){switch(f.label){case 0:return a=ah(e,"boxes","nonMaxSuppressionAsync"),s=ah(t,"scores","nonMaxSuppressionAsync"),l=VS(a,s,n,r,o,i),n=l.maxOutputSize,r=l.iouThreshold,o=l.scoreThreshold,i=l.softNmsSigma,[4,Promise.all([a.data(),s.data()])];case 1:return u=f.sent(),c=u[0],d=u[1],p=xv(c,d,n,r,o,i),a!==e&&a.dispose(),s!==t&&s.dispose(),[2,p]}}))}))},cropAndResize:KS}),YS=function(e,t){return!(e>0)||"linear"===t},QS=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},JS=function(e,t){var n=t,r=Ym(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},ZS=function(e,t,n){if("linear"===t)return e;if("relu"===t)return eS(e);if("elu"===t)return Qw(e);if("relu6"===t)return tS(e);if("prelu"===t)return Zw(e,n);throw new Error("Unknown fused activation "+t+".")},eA=yh({fusedMatMul_:function(e){var t,n=e.a,r=e.b,o=e.transposeA,i=void 0!==o&&o,a=e.transposeB,s=void 0!==a&&a,l=e.bias,u=e.activation,c=void 0===u?"linear":u,d=e.preluActivationWeights;if(!1===YS(Kp.state.gradientDepth,c)){var p=bw(n,r,i,s);return null!=l&&(p=Sx(p,l)),ZS(p,c,d)}var f=ah(n,"a","fused matMul"),h=ah(r,"b","fused matMul");t=Up(f,h),f=t[0],h=t[1];var m=i?f.shape[f.rank-2]:f.shape[f.rank-1],v=s?h.shape[h.rank-1]:h.shape[h.rank-2],g=i?f.shape[f.rank-1]:f.shape[f.rank-2],y=s?h.shape[h.rank-2]:h.shape[h.rank-1],b=f.shape.slice(0,-2),x=h.shape.slice(0,-2),w=Ud(b),S=Ud(x);Ld(f.rank>=2&&h.rank>=2&&f.rank===h.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+f.rank+" and "+h.rank+"."})),Ld(Vd(b,x),(function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+x+") of Tensors with shapes "+f.shape+" and "+h.shape+" must match."})),Ld(m===v,(function(){return"Error in fused matMul: inner shapes ("+m+") and ("+v+") of Tensors with shapes "+f.shape+" and "+h.shape+" and transposeA="+i+" and transposeB="+s+" must match."}));var A,k,C=f.shape.slice(0,-2).concat([g,y]),E=i?f.as3D(w,m,g):f.as3D(w,g,m),_=s?h.as3D(S,y,v):h.as3D(S,v,y);null!=l&&Qm(C,(A=Up(A=ah(l,"bias","fused matMul"),f)[0]).shape),null!=d&&(k=ah(d,"prelu weights","fused matMul"));var R={a:E,b:_};null!=l&&(R.bias=A),null!=d&&(R.preluActivationWeights=k);var T=[E,_];return Kp.runKernelFunc((function(e,t){var n=e.fusedBatchMatMul({a:E,b:_,transposeA:i,transposeB:s,bias:A,activation:c,preluActivationWeights:k});return t([E,_,n]),n}),R,(function(e,t){var n=t[0],r=t[1],o=t[2],a=QS(e,o,c),u={};return null!=l&&(u={bias:function(){return JS(A,a)}}),i||s?!i&&s?Object.assign({a:function(){return a.matMul(r,!1,!1)},b:function(){return a.matMul(n,!0,!1)}},u):i&&!s?Object.assign({a:function(){return r.matMul(a,!1,!0)},b:function(){return n.matMul(a,!1,!1)}},u):Object.assign({a:function(){return r.matMul(a,!0,!0)},b:function(){return a.matMul(n,!0,!0)}},u):Object.assign({a:function(){return a.matMul(r,!1,!0)},b:function(){return n.matMul(a,!0,!1)}},u)}),"_FusedMatMul",{transposeA:i,transposeB:s,activation:c},T,[!0]).reshape(C)}}),tA=yh({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=void 0===i?"NHWC":i,s=e.dilations,l=void 0===s?[1,1]:s,u=e.dimRoundingMode,c=e.bias,d=e.activation,p=void 0===d?"linear":d,f=e.preluActivationWeights;if(p=p||"linear",!1===YS(Kp.state.gradientDepth,p)){var h=uw(t,n,r,o,a,l,u);return null!=c&&(h=Sx(h,c)),ZS(h,p,f)}var m=ah(t,"x","conv2d"),v=ah(n,"filter","conv2d"),g=m,y=!1;3===m.rank&&(y=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),Ld(4===g.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."})),Ld(4===v.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+v.rank+"."})),null!=u&&Ld(Hd(o),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+o+"."})),Ld(g.shape[3]===v.shape[2],(function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+v.shape[2]+"."})),Ld(lv(r,l),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"})),Ld("NHWC"===a,(function(){return"Error in conv2d: got dataFormat of "+a+" but only NHWC is currently supported."}));var b,x,w=ev(g.shape,v.shape,r,l,o,u);null!=c&&(b=Up(b=ah(c,"bias","fused conv2d"),m)[0],Qm(w.outShape,b.shape)),null!=f&&(x=ah(f,"prelu weights","fused conv2d"));var S={x:g,filter:v};null!=c&&(S.bias=b),null!=f&&(S.preluActivationWeights=x);var A=[v,g],k=Kp.runKernelFunc((function(e,t){var n=e.fusedConv2d({input:g,filter:v,convInfo:w,bias:b,activation:p,preluActivationWeights:x});return t([v,g,n]),n}),S,(function(e,t){var n=t,i=n[0],a=n[1],s=n[2],u=QS(e,s,p);Ld(sv(l),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+l+"'"}));var d={};return null!=c&&(d={bias:function(){return JS(b,u)}}),Object.assign({x:function(){return pw(a.shape,u,i,r,o)},filter:function(){return dw(a,u,i.shape,r,o)}},d)}),"FusedConv2D",{convInfo:w,activation:p},A,[!0]);return y?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),nA=yh({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=void 0===i?"NHWC":i,s=e.dilations,l=void 0===s?[1,1]:s,u=e.dimRoundingMode,c=e.bias,d=e.activation,p=void 0===d?"linear":d,f=e.preluActivationWeights;if(!1===YS(Kp.state.gradientDepth,p)){var h=fw(t,n,r,o,a,l,u);return null!=c&&(h=Sx(h,c)),ZS(h,p,f)}var m=ah(t,"x","depthwiseConv2d"),v=ah(n,"filter","depthwiseConv2d"),g=m,y=!1;3===m.rank&&(y=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),Ld(4===g.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."})),Ld(4===v.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+v.rank+"."})),Ld(g.shape[3]===v.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+v.shape[2]+"."})),null==l&&(l=[1,1]),Ld(lv(r,l),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"})),null!=u&&Ld(Hd(o),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+u+" but got pad "+o+"."}));var b,x,w=ev(g.shape,v.shape,r,l,o,u,!0);null!=c&&(b=Up(b=ah(c,"bias","fused conv2d"),m)[0],Qm(w.outShape,b.shape)),null!=f&&(x=ah(f,"prelu weights","fused depthwiseConv2d"));var S={x:g,filter:v};null!=c&&(S.bias=b),null!=f&&(S.preluActivationWeights=x);var A=[v,g],k=Kp.runKernelFunc((function(e,t){var n=e.fusedDepthwiseConv2D({input:g,filter:v,convInfo:w,bias:b,activation:p,preluActivationWeights:x});return t([v,g,n]),n}),S,(function(e,t){Ld(sv(l),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+l+"'"}));var n=t[0],r=t[1],o=t[2],i=QS(e,o,p),a={};return null!=c&&(a={bias:function(){return JS(b,i)}}),Object.assign({x:function(){return hw(r.shape,i,n,w)},filter:function(){return mw(r,i,n.shape,w)}},a)}),"FusedDepthwiseConv2D",{convInfo:w,activation:p},A,[!0]);return y?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),rA=Object.freeze({matMul:eA,conv2d:tA,depthwiseConv2d:nA}),oA=Object.freeze({image:XS,linalg:US,losses:jS,spectral:vS,fused:rA,signal:_S,square:bb,squaredDifference:wb,conv1d:lw,conv2d:uw,conv3d:cw,depthwiseConv2d:fw,separableConv2d:vw,conv2dTranspose:gw,conv3dTranspose:yw,op:yh,batchNormalization2d:lx,batchNormalization3d:ux,batchNormalization4d:cx,batchNormalization:dx,batchNorm:px,batchNorm2d:fx,batchNorm3d:hx,batchNorm4d:mx,booleanMaskAsync:function(e,t,n){return Sd(this,void 0,void 0,(function(){var r,o,i,a,s,l,u,c,d,p,f,h,m;return Ad(this,(function(v){switch(v.label){case 0:for(r=ah(e,"tensor","boolMask"),o=ah(t,"mask","boolMask","bool"),i=null==n?0:n,a=o.rank,s=r.shape,Ld(a>0,(function(){return"mask cannot be scalar"})),Bd(s.slice(i,i+a),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,u=i;u<i+a;u++)l*=s[u];return c=s.slice(0,i).concat([l],s.slice(i+a)),d=r.reshape(c),p=o.reshape([-1]),[4,wx(p)];case 1:return f=v.sent(),h=f.squeeze([1]),m=rw(d,h,i),e!==r&&r.dispose(),t!==o&&o.dispose(),h.dispose(),d.dispose(),p.dispose(),f.dispose(),[2,m]}}))}))},complex:bh,real:xh,imag:wh,concat:Dh,concat1d:Fh,concat2d:jh,concat3d:Lh,concat4d:Bh,split:zh,matMul:bw,dot:xw,outerProduct:ww,reverse:Sw,reverse1d:Aw,reverse2d:kw,reverse3d:Cw,reverse4d:Ew,maxPool:Tw,avgPool:Iw,pool:Pw,maxPool3d:Ow,avgPool3d:Mw,slice:Nw,slice1d:Dw,slice2d:Fw,slice3d:jw,slice4d:Lw,abs:Sb,acos:Ab,acosh:kb,asin:Cb,asinh:Eb,atan:_b,atanh:Rb,ceil:Tb,clipByValue:Ib,cos:Pb,cosh:Ob,erf:Mb,exp:Nb,expm1:Db,floor:Fb,log:jb,log1p:Lb,logSigmoid:Bb,neg:zb,reciprocal:Wb,round:Ub,rsqrt:Vb,sigmoid:Hb,sign:$b,isNaN:Gb,isInf:qb,isFinite:Kb,sin:Xb,sinh:Yb,softplus:Qb,sqrt:Jb,step:Zb,tan:ex,tanh:tx,all:zw,any:Ww,argMax:Uw,argMin:Vw,logSumExp:Hw,max:$w,mean:Gw,min:qw,moments:Kw,sum:Xw,prod:Yw,equal:Vx,equalStrict:Hx,greater:$x,greaterEqual:Gx,greaterEqualStrict:qx,greaterStrict:Kx,less:Xx,lessEqual:Yx,lessEqualStrict:Qx,lessStrict:Jx,notEqual:Zx,notEqualStrict:ew,add:Sx,addN:Ax,addStrict:kx,atan2:Cx,div:Ex,divNoNan:_x,divStrict:Rx,floorDiv:Tx,maximum:Ix,maximumStrict:Px,minimum:Ox,minimumStrict:Mx,mod:Nx,modStrict:Dx,mul:Fx,mulStrict:jx,pow:Lx,powStrict:Bx,squaredDifferenceStrict:zx,sub:Wx,subStrict:Ux,elu:Qw,leakyRelu:Jw,prelu:Zw,relu:eS,relu6:tS,selu:nS,logicalAnd:vx,logicalNot:gx,logicalOr:yx,logicalXor:bx,where:xx,whereAsync:wx,buffer:Zh,print:function(e,t){void 0===t&&(t=!1),console.log(e.toString(t))},batchToSpaceND:em,broadcastTo:tm,cast:nm,clone:rm,cumsum:om,depthToSpace:im,expandDims:am,eye:sm,multinomial:lm,oneHot:um,pad:cm,pad1d:dm,pad2d:pm,pad3d:fm,pad4d:hm,rand:mm,randomNormal:vm,randomGamma:gm,randomUniform:ym,reshape:bm,spaceToBatchND:xm,squeeze:wm,stack:Sm,tile:Am,truncatedNormal:km,unstack:Cm,setdiff1dAsync:function(e,t){return Sd(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,u,c,d;return Ad(this,(function(p){switch(p.label){case 0:return n=ah(e,"x","setdiff1d"),r=ah(t,"y","setdiff1d"),Ld(n.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."})),Ld(1===n.rank,(function(){return"x should be 1D tensor, but got x ("+n.shape+")."})),Ld(1===r.rank,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,n.data()];case 1:return o=p.sent(),[4,r.data()];case 2:for(i=p.sent(),a=new Set(i),s=0,c=0;c<o.length;c++)a.has(o[c])||s++;for(l=new Rp([s],n.dtype),u=new Rp([s],"int32"),c=0,d=0;c<o.length;c++)a.has(o[c])||(l.values[d]=o[c],u.values[d]=c,d++);return[2,[l.toTensor(),u.toTensor()]]}}))}))},fill:Ph,linspace:function(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return Kp.runKernelFunc((function(r){return r.linspace(e,t,n)}),{})},ones:Th,range:Oh,scalar:kh,tensor:Sh,tensor1d:Ch,tensor2d:Eh,tensor3d:_h,tensor4d:Rh,tensor5d:function(e,t,n){if(zd(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=oh(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Ah(e,t,r,n)},tensor6d:function(e,t,n){if(zd(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=oh(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Ah(e,t=t||r,r,n)},variable:function(e,t,n,r){return void 0===t&&(t=!0),Kp.makeVariable(e,t,n,r)},zeros:Ih,onesLike:Mh,zerosLike:Nh,transpose:rS,softmax:Hm,logSoftmax:$m,localResponseNormalization:oS,norm:iS,gather:rw,unsortedSegmentSum:ow,basicLSTMCell:aS,multiRNNCell:sS,movingAverage:lS,stridedSlice:uS,topk:cS,scatterND:dS,fft:pS,ifft:fS,rfft:hS,irfft:mS,sparseToDense:gS,gatherND:yS,diag:bS,dropout:xS,hannWindow:AS,hammingWindow:kS,frame:CS,stft:ES,inTopKAsync:function(e,t,n){return void 0===n&&(n=1),Sd(this,void 0,void 0,(function(){var r,o,i,a,s,l,u,c,d,p,f,h,m,v;return Ad(this,(function(g){switch(g.label){case 0:return r=ah(e,"predictions","inTopK"),o=ah(t,"targets","inTopK"),Ld(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),Ld(r.rank-1===o.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+o.rank})),Bd(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=r.shape[r.shape.length-1],Ld(n>0&&n<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+n})),[4,r.data()];case 1:return a=g.sent(),[4,o.data()];case 2:for(s=g.sent(),l=[a.length/i,i],c=l[1],d=Jd("bool",u=l[0]),p=0;p<u;p++){for(f=p*c,h=a.subarray(f,f+c),m=[],v=0;v<h.length;v++)m.push({value:h[v],index:v});for(m.sort((function(e,t){return t.value-e.value})),d[p]=0,v=0;v<n;v++)if(m[v].index===s[p]){d[p]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),[2,Sh(d,o.shape,"bool")]}}))}))}});function iA(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&Ld("complex64"!==e.dtype,(function(){return t+" does not support complex64 tensors."}))}))}function aA(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var sA=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new Gm(t,Kp),t}return wd(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,Cd().get("IS_NODE")&&rh("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(t){return[2,this.readSync(e)]}))}))},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?fv(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return xp(e)}))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return Zh(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return Kp.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return Sd(this,void 0,void 0,(function(){var t;return Ad(this,(function(n){return t=gp(),e(),[2,{kernelMs:gp()-t}]}))}))},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:Kp.keep(e.clone()),imag:Kp.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(iA(e,"slice"),Wm(e.shape,t,n)){var r=Um(t,e.strides),o=Ud(n);return Sh(this.readSync(e.dataId).subarray(r,r+o),n,e.dtype)}for(var i=Zh(n,e.dtype),a=this.bufferSync(e),s=0;s<i.size;++s){var l=i.indexToLoc(s).map((function(e,n){return e+t[n]}));i.values[s]=a.get.apply(a,l)}return i.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){iA(e,"stridedSlice");var o=Lm(t,n,r);if(o.some((function(e){return 0===e})))return Sh([],o);for(var i=Zh(o,e.dtype),a=this.bufferSync(e),s=0;s<i.size;s++){for(var l=i.indexToLoc(s),u=new Array(l.length),c=0;c<u.length;c++)u[c]=l[c]*r[c]+t[c];i.set.apply(i,[a.get.apply(a,u)].concat(l))}return i.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=Zh([e.size,e.size],e.dtype),r=n.values,o=0;o<t.length;o++)r[o*e.size+o]=t[o];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,i=0;i<e.rank;i++)i!==t&&(r[o++]=e.shape[i]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var l=new Array(n);for(i=0;i<l.length;i++)a[t]=i,l[i]=this.slice(e,a,s).reshape(r);return l},t.prototype.reverse=function(e,t){iA(e,"reverse");for(var n=Zh(e.shape,e.dtype),r=this.bufferSync(e),o=function(o){var i=n.indexToLoc(o),a=i.slice();t.forEach((function(t){return a[t]=e.shape[t]-1-a[t]})),n.set.apply(n,[r.get.apply(r,a)].concat(i))},i=0;i<n.size;i++)o(i);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map((function(e){return xh(e)})),o=e.map((function(e){return wh(e)}));return bh(this.concat(r,t),this.concat(o,t))}var i=e.map((function(e){var n=Ud(e.shape.slice(t));return e.as2D(-1,n)})),a=gh(i.map((function(e){return e.shape})),1),s=Zh(a,e[0].dtype).values;if(1===i[0].shape[0]){var l=0;i.forEach((function(e){s.set(n.readSync(e.dataId),l),l+=e.size}))}else{var u=0;i.forEach((function(e){for(var t=n.readSync(e.dataId),r=0,o=0;o<e.shape[0];++o)for(var i=o*a[1]+u,l=0;l<e.shape[1];++l)s[i+l]=t[r++];u+=e.shape[1]}))}var c=gh(e.map((function(e){return e.shape})),t);return Sh(s,c,e[0].dtype)},t.prototype.neg=function(e){return iA(e,"neg"),this.multiply(kh(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e+n,imag:t+r}})):this.broadcastedBinaryOp(e,t,zp(e.dtype,t.dtype),(function(e,t){return e+t}))},t.prototype.addN=function(e){var t=this;iA(e,"addN");for(var n=e.map((function(e){return t.readSync(e.dataId)})),r=Zh(e[0].shape,e[0].dtype),o=r.values,i=0;i<e.length;i++)for(var a=n[i],s=0;s<o.length;s++)o[s]+=a[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=Yd([t],e.shape),r=this.max(e,n),o=dh(r.shape,n),i=this.subtract(e,r.reshape(o)),a=this.exp(i),s=this.sum(a,n).reshape(o);return this.realDivide(a,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e-n,imag:t-r}})):this.broadcastedBinaryOp(e,t,zp(e.dtype,t.dtype),(function(e,t){return e-t}))},t.prototype.pow=function(e,t){return iA([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.pow(e,t)}))},t.prototype.batchMatMul=function(e,t,n,r){iA([e,t],"matMul");for(var o=n?e.shape[1]:e.shape[2],i=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],s=e.shape[0],l=this.readSync(e.dataId),u=this.readSync(t.dataId),c=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],d=c[0],p=c[1],f=c[2],h=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],m=h[0],v=h[1],g=h[2],y=i*a,b=Zh([s,i,a],e.dtype),x=b.values,w=this.blockSize,S=0;S<s;S++)for(var A=0;A<i;A+=w)for(var k=0;k<a;k+=w)for(var C=0;C<o;C+=w)for(var E=Math.min(A+w,i),_=Math.min(k+w,a),R=Math.min(C+w,o),T=A;T<E;T++)for(var I=k;I<_;I++){for(var P=0,O=C;O<R;O++)P+=l[S*d+T*p+O*f]*u[O*m+I*v+S*g];x[S*y+(T*a+I)]+=P}return b.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,i=e.bias,a=e.activation,s=e.preluActivationWeights,l=this.batchMatMul(t,n,r,o);return i&&(l=this.add(l,i)),a&&(l=aA(this,l,a,s)),l},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})):this.broadcastedBinaryOp(e,t,zp(e.dtype,t.dtype),(function(e,t){return e*t}))},t.prototype.realDivide=function(e,t){return iA([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",(function(e,t){return e/t}))},t.prototype.floorDiv=function(e,t){return iA([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",(function(e,t){return Math.floor(e/t)}))},t.prototype.sum=function(e,t){iA(e,"sum"),ph("sum",t,e.rank);for(var n=ch(e.shape,t),r=n[0],o=n[1],i=Ih(r,zp(e.dtype,"int32")),a=Ud(o),s=this.readSync(i.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*a,d=0,p=0;p<a;++p)d+=l[c+p];s[u]=d}return i},t.prototype.prod=function(e,t){iA(e,"sum");for(var n=ch(e.shape,t),r=n[0],o=n[1],i=Ih(r,zp(e.dtype,"int32")),a=Ud(o),s=this.readSync(i.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*a,d=1,p=0;p<a;++p)d*=l[c+p];s[u]=d}return i},t.prototype.unsortedSegmentSum=function(e,t,n){iA(e,"unsortedSegmentSum");for(var r=[],o=e.rank-t.rank,i=0;i<o;++i)t=t.expandDims(i+1);for(i=0;i<n;++i){var a=kh(i,"int32"),s=Vx(a,t).asType("float32").mul(e).sum(0);r.push(s)}return Sm(r)},t.prototype.argMin=function(e,t){iA(e,"argMin");var n=[t];ph("argMin",n,e.rank);for(var r=ch(e.shape,n),o=r[0],i=r[1],a=Ih(o,"int32"),s=Ud(i),l=this.readSync(a.dataId),u=this.readSync(e.dataId),c=0;c<l.length;++c){for(var d=c*s,p=u[d],f=0,h=0;h<s;++h){var m=u[d+h];m<p&&(p=m,f=h)}l[c]=f}return a},t.prototype.argMax=function(e,t){iA(e,"argMax");var n=[t];ph("argMax",n,e.rank);for(var r=ch(e.shape,n),o=r[0],i=r[1],a=Ih(o,"int32"),s=Ud(i),l=this.readSync(a.dataId),u=this.readSync(e.dataId),c=0;c<l.length;++c){for(var d=c*s,p=u[d],f=0,h=0;h<s;++h){var m=u[d+h];m>p&&(p=m,f=h)}l[c]=f}return a},t.prototype.cumsum=function(e,t,n,r){if(iA(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var o=zp(e.dtype,"int32"),i=Ih(e.shape,o),a=this.readSync(i.dataId),s=this.readSync(e.dataId),l=e.shape[e.rank-1],u=r?function(e,t){return e+l-t-1}:function(e,t){return e+t},c=0;c<s.length;c+=l)for(var d=0;d<l;d++){var p=u(c,d);if(0===d)a[p]=n?0:s[p];else{var f=u(c,d-1);a[p]=n?s[f]+a[f]:s[p]+a[f]}}return i},t.prototype.equal=function(e,t){return iA([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e===t?1:0}))},t.prototype.notEqual=function(e,t){return iA([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e!==t?1:0}))},t.prototype.less=function(e,t){return iA([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<t?1:0}))},t.prototype.lessEqual=function(e,t){return iA([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<=t?1:0}))},t.prototype.greater=function(e,t){return iA([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>t?1:0}))},t.prototype.greaterEqual=function(e,t){return iA([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>=t?1:0}))},t.prototype.logicalNot=function(e){iA(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return iA([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e&&t}))},t.prototype.logicalOr=function(e,t){return iA([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e||t}))},t.prototype.select=function(e,t,n){iA([e,t,n],"select");for(var r=this.readSync(e.dataId),o=this.readSync(t.dataId),i=this.readSync(n.dataId),a=Ih(t.shape,zp(t.dtype,n.dtype)),s=this.readSync(a.dataId),l=0,u=0===e.rank||e.rank>1||1===t.rank?1:Ud(t.shape.slice(1)),c=0;c<r.length;c++)for(var d=0;d<u;d++)1===r[c]?s[l++]=o[c]:s[l++]=i[c];return a},t.prototype.where=function(e){iA([e],"where");var t=this.readSync(e.dataId);return Rv(e.shape,t)},t.prototype.topk=function(e,t,n){return iA(e,"topk"),_v(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){iA(e,"min"),ph("min",t,e.rank);for(var n=ch(e.shape,t),r=n[0],o=n[1],i=Ih(r,e.dtype),a=Ud(o),s=this.readSync(i.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*a,d=l[c],p=0;p<a;++p){var f=l[c+p];f<d&&(d=f)}s[u]=d}return i},t.prototype.minimum=function(e,t){return iA([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.min(e,t)}))},t.prototype.mod=function(e,t){return iA([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}))},t.prototype.max=function(e,t){iA(e,"max"),ph("max",t,e.rank);for(var n=ch(e.shape,t),r=n[0],o=n[1],i=Ih(r,e.dtype),a=Ud(o),s=this.readSync(i.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*a,d=l[c],p=0;p<a;++p){var f=l[c+p];f>d&&(d=f)}s[u]=d}return i},t.prototype.maximum=function(e,t){return iA([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.max(e,t)}))},t.prototype.all=function(e,t){iA(e,"all"),ph("all",t,e.rank);for(var n=ch(e.shape,t),r=n[0],o=n[1],i=Ih(r,e.dtype),a=Ud(o),s=this.readSync(i.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*a,d=l[c],p=0;p<a;++p){var f=l[c+p];d=d&&f}s[u]=d}return i},t.prototype.any=function(e,t){iA(e,"any"),ph("any",t,e.rank);for(var n=ch(e.shape,t),r=n[0],o=n[1],i=Ih(r,e.dtype),a=Ud(o),s=this.readSync(i.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*a,d=l[c],p=0;p<a;++p){var f=l[c+p];d=d||f}s[u]=d}return i},t.prototype.squaredDifference=function(e,t){return iA([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e-t;return n*n}))},t.prototype.ceil=function(e){iA(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){iA(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){iA(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){iA(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){iA(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){iA(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){iA(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=Math.floor(t[r]);t[r]-o<.5?n[r]=Math.floor(t[r]):t[r]-o>.5?n[r]=Math.ceil(t[r]):n[r]=o%2==0?o:o+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){iA(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){iA(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){iA(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){iA(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log1p(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){iA(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){iA(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=1/Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){iA(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){iA(e,"relu");for(var t=Ih(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.max(0,r[o]);return t},t.prototype.relu6=function(e){iA(e,"relu");for(var t=Ih(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.min(Math.max(0,r[o]),6);return t},t.prototype.prelu=function(e,t){return iA([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return e<0?t*e:e}))},t.prototype.elu=function(e){iA(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=n[r];t[r]=o>=0?o:Math.exp(o)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){iA([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),o=this.readSync(e.dataId),i=0;i<r.length;++i){var a=r[i];n[i]=a>=1?o[i]:o[i]*(a+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){iA(e,"selu");for(var t=Uy,n=Vy,r=new Float32Array(e.size),o=this.readSync(e.dataId),i=0;i<o.length;++i){var a=o[i];r[i]=a>=0?n*a:t*(Math.exp(a)-1)}return this.makeOutput(r,e.shape,"float32")},t.prototype.clip=function(e,t,n){iA(e,"clip");for(var r=new Float32Array(e.size),o=this.readSync(e.dataId),i=0;i<o.length;++i){var a=o[i];r[i]=a>n?n:a<t?t:a}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var o=n[2*r],i=n[2*r+1];t[r]=Math.hypot(o,i)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){iA(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){iA(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){iA(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var i,a=r[o]>-t,s=r[o]<t,l=Math.exp(r[o]);i=s?l:a?r[o]:Math.log(1+l),n[o]=i}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){iA(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){iA(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){iA(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){iA(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){iA(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){iA(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return iA([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.atan2(e,t)}))},t.prototype.sinh=function(e){iA(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){iA(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){iA(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=$d(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){iA(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){iA(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){iA(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){iA(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=Math.sign(n[r]),i=Math.abs(n[r]),a=1/(1+.3275911*i);t[r]=o*(1-((((1.061405429*a-1.453152027)*a+1.421413741)*a-.284496736)*a+.254829592)*a*Math.exp(-i*i))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),iA(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var i=r[o];isNaN(i)?n[o]=NaN:n[o]=i>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights,s=this.conv2d(t,n,r);return o&&(s=this.add(s,o)),i&&(s=aA(this,s,i,a)),s},t.prototype.conv2d=function(e,t,n){iA([e,t],"conv2d");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u="channelsLast"===n.dataFormat,c=Zh(n.outShape,e.dtype),d=e.strides[0],p=u?e.strides[1]:e.strides[2],f=u?e.strides[2]:1,h=u?1:e.strides[1],m=c.strides[0],v=u?c.strides[1]:c.strides[2],g=u?c.strides[2]:1,y=u?1:c.strides[1],b=this.readSync(e.dataId),x=this.readSync(t.dataId),w=c.values,S=0;S<n.batchSize;++S)for(var A=S*d,k=S*m,C=0;C<n.outHeight;++C)for(var E=k+C*v,_=C*n.strideHeight-l,R=0;R<r;R++){var T=_+R*i;if(!(T<0||T>=n.inHeight))for(var I=R*t.strides[0],P=A+T*p,O=0;O<n.outWidth;++O)for(var M=E+O*g,N=O*n.strideWidth-s,D=0;D<o;D++){var F=N+D*a;if(!(F<0||F>=n.inWidth))for(var j=P+F*f,L=I+D*t.strides[1],B=0;B<n.inChannels;++B){for(var z=b[j+B*h],W=0;W<n.outChannels;++W)w[M+W*y]+=z*x[L+W];L+=n.outChannels}}}return c.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,o=n.filterHeight,i=n.filterWidth,a=n.dilationDepth,s=n.dilationHeight,l=n.dilationWidth,u=n.padInfo.front,c=n.padInfo.left,d=n.padInfo.top,p=Zh(n.outShape,e.dtype),f=this.readSync(e.dataId),h=this.readSync(t.dataId),m=p.values,v=0;v<n.batchSize;++v)for(var g=v*e.strides[0],y=v*p.strides[0],b=0;b<n.outDepth;++b)for(var x=y+b*p.strides[1],w=b*n.strideDepth-u,S=0;S<r;S++){var A=w+S*a;if(!(A<0||A>=n.inDepth))for(var k=S*t.strides[0],C=g+A*e.strides[1],E=0;E<n.outHeight;++E)for(var _=x+E*p.strides[2],R=E*n.strideHeight-d,T=0;T<o;T++){var I=R+T*s;if(!(I<0||I>=n.inHeight))for(var P=k+T*t.strides[1],O=C+I*e.strides[2],M=0;M<n.outWidth;++M)for(var N=_+M*n.outChannels,D=M*n.strideWidth-c,F=0;F<i;F++){var j=D+F*l;if(!(j<0||j>=n.inWidth))for(var L=P+F*t.strides[2],B=O+j*n.inChannels,z=L,W=0;W<n.inChannels;++W){for(var U=f[B+W],V=0;V<n.outChannels;++V)m[N+V]+=U*h[z+V];z+=n.outChannels}}}}return p.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){iA([e,t],"conv2dDerInput");for(var r=Zh(n.inShape,"float32"),o=r.values,i=this.readSync(e.dataId),a=this.readSync(t.dataId),s=t.strides,l=s[0],u=s[1],c=s[2],d=n.batchSize,p=n.filterHeight,f=n.filterWidth,h=n.inChannels,m=n.inHeight,v=n.inWidth,g=n.outChannels,y=n.outHeight,b=n.outWidth,x=n.strideHeight,w=n.strideWidth,S=n.dataFormat,A=p-1-n.padInfo.top,k=f-1-n.padInfo.left,C="channelsLast"===S,E=r.strides[0],_=C?r.strides[1]:r.strides[2],R=C?r.strides[2]:1,T=C?1:r.strides[1],I=e.strides[0],P=C?e.strides[1]:e.strides[2],O=C?e.strides[2]:1,M=C?1:e.strides[1],N=0;N<d;++N)for(var D=0;D<h;++D)for(var F=0;F<m;++F)for(var j=F-A,L=Math.max(0,Math.ceil(j/x)),B=Math.min(y,(p+j)/x),z=0;z<v;++z){for(var W=z-k,U=Math.max(0,Math.ceil(W/w)),V=Math.min(b,(f+W)/w),H=0,$=L;$<B;++$)for(var G=$*x-j,q=U;q<V;++q)for(var K=I*N+P*$+O*q,X=l*(p-1-G)+u*(f-1-(q*w-W))+c*D,Y=0;Y<g;++Y)H+=i[K+M*Y]*a[X+Y];o[E*N+_*F+R*z+T*D]=H}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=Zh(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],l=i[2],u=i[3],c=this.readSync(e.dataId),d=e.strides,p=d[0],f=d[1],h=d[2],m=d[3],v=this.readSync(t.dataId),g=t.strides,y=g[0],b=g[1],x=g[2],w=g[3],S=n.batchSize,A=n.filterDepth,k=n.filterHeight,C=n.filterWidth,E=n.inChannels,_=n.inDepth,R=n.inHeight,T=n.inWidth,I=n.outChannels,P=n.outDepth,O=n.outHeight,M=n.outWidth,N=n.strideDepth,D=n.strideHeight,F=n.strideWidth,j=A-1-n.padInfo.front,L=k-1-n.padInfo.top,B=C-1-n.padInfo.left,z=0;z<S;++z)for(var W=0;W<E;++W)for(var U=0;U<_;++U)for(var V=U-j,H=Math.max(0,Math.ceil(V/N)),$=Math.min(P,(A+V)/N),G=0;G<R;++G)for(var q=G-L,K=Math.max(0,Math.ceil(q/D)),X=Math.min(O,(k+q)/D),Y=0;Y<T;++Y){for(var Q=Y-B,J=Math.max(0,Math.ceil(Q/F)),Z=Math.min(M,(C+Q)/F),ee=0,te=H;te<$;++te)for(var ne=te*N-V,re=K;re<X;++re)for(var oe=re*D-q,ie=J;ie<Z;++ie)for(var ae=p*z+f*te+h*re+m*ie,se=y*(A-1-ne)+b*(k-1-oe)+x*(C-1-(ie*F-Q))+w*W,le=0;le<I;++le)ee+=c[ae+le]*v[se+le];o[a*z+s*U+l*G+u*Y+W]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){iA([e,t],"conv2dDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s="channelsLast"===n.dataFormat,l=Zh(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,d=this.bufferSync(e),p=this.bufferSync(t),f=0;f<i;++f)for(var h=Math.max(0,Math.ceil((c-f)/r)),m=Math.min(n.outHeight,(n.inHeight+c-f)/r),v=0;v<a;++v)for(var g=Math.max(0,Math.ceil((u-v)/o)),y=Math.min(n.outWidth,(n.inWidth+u-v)/o),b=0;b<n.inChannels;++b)for(var x=0;x<n.outChannels;++x){for(var w=0,S=0;S<n.batchSize;++S)for(var A=h;A<m;++A)for(var k=f+A*r-c,C=g;C<y;++C){var E=v+C*o-u;w+=s?d.get(S,k,E,b)*p.get(S,A,C,x):d.get(S,b,k,E)*p.get(S,x,A,C)}l.set(w,f,v,b,x)}return l.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,o=n.strideHeight,i=n.strideWidth,a=n.filterDepth,s=n.filterHeight,l=n.filterWidth,u=Zh(n.filterShape,"float32"),c=u.values,d=u.strides,p=d[0],f=d[1],h=d[2],m=d[3],v=this.readSync(t.dataId),g=t.strides,y=g[0],b=g[1],x=g[2],w=g[3],S=this.readSync(e.dataId),A=e.strides,k=A[0],C=A[1],E=A[2],_=A[3],R=n.padInfo.front,T=n.padInfo.left,I=n.padInfo.top,P=0;P<a;++P)for(var O=Math.max(0,Math.ceil((R-P)/r)),M=Math.min(n.outDepth,(n.inDepth+R-P)/r),N=P*p,D=0;D<s;++D)for(var F=Math.max(0,Math.ceil((I-D)/o)),j=Math.min(n.outHeight,(n.inHeight+I-D)/o),L=D*f+N,B=0;B<l;++B)for(var z=Math.max(0,Math.ceil((T-B)/i)),W=Math.min(n.outWidth,(n.inWidth+T-B)/i),U=B*h+L,V=0;V<n.inChannels;++V)for(var H=V*m+U,$=0;$<n.outChannels;++$){for(var G=0,q=0;q<n.batchSize;++q)for(var K=q*k,X=q*y,Y=O;Y<M;++Y)for(var Q=(P+Y*r-R)*C+K,J=Y*b+X,Z=F;Z<j;++Z)for(var ee=(D+Z*o-I)*E+Q,te=Z*x+J,ne=z;ne<W;++ne){var re=ne*w+te;G+=S[(B+ne*i-T)*_+ee+V]*v[re+$]}c[H+$]=G}return u.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return o&&(s=this.add(s,o)),i&&(s=aA(this,s,i,a)),s},t.prototype.depthwiseConv2D=function(e,t,n){iA([e,t],"depthwiseConv2D");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u=n.outChannels/n.inChannels,c=Zh(n.outShape,e.dtype),d=this.readSync(e.dataId),p=this.readSync(t.dataId),f=c.values,h=0;h<n.batchSize;++h)for(var m=h*e.strides[0],v=h*c.strides[0],g=0;g<n.outHeight;++g)for(var y=v+g*c.strides[1],b=g*n.strideHeight-s,x=0;x<r;++x){var w=b+x*i;if(!(w<0||w>=n.inHeight))for(var S=x*t.strides[0],A=m+w*e.strides[1],k=0;k<n.outWidth;++k)for(var C=y+k*c.strides[2],E=k*n.strideWidth-l,_=0;_<o;++_){var R=E+_*a;if(!(R<0||R>=n.inWidth))for(var T=S+_*t.strides[1],I=A+R*n.inChannels,P=C,O=T,M=0;M<n.inChannels;++M){for(var N=d[I+M],D=0;D<u;++D)f[P+D]+=N*p[O+D];P+=u,O+=u}}}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){iA([e,t],"depthwiseConv2DDerInput");for(var r=Zh(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],l=i[2],u=this.readSync(e.dataId),c=e.strides,d=c[0],p=c[1],f=c[2],h=this.readSync(t.dataId),m=t.strides,v=m[0],g=m[1],y=m[2],b=n.batchSize,x=n.filterHeight,w=n.filterWidth,S=n.inChannels,A=n.inHeight,k=n.inWidth,C=n.outChannels,E=n.outHeight,_=n.outWidth,R=n.strideHeight,T=n.strideWidth,I=x-1-n.padInfo.top,P=w-1-n.padInfo.left,O=C/S,M=0;M<b;++M)for(var N=0;N<S;++N)for(var D=0;D<A;++D)for(var F=D-I,j=Math.max(0,Math.ceil(F/R)),L=Math.min(E,(x+F)/R),B=0;B<k;++B){for(var z=B-P,W=Math.max(0,Math.ceil(z/T)),U=Math.min(_,(w+z)/T),V=0,H=j;H<L;++H)for(var $=H*R-F,G=W;G<U;++G)for(var q=d*M+p*H+f*G,K=v*(x-1-$)+g*(w-1-(G*T-z))+y*N,X=0;X<O;++X)V+=u[q+(N*O+X)]*h[K+X];o[a*M+s*D+l*B+N]=V}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){iA([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=Zh(n.filterShape,"float32"),l=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,d=this.bufferSync(e),p=this.bufferSync(t),f=0;f<i;++f)for(var h=Math.max(0,Math.ceil((u-f)/r)),m=Math.min(n.outHeight,(n.inHeight+u-f)/r),v=0;v<a;++v)for(var g=Math.max(0,Math.ceil((l-v)/o)),y=Math.min(n.outWidth,(n.inWidth+l-v)/o),b=0;b<n.outChannels;++b){for(var x=Math.trunc(b/c),w=b%c,S=0,A=0;A<n.batchSize;++A)for(var k=h;k<m;++k)for(var C=f+k*r-u,E=g;E<y;++E){var _=v+E*o-l;S+=d.get(A,C,_,x)*p.get(A,k,E,b)}s.set(S,f,v,x,w)}return s.toTensor()},t.prototype.tile=function(e,t){return iA(e,"tile"),Ev(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){iA(e,"pad");var r=t.map((function(t,n){return t[0]+e.shape[n]+t[1]})),o=t.map((function(e){return e[0]})),i=this.bufferSync(e),a=Zh(r,e.dtype);0!==n&&a.values.fill(n);for(var s=0;s<e.size;s++){var l=i.indexToLoc(s),u=l.map((function(e,t){return e+o[t]}));a.set.apply(a,[i.get.apply(i,l)].concat(u))}return a.toTensor()},t.prototype.transpose=function(e,t){iA(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var o=this.readSync(e.dataId),i=Zh(n,e.dtype),a=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=a.indexToLoc(r),l=new Array(s.length),u=0;u<l.length;u++)l[u]=s[t[u]];var c=i.locToIndex(l);i.values[c]=o[r]}return i.toTensor()},t.prototype.gather=function(e,t,n){iA([e,t],"gather");var r=e.shape.slice(),o=this.readSync(t.dataId);r[n]=o.length;for(var i=Zh(r,e.dtype),a=this.bufferSync(e),s=0;s<i.size;++s){var l=i.indexToLoc(s),u=l.slice();u[n]=o[l[n]];var c=a.locToIndex(u);i.values[s]=a.values[c]}return i.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){iA([e],"batchToSpaceND");var r=t.reduce((function(e,t){return e*t})),o=Em(e.shape,t,r),i=_m(o.length,t.length),a=Rm(e.shape,t,r),s=Tm(n,t.length),l=Im(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,l)},t.prototype.spaceToBatchND=function(e,t,n){iA([e],"spaceToBatchND");var r=t.reduce((function(e,t){return e*t})),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=Em(a.shape,t,r,!1),l=_m(s.length,t.length,!1),u=Rm(a.shape,t,r,!1);return a.reshape(s).transpose(l).reshape(u)},t.prototype.pool=function(e,t,n){iA(e,"pool");for(var r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,l=t.effectiveFilterWidth,u=t.padInfo.top,c=t.padInfo.left,d="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,p=this.readSync(e.dataId),f=Zh(t.outShape,e.dtype),h=f.values,m=t.outShape[1]*t.outShape[2]*t.outShape[3],v=t.outShape[2]*t.outShape[3],g=t.outShape[3],y=0;y<t.batchSize;++y)for(var b=y*m,x=y*e.strides[0],w=0;w<t.inChannels;++w)for(var S=0;S<t.outHeight;++S)for(var A=S*r-u,k=Math.max(0,A),C=Math.min(t.inHeight,s+A),E=b+S*v,_=0;_<t.outWidth;++_){for(var R=_*o-c,T=Math.max(0,R),I=Math.min(t.inWidth,l+R),P=d,O=0,M=0,N=k;N<C;N+=i){for(var D=x+N*e.strides[1],F=T;F<I;F+=a){var j=p[D+F*e.strides[2]+w];"max"===n&&j>P?P=j:"avg"===n&&(O+=j,M++)}if(isNaN(P))break}h[E+_*g+w]="avg"===n?O/M:P}return f.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=Zh(t.outShape,"int32"),r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,l=t.effectiveFilterWidth,u=t.padInfo.top,c=t.padInfo.left,d=this.bufferSync(e),p=0;p<t.batchSize;++p)for(var f=0;f<t.inChannels;++f)for(var h=0;h<t.outHeight;++h){for(var m=h*r-u,v=m;v<0;)v+=i;for(var g=Math.min(t.inHeight,s+m),y=0;y<t.outWidth;++y){for(var b=y*o-c,x=b;x<0;)x+=a;for(var w=Math.min(t.inWidth,l+b),S=Number.NEGATIVE_INFINITY,A=-1,k=v;k<g;k+=i)for(var C=k-m,E=x;E<w;E+=a){var _=E-b,R=d.get(p,k,E,f);R>S&&(S=R,A=C*l+_)}n.set(A,p,h,y,f)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){iA([t,n],"maxPoolBackprop");for(var o=this.maxPoolPositions(t,r),i=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,l=r.dilationWidth,u=r.effectiveFilterHeight,c=r.effectiveFilterWidth,d=c-1-r.padInfo.left,p=u-1-r.padInfo.top,f=Zh(t.shape,"float32"),h=this.bufferSync(o),m=this.bufferSync(e),v=0;v<r.batchSize;++v)for(var g=0;g<r.inChannels;++g)for(var y=0;y<r.inHeight;++y)for(var b=0;b<r.inWidth;++b){for(var x=y-p,w=b-d,S=0,A=0;A<u;A+=s){var k=(x+A)/i;if(!(k<0||k>=r.outHeight||Math.floor(k)!==k))for(var C=0;C<c;C+=l){var E=(w+C)/a;if(!(E<0||E>=r.outWidth||Math.floor(E)!==E)){var _=u*c-1-h.get(v,k,E,g)===A*c+C?1:0;0!==_&&(S+=m.get(v,k,E,g)*_)}}}f.set(S,v,y,b,g)}return f.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){iA([e,t],"avgPoolBackprop");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=n.dilationHeight,l=n.dilationWidth,u=n.effectiveFilterHeight,c=n.effectiveFilterWidth,d=c-1-n.padInfo.left,p=u-1-n.padInfo.top,f=Zh(t.shape,"float32"),h=1/(i*a),m=this.bufferSync(e),v=0;v<n.batchSize;++v)for(var g=0;g<n.inChannels;++g)for(var y=0;y<n.inHeight;++y)for(var b=0;b<n.inWidth;++b){for(var x=y-p,w=b-d,S=0,A=0;A<u;A+=s){var k=(x+A)/r;if(!(k<0||k>=n.outHeight||Math.floor(k)!==k))for(var C=0;C<c;C+=l){var E=(w+C)/o;E<0||E>=n.outWidth||Math.floor(E)!==E||(S+=m.get(v,k,E,g))}}f.set(S*h,v,y,b,g)}return f.toTensor()},t.prototype.pool3d=function(e,t,n){iA(e,"pool3d");for(var r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,f=t.padInfo.top,h=t.padInfo.left,m="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=this.readSync(e.dataId),g=Zh(t.outShape,e.dtype),y=g.values,b=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],x=t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[3]*t.outShape[4],S=t.outShape[4],A=0;A<t.batchSize;++A)for(var k=A*b,C=A*e.strides[0],E=0;E<t.inChannels;++E)for(var _=0;_<t.outDepth;++_){for(var R=_*r-p,T=R;T<0;)T+=a;for(var I=Math.min(t.inDepth,u+R),P=k+_*x,O=0;O<t.outHeight;++O){for(var M=O*o-f,N=M;N<0;)N+=s;for(var D=Math.min(t.inHeight,c+M),F=P+O*w,j=0;j<t.outWidth;++j){for(var L=j*i-h,B=L;B<0;)B+=l;for(var z=Math.min(t.inWidth,d+L),W=F+j*S,U=m,V=0,H=0,$=T;$<I;$+=a){for(var G=C+$*e.strides[1],q=N;q<D;q+=s){for(var K=G+q*e.strides[2],X=B;X<z;X+=l){var Y=v[K+X*e.strides[3]+E];if("max"===n&&Y>U?U=Y:"avg"===n&&(V+=Y,H++),isNaN(U))break}if(isNaN(U))break}if(isNaN(U))break}y[W+E]="avg"===n?V/H:U}}}return g.toTensor()},t.prototype.avgPool3d=function(e,t){return iA(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){iA([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,o=n.strideHeight,i=n.strideWidth,a=n.filterDepth,s=n.filterHeight,l=n.filterWidth,u=n.dilationDepth,c=n.dilationHeight,d=n.dilationWidth,p=n.effectiveFilterDepth,f=n.effectiveFilterHeight,h=n.effectiveFilterWidth,m=p-1-n.padInfo.front,v=h-1-n.padInfo.left,g=f-1-n.padInfo.top,y=Zh(t.shape,"float32"),b=1/(a*s*l),x=this.bufferSync(e),w=0;w<n.batchSize;++w)for(var S=0;S<n.inChannels;++S)for(var A=0;A<n.inDepth;++A)for(var k=0;k<n.inHeight;++k)for(var C=0;C<n.inWidth;++C){for(var E=A-m,_=k-g,R=C-v,T=0,I=0;I<p;I+=u){var P=(E+I)/r;if(!(P<0||P>=n.outDepth||Math.floor(P)!==P))for(var O=0;O<f;O+=c){var M=(_+O)/o;if(!(M<0||M>=n.outHeight||Math.floor(M)!==M))for(var N=0;N<h;N+=d){var D=(R+N)/i;D<0||D>=n.outWidth||Math.floor(D)!==D||(T+=x.get(w,P,M,D,S))}}}y.set(T*b,w,A,k,C,S)}return y.toTensor()},t.prototype.maxPool3d=function(e,t){return iA(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=Zh(t.outShape,"int32"),r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,f=t.padInfo.top,h=t.padInfo.left,m=this.bufferSync(e),v=0;v<t.batchSize;++v)for(var g=0;g<t.inChannels;++g)for(var y=0;y<t.outDepth;++y){for(var b=y*r-p,x=b;x<0;)x+=a;for(var w=Math.min(t.inDepth,u+b),S=0;S<t.outHeight;++S){for(var A=S*o-f,k=A;k<0;)k+=s;for(var C=Math.min(t.inHeight,c+A),E=0;E<t.outWidth;++E){for(var _=E*i-h,R=_;R<0;)R+=l;for(var T=Math.min(t.inWidth,d+_),I=Number.NEGATIVE_INFINITY,P=-1,O=x;O<w;O+=a)for(var M=O-b,N=k;N<C;N+=s)for(var D=N-A,F=R;F<T;F+=l){var j=F-_,L=m.get(v,O,N,F,g);L>=I&&(I=L,P=M*c*d+D*c+j)}n.set(P,v,y,S,E,g)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){iA([t,n],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(t,r),i=r.strideDepth,a=r.strideHeight,s=r.strideWidth,l=r.dilationDepth,u=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterDepth,p=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=d-1-r.padInfo.front,m=f-1-r.padInfo.left,v=p-1-r.padInfo.top,g=Zh(t.shape,"float32"),y=this.bufferSync(o),b=this.bufferSync(e),x=0;x<r.batchSize;++x)for(var w=0;w<r.inChannels;++w)for(var S=0;S<r.inDepth;++S)for(var A=0;A<r.inHeight;++A)for(var k=0;k<r.inWidth;++k){for(var C=S-h,E=A-v,_=k-m,R=0,T=0;T<d;T+=l){var I=(C+T)/i;if(!(I<0||I>=r.outDepth||Math.floor(I)!==I))for(var P=0;P<p;P+=u){var O=(E+P)/a;if(!(O<0||O>=r.outHeight||Math.floor(O)!==O))for(var M=0;M<f;M+=c){var N=(_+M)/s;if(!(N<0||N>=r.outWidth||Math.floor(N)!==N)){var D=d*p*f-1-y.get(x,I,O,N,w)===T*p*f+P*f+M?1:0;0!==D&&(R+=b.get(x,I,O,N,w)*D)}}}}g.set(R,x,S,A,k,w)}return g.toTensor()},t.prototype.cast=function(e,t){return cv(e,t,this)},t.prototype.reshape=function(e,t){return dv(e,t)},t.prototype.avgPool=function(e,t){return iA(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){iA(e,"resizeBilinear");for(var o=e.shape,i=o[0],a=o[1],s=o[2],l=o[3],u=this.readSync(e.dataId),c=new Float32Array(Ud([i,t,n,l])),d=[r&&t>1?a-1:a,r&&n>1?s-1:s],p=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=0,h=d[0]/p[0],m=d[1]/p[1],v=0;v<i;v++)for(var g=0;g<t;g++)for(var y=h*g,b=Math.floor(y),x=y-b,w=Math.min(a-1,Math.ceil(y)),S=v*e.strides[0]+b*e.strides[1],A=v*e.strides[0]+w*e.strides[1],k=0;k<n;k++)for(var C=m*k,E=Math.floor(C),_=C-E,R=Math.min(s-1,Math.ceil(C)),T=S+E*e.strides[2],I=A+E*e.strides[2],P=S+R*e.strides[2],O=A+R*e.strides[2],M=0;M<l;M++){var N=u[T+M],D=u[I+M],F=N+(u[P+M]-N)*_,j=F+(D+(u[O+M]-D)*_-F)*x;c[f++]=j}return Sh(c,[i,t,n,l])},t.prototype.resizeBilinearBackprop=function(e,t,n){iA([e,t],"resizeBilinearBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],l=e.shape,u=l[1],c=l[2],d=new Float32Array(o*i*a*s),p=[n&&u>1?i-1:i,n&&c>1?a-1:a],f=[n&&u>1?u-1:u,n&&c>1?c-1:c],h=p[0]/f[0],m=p[1]/f[1],v=this.readSync(e.dataId),g=0,y=0;y<o;y++)for(var b=y*t.strides[0],x=0;x<u;x++)for(var w=x*h,S=Math.floor(w),A=Math.min(Math.ceil(w),i-1),k=b+S*t.strides[1],C=b+A*t.strides[1],E=w-S,_=1-E,R=0;R<c;R++)for(var T=R*m,I=Math.floor(T),P=Math.min(Math.ceil(T),a-1),O=T-I,M=1-O,N=k+I*t.strides[2],D=k+P*t.strides[2],F=C+I*t.strides[2],j=C+P*t.strides[2],L=_*M,B=_*O,z=E*M,W=E*O,U=0;U<s;U++){var V=v[g++];d[N+U]+=V*L,d[D+U]+=V*B,d[F+U]+=V*z,d[j+U]+=V*W}return Rh(d,[o,a,i,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){iA(e,"resizeNearestNeighbor");for(var o=e.shape,i=o[0],a=o[1],s=o[2],l=o[3],u=this.readSync(e.dataId),c=new Float32Array(i*t*n*l),d=[r&&t>1?a-1:a,r&&n>1?s-1:s],p=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=d[0]/p[0],h=d[1]/p[1],m=0,v=0;v<i;v++)for(var g=v*e.strides[0],y=0;y<t;y++)for(var b=f*y,x=g+Math.min(a-1,r?Math.round(b):Math.floor(b))*e.strides[1],w=0;w<n;w++)for(var S=h*w,A=x+Math.min(s-1,r?Math.round(S):Math.floor(S))*e.strides[2],k=0;k<l;k++){var C=u[A+k];c[m++]=C}return Sh(c,[i,t,n,l],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){iA([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],l=e.shape,u=l[1],c=l[2],d=new Float32Array(o*i*a*s),p=this.readSync(e.dataId),f=[n&&u>1?i-1:i,n&&c>1?a-1:a],h=[n&&u>1?u-1:u,n&&c>1?c-1:c],m=f[0]/h[0],v=f[1]/h[1],g=1/m,y=1/v,b=2*Math.ceil(g)+2,x=2*Math.ceil(y)+2,w=0;w<o;w++)for(var S=w*t.strides[0],A=0;A<i;A++)for(var k=S+A*t.strides[1],C=Math.floor(A*g),E=Math.floor(C-b/2),_=0;_<a;_++)for(var R=k+_*t.strides[2],T=Math.floor(_*y),I=Math.floor(T-x/2),P=0;P<s;P++){for(var O=0,M=0;M<b;M++){var N=M+E;if(!(N<0||N>=u)){var D=S+N*e.strides[1],F=N*m;if(A===Math.min(i-1,n?Math.round(F):Math.floor(F)))for(var j=0;j<x;j++){var L=j+I;if(!(L<0||L>=c)){var B=D+L*e.strides[2],z=L*v;_===Math.min(a-1,n?Math.round(z):Math.floor(z))&&(O+=p[B+P])}}}}d[R+P]=O}return Rh(d,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,i){iA([e,t,n,o,i],"batchNorm");for(var a=this.readSync(e.dataId),s=this.readSync(t.dataId),l=this.readSync(n.dataId),u=o?this.readSync(o.dataId):new Float32Array([1]),c=i?this.readSync(i.dataId):new Float32Array([0]),d=new Float32Array(a.length),p=c.length,f=u.length,h=l.length,m=s.length,v=0,g=0,y=0,b=0,x=0;x<a.length;++x)d[x]=c[v++]+(a[x]-s[g++])*u[y++]/Math.sqrt(l[b++]+r),v>=p&&(v=0),g>=m&&(g=0),y>=f&&(y=0),b>=h&&(b=0);return Rh(d,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){iA(e,"localResponseNormalization4D");var i=e.shape[3],a=i-1,s=this.readSync(e.dataId),l=e.size,u=new Float32Array(l);function c(e){for(var n=e%i,r=e-n+Math.max(0,n-t),o=e-n+Math.min(n+t,a),l=0;r<=o;r++){var u=s[r];l+=u*u}return l}for(var d=0;d<l;d++){var p=c(d),f=s[d]*Math.pow(n+r*p,-o);u[d]=f}return Rh(u,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,o,i,a){iA(e,"LRNGrad");for(var s=e.shape[3],l=this.readSync(e.dataId),u=this.readSync(t.dataId),c=this.readSync(n.dataId),d=new Float32Array(e.size),p=e.size,f=0;f<p;f++){for(var h=f%s,m=f-h+Math.max(0,h-r),v=f-h+Math.min(s,h+r+1),g=0,y=m;y<v;y++)g+=Math.pow(u[y],2);for(g=i*g+o,y=m;y<v;y++){var b=-2*i*a*u[y]*c[f]/g;f===y&&(b+=Math.pow(g,-a)),b*=l[f],d[y]+=b}}return Rh(d,e.shape)},t.prototype.multinomial=function(e,t,n,r){iA(e,"multinomial");for(var o=t?e:Hm(e),i=o.shape[0],a=o.shape[1],s=Ih([i,n],"int32"),l=this.readSync(s.dataId),u=this.readSync(o.dataId),c=0;c<i;++c){var d=c*a,p=new Float32Array(a-1);p[0]=u[d];for(var f=1;f<p.length;++f)p[f]=p[f-1]+u[d+f];for(var h=Xh(r.toString()),m=c*n,v=0;v<n;++v){var g=h();l[m+v]=p.length;for(var y=0;y<p.length;y++)if(g<p[y]){l[m+v]=y;break}}}return s},t.prototype.oneHot=function(e,t,n,r){iA(e,"oneHot");var o=new Float32Array(e.size*t);o.fill(r);for(var i=this.readSync(e.dataId),a=0;a<e.size;++a)i[a]>=0&&i[a]<t&&(o[a*t+i[a]]=n);return Eh(o,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return iA(e,"nonMaxSuppression"),bv(this.readSync(e.dataId),this.readSync(t.dataId),n,r,o)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],o=Zh(e.shape,"float32"),i=Zh(e.shape,"float32"),a=xh(e).as2D(n,r),s=wh(e).as2D(n,r),l=0;l<n;l++)for(var u=a.slice([l,0],[1,r]),c=s.slice([l,0],[1,r]),d=bh(u,c),p=this.readSync(this.fftImpl(d,t).dataId),f=0;f<r;f++){var h=hv(p,f);o.values[l*r+f]=h.real,i.values[l*r+f]=h.imag}return bh(o.toTensor(),i.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var o=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(o=bh(xh(o).div(kh(r)),wh(o).div(kh(r)))),o}var i=this.readSync(e.dataId),a=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(i,r,t));return bh(a.real,a.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),o=t/2,i=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),a=bh(i.real,i.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),l=bh(s.real,s.imag).as1D();a=this.fftRadix2(a,o,n),l=this.fftRadix2(l,o,n);var u=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),o=0;o<Math.ceil(e/2);o++){var i=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(i),r[o]=Math.sin(i)}return{real:n,imag:r}}(t,n),c=bh(u.real,u.imag).mul(l),d=a.add(c),p=a.sub(c),f=xh(d).concat(xh(p)),h=wh(d).concat(wh(p));return bh(f,h).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),o=0;o<t;o++){for(var i=0,a=0,s=0;s<t;s++){var l=vv(o*s,t,n),u=hv(e,s);i+=u.real*l.real-u.imag*l.imag,a+=u.real*l.imag+u.imag*l.real}n&&(i/=t,a/=t),mv(r,i,a,o)}return r},t.prototype.depthToSpace=function(e,t,n){Ld("NHWC"===n,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n})),Ld(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));for(var r=e.shape[0],o=e.shape[1],i=e.shape[2],a=e.shape[3],s=o*t,l=i*t,u=a/(t*t),c=this.readSync(e.dataId),d=new Float32Array(r*s*l*u),p=0,f=0;f<r;++f)for(var h=0;h<s;++h)for(var m=Math.floor(h/t),v=h%t,g=0;g<l;++g)for(var y=Math.floor(g/t),b=(v*t+g%t)*u,x=0;x<u;++x){var w=x+b+a*(y+i*(m+o*f));d[p++]=c[w]}return Rh(d,[r,s,l,u])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var o=Qm(e.shape,t.shape),i=Zh(o,n),a=this.readSync(e.dataId),s=this.readSync(t.dataId),l=Xm(e.shape,o),u=Xm(t.shape,o),c=i.values;if(l.length+u.length===0)for(var d=0;d<c.length;++d)c[d]=r(a[d%a.length],s[d%s.length]);else{var p=this.bufferSync(e),f=this.bufferSync(t),h=function(n){var o=i.indexToLoc(n),d=o.slice(-e.rank);l.forEach((function(e){return d[e]=0}));var h=p.locToIndex(d),m=o.slice(-t.rank);u.forEach((function(e){return m[e]=0}));var v=f.locToIndex(m);c[n]=r(a[h],s[v])};for(d=0;d<c.length;++d)h(d)}return i.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=Qm(e.shape,t.shape),o=Zh(r,"float32"),i=Zh(r,"float32"),a=this.readSync(e.dataId),s=this.readSync(t.dataId),l=Xm(e.shape,r),u=Xm(t.shape,r),c=o.values,d=i.values;if(l.length+u.length===0)for(var p=0;p<c.length;p++){var f=p%a.length,h=p%s.length,m=n(a[2*f],a[2*f+1],s[2*h],s[2*h+1]);c[p]=m.real,d[p]=m.imag}else{var v=this.bufferSync(this.data.get(e.dataId).complexTensors.real),g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),y=function(r){var i=o.indexToLoc(r),p=i.slice(-e.rank);l.forEach((function(e){return p[e]=0}));var f=v.locToIndex(p),h=i.slice(-t.rank);u.forEach((function(e){return h[e]=0}));var m=g.locToIndex(h),y=n(a[2*f],a[2*f+1],s[2*m],s[2*m+1]);c[r]=y.real,d[r]=y.imag};for(p=0;p<c.length;p++)y(p)}return this.complex(o.toTensor(),i.toTensor())},t.prototype.split=function(e,t,n){return Cv(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,o,i){for(var a=e.shape,s=a[0],l=a[1],u=a[2],c=a[3],d=t.shape[0],p=r[0],f=r[1],h=Zh([d,p,f,c],"float32"),m=this.readSync(t.dataId),v=this.readSync(n.dataId),g=this.readSync(e.dataId),y=e.strides,b=h.strides,x=0;x<d;x++){var w=4*x,S=m[w],A=m[w+1],k=m[w+2],C=m[w+3],E=v[x];if(!(E>=s))for(var _=p>1?(k-S)*(l-1)/(p-1):0,R=f>1?(C-A)*(u-1)/(f-1):0,T=0;T<p;T++){var I=p>1?S*(l-1)+T*_:.5*(S+k)*(l-1);if(I<0||I>l-1)for(var P=0;P<f;P++)for(var O=0;O<c;O++){var M=O+P*b[2]+T*b[1]+x*b[0];h.values[M]=i}else if("bilinear"===o){var N=Math.floor(I),D=Math.ceil(I),F=I-N;for(P=0;P<f;P++)if(($=f>1?A*(u-1)+P*R:.5*(A+C)*(u-1))<0||$>u-1)for(O=0;O<c;O++)M=O+P*b[2]+T*b[1]+x*b[0],h.values[M]=i;else{var j=Math.floor($),L=Math.ceil($),B=$-j;for(O=0;O<c;O++){var z=g[M=O+j*y[2]+N*y[1]+E*y[0]],W=g[M=O+L*y[2]+N*y[1]+E*y[0]],U=g[M=O+j*y[2]+D*y[1]+E*y[0]],V=z+(W-z)*B,H=U+(g[M=O+L*y[2]+D*y[1]+E*y[0]]-U)*B;M=O+P*b[2]+T*b[1]+x*b[0],h.values[M]=V+(H-V)*F}}}else for(P=0;P<f;++P){var $;if(($=f>1?A*(u-1)+P*R:.5*(A+C)*(u-1))<0||$>u-1)for(O=0;O<c;O++)M=O+P*b[2]+T*b[1]+x*b[0],h.values[M]=i;else{var G=Math.round($),q=Math.round(I);for(O=0;O<c;O++){var K=O+G*y[2]+q*y[1]+E*y[0],X=O+P*b[2]+T*b[1]+x*b[0];h.values[X]=g[K]}}}}}return h.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var o=Dm(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.sliceSize,l=o.strides,u=o.outputSize;return this.scatter(e,t,n,u,s,a,i,l,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=Pm(e,t),i=o[0],a=o[1],s=o[2],l=o[3];if(0===a)return Sh([],i,e.dtype);for(var u=new Rp([a,s],e.dtype),c=this.readSync(t.dataId),d=this.readSync(e.dataId),p=0;p<a;p++){for(var f=[],h=0,m=0;m<r;m++){var v=c[p*r+m];h+=v*l[m],f.push(v)}if(h<0||h>=e.size/s)throw new Error("Invalid indices: "+f+" does not index into "+e.shape);for(var g=0;g<s;g++)u.values[p*s+g]=d[h*s+g]}return u.toTensor().reshape(i)},t.prototype.scatterND=function(e,t,n){var r=Dm(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,l=r.outputSize,u=kh(0);return this.scatter(e,t,n,l,a,i,o,s,u,!0)},t.prototype.fill=function(e,t,n){var r=Zd(n=n||up(t),Ud(e));return r.fill(t),Kp.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=Zd(e.dtype,Ud(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return pv(e,t,n)},t.prototype.scatter=function(e,t,n,r,o,i,a,s,l,u){var c=[r/o,o],d=this.readSync(e.dataId),p=this.readSync(t.dataId);if(0===r)return Sh([],n,t.dtype);var f=new Rp(c,t.dtype);f.values.fill(this.readSync(l.dataId)[0]);for(var h=0;h<i;h++){for(var m=[],v=0,g=0;g<a;g++){var y=d[h*a+g];m.push(y),v+=y*s[g]}if(v<0||v>=r/o)throw new Error("Invalid indices: "+m+" does not index into "+n);for(var b=0;b<o;b++)u?f.values[v*o+b]+=p[h*o+b]:f.values[v*o+b]=0===t.rank?p[0]:p[h*o+b]}return f.toTensor().reshape(n)},t}(qm);Kp.registerBackend("cpu",(function(){return new sA}),1);for(var lA=0,uA=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t,i=o.boxes,a=o.scores,s=r,l=s.maxOutputSize,u=s.iouThreshold,c=s.scoreThreshold,d=s.softNmsSigma,p=n;iA(i,"NonMaxSuppressionWithScore");var f=xv(p.data.get(i.dataId).values,p.data.get(a.dataId).values,l,u,c,d);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n;iA(r,"square");for(var i=o.data.get(r.dataId).values,a=new Float32Array(i.length),s=0;s<i.length;++s){var l=i[s];a[s]=l*l}return{dataId:o.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:xb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n;iA([o,i],xb);var s=a.data.get(o.dataId).values,l=a.data.get(i.dataId).values,u=function(e,t,n,r,o,i){var a=Qm(e,t),s=a.length,l=pp(a),u=Jd(o,Ud(a)),c=e.length,d=t.length,p=pp(e),f=pp(t),h=Xm(e,a),m=Xm(t,a);if(h.length+m.length===0)for(var v=0;v<u.length;++v)u[v]=i(n[v%n.length],r[v%r.length]);else{var g=function(e){var t=Sp(e,s,l),o=t.slice(-c);h.forEach((function(e){return o[e]=0}));var a=wp(o,c,p),v=t.slice(-d);m.forEach((function(e){return v[e]=0}));var g=wp(v,d,f);u[e]=i(n[a],r[g])};for(v=0;v<u.length;++v)g(v)}return[u,a]}(o.shape,i.shape,s,l,o.dtype,(function(e,t){var n=e-t;return n*n})),c=u[0],d=u[1];return{dataId:a.write(c,d,o.dtype),shape:d,dtype:o.dtype}}}];lA<uA.length;lA++)Pd(uA[lA]);for(var cA,dA=function(e){this.variableNames=["A"];var t=Nv(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},pA=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=Nv(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},fA=0,hA=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t.pixels,i=r.numChannels,a="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,l=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],u=l[0],c=l[1],d=[c,u],p=[c,u,i];(s||a)&&(null==cA&&(cA=document.createElement("canvas").getContext("2d")),cA.canvas.width=u,cA.canvas.height=c,cA.drawImage(o,0,0,u,c),o=cA.canvas);var f=n.makeTensorInfo(d,"int32");n.texData.get(f.dataId).usage=Jp.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId),o);var h=Cd().getBool("WEBGL_PACK")?new pA(p):new dA(p),m=n.runWebGLProgram(h,[f],"int32");return n.disposeData(f.dataId),m}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;rh("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=t,i=o.boxes,a=o.scores,s=r,l=s.maxOutputSize,u=s.iouThreshold,c=s.scoreThreshold,d=s.softNmsSigma,p=n,f=xv(p.readSync(i.dataId),p.readSync(a.dataId),l,u,c,d);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n,i=new Hy(r.shape,"return x * x;");return o.runWebGLProgram(i,[r],r.dtype)}},{kernelName:xb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n,s=Cd().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new lg("return (a - b) * (a - b);",o.shape,i.shape):new ag("return (a - b) * (a - b);",o.shape,i.shape);return a.compileAndRun(s,[o,i])}}];fA<hA.length;fA++)Pd(hA[fA]);for(var mA=0,vA=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:xb,gradFunc:function(e,t){var n=t[0],r=t[1],o=kh(2);return{a:function(){return Fx(e,Fx(o,Wx(n,r)))},b:function(){return Fx(e,Fx(o,Wx(r,n)))}}}}];mA<vA.length;mA++)Od(vA[mA]);var gA=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();Cd().get("IS_BROWSER")&&Cd().setPlatform("browser",new gA);var yA,bA=function(){function e(){this.util=n(745),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=Cd().global.fetch?Cd().global.fetch(e,t):(null==yA&&(yA=n(7318)),yA(e,t))},e.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();Cd().get("IS_NODE")&&Cd().setPlatform("node",new bA);var xA={float32:4,int32:4,uint16:2,uint8:1,bool:1};function wA(e,t){for(var n={},r=0,o=function(t){var o=t.name,i=t.dtype,a=t.shape,s=Ud(a),l=void 0;if("quantization"in t){var u=t.quantization;if("uint8"!==u.dtype&&"uint16"!==u.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+u.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=xA[u.dtype],d=e.slice(r,r+s*c),p="uint8"===u.dtype?new Uint8Array(d):new Uint16Array(d);if("float32"===i)l=Float32Array.from(p,(function(e){return e*u.scale+u.min}));else{if("int32"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);l=Int32Array.from(p,(function(e){return Math.round(e*u.scale+u.min)}))}r+=s*c}else if("string"===i){var f=Ud(t.shape);l=[];for(var h=0;h<f;h++){var m=new Uint32Array(e.slice(r,r+4))[0];r+=4;var v=new Uint8Array(e.slice(r,r+m));l.push(v),r+=m}}else{var g=xA[i];if(d=e.slice(r,r+s*g),"float32"===i)l=new Float32Array(d);else if("int32"===i)l=new Int32Array(d);else{if("bool"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);l=new Uint8Array(d)}r+=s*g}n[o]=Sh(l,a,i)},i=0,a=t;i<a.length;i++)o(a[i]);return n}function SA(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)}));var r=new Uint8Array(t),o=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),o),o+=e.byteLength})),r.buffer}var AA="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function kA(e){return AA?Buffer.byteLength(e):new Blob([e]).size}function CA(e){var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function EA(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function _A(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:kA(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:kA(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var RA=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var o=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&o.push(n)})),o},e}(),TA="://",IA=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){Ld(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(TA)&&(t=t.slice(0,t.indexOf(TA))),Ld(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();Ld(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '"+t+"'."})),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function PA(e){if(-1===e.indexOf(TA))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+IA.getSchemes().join(","));return{scheme:e.split(TA)[0],path:e.split(TA)[1]}}function OA(e,t,n){return void 0===n&&(n=!1),Sd(this,void 0,void 0,(function(){var r,o,i,a,s,l,u,c,d;return Ad(this,(function(p){switch(p.label){case 0:return Ld(e!==t,(function(){return"Old path and new path are the same: '"+e+"'"})),Ld((r=RA.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),Ld(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."})),o=r[0],Ld((i=RA.getSaveHandlers(t)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+t+"."})),Ld(i.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."})),a=i[0],s=PA(e).scheme,l=PA(e).path,u=s===PA(e).scheme,[4,o.load()];case 1:return c=p.sent(),n&&u?[4,IA.getManager(s).removeModel(l)]:[3,3];case 2:p.sent(),p.label=3;case 3:return[4,a.save(c)];case 4:return d=p.sent(),!n||u?[3,6]:[4,IA.getManager(s).removeModel(l)];case 5:p.sent(),p.label=6;case 6:return[2,d.modelArtifactsInfo]}}))}))}var MA="models_store",NA="model_info_store";function DA(){if(!Cd().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function FA(e){var t=e.result;t.createObjectStore(MA,{keyPath:"modelPath"}),t.createObjectStore(NA,{keyPath:"modelPath"})}var jA=function(){function e(e){if(this.indexedDB=DA(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]}))}))},e.prototype.load=function(){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(e){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(e,t){var n=this;return new Promise((function(e,r){var o=n.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return FA(o)},o.onsuccess=function(){var i=o.result;if(null==t){var a=i.transaction(MA,"readonly"),s=a.objectStore(MA).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return i.close(),r(s.error)},a.oncomplete=function(){return i.close()}}else{var l,u=_A(t),c=i.transaction(NA,"readwrite"),d=c.objectStore(NA),p=d.put({modelPath:n.modelPath,modelArtifactsInfo:u});p.onsuccess=function(){var o=(l=i.transaction(MA,"readwrite")).objectStore(MA).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:u});o.onsuccess=function(){return e({modelArtifactsInfo:u})},o.onerror=function(e){var t=(d=c.objectStore(NA)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(o.error)},t.onerror=function(e){return i.close(),r(o.error)}}},p.onerror=function(e){return i.close(),r(p.error)},c.oncomplete=function(){null==l?i.close():l.oncomplete=function(){return i.close()}}}},o.onerror=function(e){return r(o.error)}}))},e.URL_SCHEME="indexeddb://",e}(),LA=function(e){return Cd().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(jA.URL_SCHEME)?(t=e.slice(jA.URL_SCHEME.length),new jA(t)):null;var t};RA.registerSaveRouter(LA),RA.registerLoadRouter(LA);var BA=function(){function e(){this.indexedDB=DA()}return e.prototype.listModels=function(){return Sd(this,void 0,void 0,(function(){var e=this;return Ad(this,(function(t){return[2,new Promise((function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return FA(r)},r.onsuccess=function(){var e=r.result,o=e.transaction(NA,"readonly"),i=o.objectStore(NA).getAll();i.onsuccess=function(){for(var e={},n=0,r=i.result;n<r.length;n++){var o=r[n];e[o.modelPath]=o.modelArtifactsInfo}t(e)},i.onerror=function(t){return e.close(),n(i.error)},o.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}}))]}))}))},e.prototype.removeModel=function(e){return Sd(this,void 0,void 0,(function(){var t=this;return Ad(this,(function(n){var r;return e=(r=e).startsWith(jA.URL_SCHEME)?r.slice(jA.URL_SCHEME.length):r,[2,new Promise((function(n,r){var o=t.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return FA(o)},o.onsuccess=function(){var t,i=o.result,a=i.transaction(NA,"readwrite"),s=a.objectStore(NA),l=s.get(e);l.onsuccess=function(){if(null==l.result)return i.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var o=s.delete(e),a=function(){var o=(t=i.transaction(MA,"readwrite")).objectStore(MA).delete(e);o.onsuccess=function(){return n(l.result.modelArtifactsInfo)},o.onerror=function(e){return r(l.error)}};o.onsuccess=a,o.onerror=function(e){return a(),i.close(),r(l.error)}},l.onerror=function(e){return i.close(),r(l.error)},a.oncomplete=function(){null==t?i.close():t.oncomplete=function(){return i.close()}}},o.onerror=function(e){return r(o.error)}}))]}))}))},e}();if(Cd().getBool("IS_BROWSER"))try{IA.registerManager(jA.URL_SCHEME,new BA)}catch(xd){}var zA="/",WA="tensorflowjs_models",UA="info",VA="model_topology",HA="weight_specs",$A="weight_data",GA="model_metadata";function qA(e){return{info:[WA,e,UA].join(zA),topology:[WA,e,VA].join(zA),weightSpecs:[WA,e,HA].join(zA),weightData:[WA,e,$A].join(zA),modelMetadata:[WA,e,GA].join(zA)}}function KA(e){var t=e.split(zA);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(zA)}var XA=function(){function e(e){if(!Cd().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=qA(this.modelPath)}return e.prototype.save=function(e){return Sd(this,void 0,void 0,(function(){var t,n,r;return Ad(this,(function(o){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=_A(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(AA)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,o=t.length;r<o;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]}))}))},e.prototype.load=function(){return Sd(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return Ad(this,(function(s){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(o=this.LS.getItem(this.keys.modelMetadata))&&(i=JSON.parse(o),t.format=i.format,t.generatedBy=i.generatedBy,t.convertedBy=i.convertedBy,t.userDefinedMetadata=i.userDefinedMetadata),null==(a=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(AA){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),o=0;o<n.length;++o)r.set([n.charCodeAt(o)],o);return r.buffer}(a),[2,t]}))}))},e.URL_SCHEME="localstorage://",e}(),YA=function(e){return Cd().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(XA.URL_SCHEME)?(t=e.slice(XA.URL_SCHEME.length),new XA(t)):null;var t};RA.registerSaveRouter(YA),RA.registerLoadRouter(YA);var QA=function(){function e(){Ld(Cd().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),Ld("undefined"==typeof window||void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return Sd(this,void 0,void 0,(function(){var e,t,n,r,o,i;return Ad(this,(function(a){for(e={},t=WA+zA,n=zA+UA,r=0;r<this.LS.length;++r)(o=this.LS.key(r)).startsWith(t)&&o.endsWith(n)&&(i=KA(o),e[i]=JSON.parse(this.LS.getItem(o)));return[2,e]}))}))},e.prototype.removeModel=function(e){return Sd(this,void 0,void 0,(function(){var t,n;return Ad(this,(function(r){var o;if(e=(o=e).startsWith(XA.URL_SCHEME)?o.slice(XA.URL_SCHEME.length):o,t=qA(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]}))}))},e}();if(Cd().getBool("IS_BROWSER"))try{IA.registerManager(XA.URL_SCHEME,new QA)}catch(xd){}function JA(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var ZA=function(){function e(t){if(!Cd().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return Sd(this,void 0,void 0,(function(){var t,n,r,o,i,a;return Ad(this,(function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},o=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(i=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=o,[4,JA((function(){return i.dispatchEvent(new MouseEvent("click"))}))];case 2:return s.sent(),null==e.weightData?[3,4]:((a=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,a.href=t,[4,JA((function(){return a.dispatchEvent(new MouseEvent("click"))}))]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:_A(e)}]}}))}))},e.URL_SCHEME="downloads://",e}(),ek=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return Sd(this,void 0,void 0,(function(){var e,t,n=this;return Ad(this,(function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise((function(r,o){var i=new FileReader;i.onload=function(i){var a=JSON.parse(i.target.result),s=a.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var l=a.weightsManifest;if(null!=l){var u;try{u=n.checkManifestAndWeightFiles(l,t)}catch(e){return void o(e)}var c=[],d=[],p=[];l.forEach((function(e){e.paths.forEach((function(e){d.push(e),p.push(null)})),c.push.apply(c,e.weights)})),l.forEach((function(e){e.paths.forEach((function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,o=d.indexOf(e);p[o]=n,-1===p.indexOf(null)&&r({modelTopology:s,weightSpecs:c,weightData:CA(p),format:a.format,generatedBy:a.generatedBy,convertedBy:a.convertedBy,userDefinedMetadata:a.userDefinedMetadata})},t.onerror=function(t){return o("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(u[e])}))}))}else o(new Error("weightManifest field is missing from file "+e.name))}else o(new Error("modelTopology field is missing from file "+e.name))},i.onerror=function(t){return o("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},i.readAsText(e)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map((function(e){return EA(e.name)})),o={},i=0,a=e;i<a.length;i++)a[i].paths.forEach((function(e){var i=EA(e);if(-1!==n.indexOf(i))throw new Error("Duplicate file basename found in weights manifest: '"+i+"'");if(n.push(i),-1===r.indexOf(i))throw new Error("Weight file with basename '"+i+"' is not provided.");o[e]=t[r.indexOf(i)]}));if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return o},e}();function tk(e,t,n,r){!function(e){Ld(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){Ld(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e})),Ld(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t})),Ld(t>=e,(function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t}))}(n=null==n?0:n,r=null==r?1:r);var o=0;return Promise.all(e.map((function(i){return i.then((function(i){var a=n+ ++o/e.length*(r-n);return t(a),i})),i})))}function nk(e,t){return Sd(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,u,c;return Ad(this,(function(d){switch(d.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?Cd().platform.fetch:t.fetchFunc,r=e.map((function(e){return n(e,t.requestInit,{isBinary:!0})})),o=0,i=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return a=d.sent(),[3,4];case 2:return[4,tk(r,t.onProgress,o,i)];case 3:a=d.sent(),d.label=4;case 4:return s=a.map((function(e){return e.arrayBuffer()})),l=.5,u=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return c=d.sent(),[3,8];case 6:return[4,tk(s,t.onProgress,l,u)];case 7:c=d.sent(),d.label=8;case 8:return[2,c]}}))}))}function rk(e){var t=this;return function(n,r,o){return void 0===r&&(r=""),Sd(t,void 0,void 0,(function(){var t,i,a,s,l,u,c,d,p,f;return Ad(this,(function(h){switch(h.label){case 0:if(t=n.map((function(){return!1})),i={},a=null!=o?o.map((function(){return!1})):[],s=[],n.forEach((function(e,n){var r=0;e.weights.forEach((function(e){var l="quantization"in e?e.quantization.dtype:e.dtype,u=xA[l]*Ud(e.shape),c=function(){t[n]=!0,null==i[n]&&(i[n]=[]),i[n].push({manifestEntry:e,groupOffset:r,sizeBytes:u})};null!=o?o.forEach((function(t,n){t===e.name&&(c(),a[n]=!0)})):c(),s.push(e.name),r+=u}))})),!a.every((function(e){return e})))throw l=o.filter((function(e,t){return!a[t]})),new Error("Could not find weights in manifest with names: "+l.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return u=t.reduce((function(e,t,n){return t&&e.push(n),e}),[]),c=[],u.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;c.push(t)}))})),[4,e(c)];case 1:return d=h.sent(),p={},f=0,u.forEach((function(e){for(var t=n[e].paths.length,r=0,o=0;o<t;o++)r+=d[f+o].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),l=0,u=0;u<t;u++){var c=new Uint8Array(d[f+u]);s.set(c,l),l+=c.byteLength}i[e].forEach((function(e){var t=wA(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)p[n]=t[n]})),f+=t})),[2,p]}}))}))}}RA.registerSaveRouter((function(e){return Cd().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ZA.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new ZA(e)}(e.slice(ZA.URL_SCHEME.length)):null}));var ok=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(Ld("function"==typeof t.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=t.fetchFunc):this.fetch=Cd().platform.fetch,Ld(null!=e&&e.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(e)&&Ld(2===e.length,(function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."})),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return Sd(this,void 0,void 0,(function(){var t,n,r,o;return Ad(this,(function(i){switch(i.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((o=i.sent()).ok)return[2,{modelArtifactsInfo:_A(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}}))}))},e.prototype.load=function(){return Sd(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,l,u,c,d;return Ad(this,(function(p){switch(p.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=p.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");p.label=2;case 2:return p.trys.push([2,4,,5]),[4,e.json()];case 3:return t=p.sent(),[3,5];case 4:throw p.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,o=t.weightsManifest,i=t.generatedBy,a=t.convertedBy,s=t.format,l=t.userDefinedMetadata,null==r&&null==o)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==o?[3,7]:[4,this.loadWeights(o)];case 6:d=p.sent(),u=d[0],c=d[1],p.label=7;case 7:return[2,{modelTopology:r,weightSpecs:u,weightData:c,userDefinedMetadata:l,generatedBy:i,convertedBy:a,format:s}]}}))}))},e.prototype.loadWeights=function(e){return Sd(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,u,c,d;return Ad(this,(function(p){switch(p.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],o=n[1],i=this.weightPathPrefix||r,a=[],s=0,l=e;s<l.length;s++)u=l[s],a.push.apply(a,u.weights);return c=[],e.forEach((function(e){e.paths.forEach((function(e){c.push(i+e+o)}))})),[4,nk(c,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=p.sent(),[2,[a,CA(d)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function ik(e){return null!=e.match(ok.URL_SCHEME_REGEX)}var ak=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every((function(e){return ik(e)})):ik(e))?sk(e,{onProgress:t}):null};function sk(e,t){return new ok(e,t)}RA.registerSaveRouter(ak),RA.registerLoadRouter(ak);var lk,uk=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(e){return[2,this.modelArtifacts]}))}))},e}(),ck=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(t){return[2,this.saveHandler(e)]}))}))},e}(),dk=Object.freeze({browserFiles:function(e){return new ek(e)},browserHTTPRequest:function(e,t){return sk(e,t)},concatenateArrayBuffers:CA,decodeWeights:wA,encodeWeights:function(e,t){return Sd(this,void 0,void 0,(function(){var n,r,o,i,a,s=this;return Ad(this,(function(l){switch(l.label){case 0:for(n=[],r=[],o=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e),i=function(i){var a=o[i],l=Array.isArray(e)?e[i].tensor:e[a];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype)throw new Error("Unsupported dtype in weight '"+a+"': "+l.dtype);var u={name:a,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){var c=new Promise((function(e){return Sd(s,void 0,void 0,(function(){var t,n,r,o,i,a,s;return Ad(this,(function(u){switch(u.label){case 0:return[4,l.bytes()];case 1:for(t=u.sent(),n=t.reduce((function(e,t){return e+t.length}),0)+4*t.length,r=new Uint8Array(n),o=0,i=0;i<t.length;i++)a=t[i],s=new Uint8Array(new Uint32Array([a.length]).buffer),r.set(s,o),o+=4,r.set(a,o),o+=a.length;return e(r),[2]}}))}))}));r.push(c)}else r.push(l.data());null!=t&&(u.group=t),n.push(u)},a=0;a<o.length;++a)i(a);return[4,Promise.all(r)];case 1:return[2,{data:SA(l.sent()),specs:n}]}}))}))},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new uk(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new uk({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new uk({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return RA.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:_A,getSaveHandlers:function(e){return RA.getSaveHandlers(e)},http:sk,isHTTPScheme:ik,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),Sd(this,void 0,void 0,(function(){return Ad(this,(function(o){return[2,rk((function(e){return nk(e,{requestInit:r})}))(e,t,n)]}))}))},registerLoadRouter:function(e){return RA.registerLoadRouter(e)},registerSaveRouter:function(e){return RA.registerSaveRouter(e)},weightsLoaderFactory:rk,withSaveHandler:function(e){return new ck(e)},copyModel:function(e,t){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(n){return[2,OA(e,t,!1)]}))}))},listModels:function(){return Sd(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return Ad(this,(function(s){switch(s.label){case 0:e=IA.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(o=r[n],[4,IA.getManager(o).listModels()]):[3,4];case 2:for(a in i=s.sent())t[o+TA+a]=i[a];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},moveModel:function(e,t){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(n){return[2,OA(e,t,!0)]}))}))},removeModel:function(e){return Sd(this,void 0,void 0,(function(){var t;return Ad(this,(function(n){return t=PA(e),[2,IA.getManager(t.scheme).removeModel(t.path)]}))}))}}),pk=yh({confusionMatrix_:function(e,t,n){var r=ah(e,"labels","confusionMatrix"),o=ah(t,"predictions","confusionMatrix");Ld(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got "+n})),Ld(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),Ld(1===o.rank,(function(){return"Expected the rank of predictions to be 1, but got "+o.rank})),Ld(r.shape[0]===o.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."})),Ld(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+n}));var i=um(r.asType("int32"),n),a=um(o.asType("int32"),n);return i.transpose().matMul(a).asType("int32")}}),fk=(Object.freeze({confusionMatrix:pk}),yh({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,o=!1,i=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)o=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);a=!0}if(o&&o&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=Td("FromPixels",Kp.backendName))return Kp.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,l,u=o?[e.videoWidth,e.videoHeight]:[e.width,e.height],c=u[0],d=u[1];if(a?s=e.getContext("2d").getImageData(0,0,c,d).data:r||n?s=e.data:(i||o)&&(null==lk&&(lk=document.createElement("canvas").getContext("2d")),lk.canvas.width=c,lk.canvas.height=d,lk.drawImage(e,0,0,c,d),s=lk.getImageData(0,0,c,d).data),4===t)l=new Int32Array(s);else{var p=c*d;l=new Int32Array(p*t);for(var f=0;f<p;f++)for(var h=0;h<t;++h)l[f*t+h]=s[4*f+h]}return _h(l,[d,c,t],"int32")}})),hk=Object.freeze({toPixels:function(e,t){return Sd(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,u,c,d,p,f,h,m,v,g,y,b,x,w,S,A,k;return Ad(this,(function(C){switch(C.label){case 0:if(n=ah(e,"img","toPixels"),e instanceof Op||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),o=r[0],i=r[1],(a=2===n.rank?1:n.shape[2])>4||2===a)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return[4,n.data()];case 1:return s=C.sent(),l=n.min(),u=n.max(),[4,Promise.all([l.data(),u.data()])];case 2:if(c=C.sent(),d=c[0],p=c[1],f=d[0],h=p[0],l.dispose(),u.dispose(),"float32"===n.dtype){if(f<0||h>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+f+" - "+h+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(f<0||h>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+f+" - "+h+"].")}for(m="float32"===n.dtype?255:1,v=new Uint8ClampedArray(i*o*4),g=0;g<o*i;++g)y=void 0,b=void 0,x=void 0,w=void 0,1===a?(y=s[g]*m,b=s[g]*m,x=s[g]*m,w=255):3===a?(y=s[3*g]*m,b=s[3*g+1]*m,x=s[3*g+2]*m,w=255):4===a&&(y=s[4*g]*m,b=s[4*g+1]*m,x=s[4*g+2]*m,w=s[4*g+3]*m),v[0+(S=4*g)]=Math.round(y),v[S+1]=Math.round(b),v[S+2]=Math.round(x),v[S+3]=Math.round(w);return null!=t&&(t.width=i,t.height=o,A=t.getContext("2d"),k=new ImageData(v,i,o),A.putImageData(k,0,0)),n!==e&&n.dispose(),[2,v]}}))}))},fromPixels:fk}),mk=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),vk=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function gk(e){Ld(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),Ld("string"==typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),Ld(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),vk.register(e)}Object.freeze({Serializable:mk,SerializationMap:vk,registerClass:gk});function yk(){return 32===Kp.backend.floatPrecision()?.001:.1}function bk(e,t,n){var r=!0;if((rp(e)||rp(t))&&(r=!1),rp(e)&&rp(t)&&(r=!0),r){var o=e.constructor.name,i=t.constructor.name;if(o!==i)throw new Error("Arrays are of different type. Actual: "+o+". Expected: "+i)}if(Array.isArray(e)&&Array.isArray(t)){var a=oh(e),s=oh(t);if(!Vd(a,s))throw new Error("Arrays have different shapes. Actual: ["+a+"]. Expected: ["+s+"]")}var l=rp(e)?e:Wd(e),u=rp(t)?t:Wd(t);if(l.length!==u.length)throw new Error("Arrays have different lengths actual: "+l.length+" vs expected: "+u.length+".\nActual:   "+l+".\nExpected: "+u+".");for(var c=0;c<u.length;++c){var d=l[c],p=u[c];if(!n(d,p))throw new Error("Arrays differ: actual["+c+"] = "+d+", expected["+c+"] = "+p+".\nActual:   "+l+".\nExpected: "+u+".")}}function xk(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=yk()),bk(e,t,(function(e,t){return xk(e,t,n)}))},testEpsilon:yk,expectPromiseToFail:function(e,t){e().then((function(){return t.fail()}),(function(){return t()}))},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return ap(e)||ap(e[0])||ap(t)||ap(t[0])?bk(e,n,(function(e,t){return e==t})):bk(e,t,(function(e,t){return xk(e,t,0)}))},expectNumbersClose:function(e,t,n){if(null==n&&(n=yk()),!xk(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Object.freeze({gpgpu_util:ry,webgl_util:Jf,forceHalfFloat:function(){Cd().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:yb,setWebGLContext:nf,GPGPUContext:oy});var wk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wd(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),o=r.value,i=r.grads;if(null!=n){var a=n.map((function(e){return{name:e.name,tensor:i[e.name]}}));this.applyGradients(a)}else this.applyGradients(i);return nh(i),t?o:(o.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return function(e,t){Ld(cp(e),(function(){return"The f passed in variableGrads(f) must be a function"})),Ld(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof Lp})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],Kp.registeredVariables)t.push(Kp.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,i=t.length;Ld((t=t.filter((function(e){return e.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."}));var a=Kp.gradients(e,t,null,!0),s=a.value,l=a.grads;Ld(l.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),Ld(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var u={};return t.forEach((function(e,t){null!=l[t]&&(u[e.name]=l[t])})),null!=o&&o.forEach((function(e){return u[e.name]=null})),{value:s,grads:u}}(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&nh(this.iterations_)},t.prototype.saveIterations=function(){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:kh(this.iterations_,"int32")}]}))}))},t.prototype.getWeights=function(){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},t.prototype.setWeights=function(e){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},t.prototype.extractIterations=function(e){return Sd(this,void 0,void 0,(function(){var t;return Ad(this,(function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}}))}))},t}(mk);Object.defineProperty(wk,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Sk=function(e){function t(t,n,r){void 0===r&&(r=null);var o=e.call(this)||this;return o.learningRate=t,o.rho=n,o.epsilon=r,o.accumulatedGrads=[],o.accumulatedUpdates=[],null==r&&(o.epsilon=Kp.backend.epsilon()),o}return wd(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Kp.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:th((function(){return Nh(o).variable(!1)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:th((function(){return Nh(o).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;th((function(){var e=a.mul(t.rho).add(i.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(a.add(t.epsilon).sqrt()).mul(i),r=s.mul(t.rho).add(n.square().mul(1-t.rho));a.assign(e),s.assign(r);var l=n.mul(-t.learningRate).add(o);o.assign(l)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(nh(this.accumulatedGrads.map((function(e){return e.variable}))),nh(this.accumulatedUpdates.map((function(e){return e.variable}))))},t.prototype.getWeights=function(){return Sd(this,void 0,void 0,(function(){var e;return Ad(this,(function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return Sd(this,void 0,void 0,(function(){var t;return Ad(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedUpdates=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(wk);gk(Sk);var Ak=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return wd(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Kp.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:th((function(){return Ph(o.shape,t.initialAccumulatorValue).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedGrads[r].variable;th((function(){var e=a.add(i.square());a.assign(e);var n=i.div(e.add(Kp.backend.epsilon()).sqrt()).mul(-t.learningRate).add(o);o.assign(n)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&nh(this.accumulatedGrads.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(wk);gk(Ak);var kk=function(e){function t(t,n,r,o){void 0===o&&(o=null);var i=e.call(this)||this;return i.learningRate=t,i.beta1=n,i.beta2=r,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],th((function(){i.accBeta1=kh(n).variable(),i.accBeta2=kh(r).variable()})),null==o&&(i.epsilon=Kp.backend.epsilon()),i}return wd(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);th((function(){var r=Wx(1,t.accBeta1),o=Wx(1,t.accBeta2);n.forEach((function(n,i){var a=Kp.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:n+"/m",variable:th((function(){return Nh(a).variable(!1)}))}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:n+"/v",variable:th((function(){return Nh(a).variable(!1)}))});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var l=t.accumulatedFirstMoment[i].variable,u=t.accumulatedSecondMoment[i].variable,c=l.mul(t.beta1).add(s.mul(1-t.beta1)),d=u.mul(t.beta2).add(s.square().mul(1-t.beta2)),p=c.div(r),f=d.div(o);l.assign(c),u.assign(d);var h=p.div(f.sqrt().add(t.epsilon)).mul(-t.learningRate).add(a);a.assign(h)}})),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&nh(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&nh(this.accumulatedSecondMoment.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return Sd(this,void 0,void 0,(function(){var e;return Ad(this,(function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return Sd(this,void 0,void 0,(function(){var t,n=this;return Ad(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),th((function(){n.accBeta1.assign(Lx(n.beta1,n.iterations_+1)),n.accBeta2.assign(Lx(n.beta2,n.iterations_+1))})),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedSecondMoment=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(wk);gk(kk);var Ck=function(e){function t(t,n,r,o,i){void 0===o&&(o=null),void 0===i&&(i=0);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=o,a.decay=i,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],th((function(){a.iteration=kh(0).variable(),a.accBeta1=kh(n).variable()})),null==o&&(a.epsilon=Kp.backend.epsilon()),a}return wd(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);th((function(){var r=Wx(1,t.accBeta1),o=Ex(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach((function(n,i){var a=Kp.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:n+"/m",variable:Nh(a).variable(!1)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:n+"/v",variable:Nh(a).variable(!1)});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var l=t.accumulatedFirstMoment[i].variable,u=t.accumulatedWeightedInfNorm[i].variable,c=l.mul(t.beta1).add(s.mul(1-t.beta1)),d=u.mul(t.beta2),p=s.abs(),f=d.maximum(p);l.assign(c),u.assign(f);var h=o.div(r).mul(c.div(f.add(t.epsilon))).add(a);a.assign(h)}})),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&nh(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&nh(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(e){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},t.prototype.setWeights=function(e){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(e){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(wk);gk(Ck);var Ek=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return wd(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=Kp.registeredVariables[n];th((function(){var e=t.c.mul(o).add(i);i.assign(e)}))}})),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function(e){return Kp.keep(e)}(kh(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}}))}))},t.prototype.setWeights=function(e){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(wk);gk(Ek);var _k=function(e){function t(t,n,r){void 0===r&&(r=!1);var o=e.call(this,t)||this;return o.learningRate=t,o.momentum=n,o.useNesterov=r,o.accumulations=[],o.m=kh(o.momentum),o}return wd(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Kp.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:th((function(){return Nh(o).variable(!1)}))});var i=t.accumulations[r].variable,a=Array.isArray(e)?e[r].tensor:e[n];null!=a&&th((function(){var e,n=t.m.mul(i).add(a);e=t.useNesterov?t.c.mul(a.add(n.mul(t.m))).add(o):t.c.mul(n).add(o),i.assign(n),o.assign(e)}))})),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&nh(this.accumulations.map((function(e){return e.variable})))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return Sd(this,void 0,void 0,(function(){return Ad(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(Ek);gk(_k);var Rk=function(e){function t(t,n,r,o,i){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===o&&(o=null),void 0===i&&(i=!1);var a=e.call(this)||this;if(a.learningRate=t,a.decay=n,a.momentum=r,a.epsilon=o,a.accumulatedMeanSquares=[],a.accumulatedMoments=[],a.accumulatedMeanGrads=[],a.centered=i,null==o&&(a.epsilon=Kp.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return a}return wd(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var o=Kp.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:th((function(){return Nh(o).variable(!1)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:th((function(){return Nh(o).variable(!1)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:th((function(){return Nh(o).variable(!1)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;th((function(){var e=a.mul(t.decay).add(i.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,l=n.mul(t.decay).add(i.mul(1-t.decay)),u=s.mul(t.momentum).add(i.mul(t.learningRate).div(e.sub(l.square().add(t.epsilon)).sqrt()));a.assign(e),n.assign(l),s.assign(u);var c=o.sub(u);o.assign(c)}else{var d=a.mul(t.decay).add(i.square().mul(1-t.decay));u=s.mul(t.momentum).add(i.mul(t.learningRate).div(d.add(t.epsilon).sqrt())),a.assign(d),s.assign(u),c=o.sub(u),o.assign(c)}}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&nh(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&nh(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&nh(this.accumulatedMoments.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return Sd(this,void 0,void 0,(function(){var e;return Ad(this,(function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return Sd(this,void 0,void 0,(function(){var t;return Ad(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedMoments=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}))),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(wk);gk(Rk);var Tk=function(){function e(){}return e.sgd=function(e){return new Ek(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new _k(e,t,n)},e.rmsprop=function(e,t,n,r,o){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=!1),new Rk(e,t,n,r,o)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new kk(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new Sk(e,t,n)},e.adamax=function(e,t,n,r,o){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===o&&(o=0),new Ck(e,t,n,r,o)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new Ak(e,t)},e}();Tk.sgd,Tk.momentum,Tk.adadelta,Tk.adagrad,Tk.rmsprop,Tk.adamax,Tk.adam,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate&&setImmediate;Op.prototype.squaredDifference=function(e){return wb(this,e)},Ip=oA;var Ik=function(e,t){return Ik=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ik(e,t)};function Pk(e,t){function n(){this.constructor=e}Ik(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ok=function(){return Ok=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ok.apply(this,arguments)};function Mk(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(wd){i(wd)}}function s(e){try{l(r.throw(e))}catch(wd){i(wd)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function Nk(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(wd){i=[6,wd],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function Dk(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var Fk=function(){function e(e,t){if(!Hk(e)||!Hk(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function jk(e,t){return e instanceof Op&&e.shape.length===t}function Lk(e){return jk(e,3)}function Bk(e){return jk(e,4)}function zk(e){return e%2===0}function Wk(e){return e&&e.width&&e.height}function Uk(e){return e.reduce((function(e,t){return e.add(t)}),new Gk(0,0)).div(new Gk(e.length,e.length))}function Vk(e,t,n){return Array(e).fill(0).map((function(e,r){return t+r*n}))}function Hk(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||0===e}function $k(e){return Hk(e)&&0<=e&&e<=1}var Gk=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),qk=function(){function e(t,n){void 0===n&&(n=!0);var r=t||{},o=[r.left,r.top,r.right,r.bottom].every(Hk),i=[r.x,r.y,r.width,r.height].every(Hk);if(!i&&!o)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var a=i?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=a[0],l=a[1],u=a[2],c=a[3];e.assertIsValidBox({x:s,y:l,width:u,height:c},"Box.constructor",n),this._x=s,this._y=l,this._width=u,this._height=c}return e.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(Hk)},e.assertIsValidBox=function(t,n,r){if(void 0===r&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new Gk(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new Gk(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new Gk(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new Gk(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.round(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map((function(e){return Math.floor(e)}));return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,o=t.width,i=t.height,a=Math.abs(o-i);return o<i&&(n-=a/2,o+=a),i<o&&(r-=a/2,i+=a),new e({x:n,y:r,width:o,height:i})},e.prototype.rescale=function(t){var n=Wk(t)?t.width:t,r=Wk(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n];return new e({x:r[0],y:r[1],width:r[2],height:r[3]})},e.prototype.clipAtImageBorders=function(t,n){var r=this,o=r.x,i=r.y,a=r.right,s=r.bottom,l=Math.max(o,0),u=Math.max(i,0),c=a-l,d=s-u;return new e({x:l,y:u,width:Math.min(c,t-l),height:Math.min(d,n-u)}).floor()},e.prototype.shift=function(t,n){var r=this.width,o=this.height;return new e({x:this.x+t,y:this.y+n,width:r,height:o})},e.prototype.padAtBorders=function(e,t){var n=this.width+1,r=this.height+1,o=n,i=r,a=this.left,s=this.top,l=this.right,u=this.bottom;return l>t&&(o=-l+t+n,l=t),u>e&&(i=-u+e+r,u=e),a<1&&(i=2-a,a=1),s<1&&(i=2-s,s=1),{dy:1,edy:i,dx:1,edx:o,y:s,ey:u,x:a,ex:l,w:n,h:r}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),Kk=function(e){function t(t,n,r,o,i){return void 0===i&&(i=!1),e.call(this,{left:t,top:n,right:r,bottom:o},i)||this}return Pk(t,e),t}(qk),Xk=function(){function e(e,t,n,r,o){this._imageDims=new Fk(o.width,o.height),this._score=e,this._classScore=t,this._className=n,this._box=new qk(r).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new qk(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),Yk=function(e){function t(t,n,r){return e.call(this,t,t,"",n,r)||this}return Pk(t,e),t.prototype.forSize=function(n,r){var o=e.prototype.forSize.call(this,n,r);return new t(o.score,o.relativeBox,o.imageDims)},t}(Xk);function Qk(e,t,n){void 0===n&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return n?r/(e.area+t.area-r):r/Math.min(e.area,t.area)}function Jk(e,t,n,r){void 0===r&&(r=!0);for(var o=t.map((function(e,t){return{score:e,boxIndex:t}})).sort((function(e,t){return e.score-t.score})).map((function(e){return e.boxIndex})),i=[],a=function(){var t=o.pop();i.push(t);for(var a=o,s=[],l=0;l<a.length;l++){var u=a[l],c=e[t],d=e[u];s.push(Qk(c,d,r))}o=o.filter((function(e,t){return s[t]<=n}))};o.length>0;)a();return i}function Zk(e,t){return th((function(){var n=t[0],r=t[1],o=t[2],i=Ph(Dk(e.shape.slice(0,3),[1]),n),a=Ph(Dk(e.shape.slice(0,3),[1]),r),s=Ph(Dk(e.shape.slice(0,3),[1]),o),l=Dh([i,a,s],3);return Wx(e,l)}))}function eC(e){return 1/(1+Math.exp(-e))}var tC,nC=function(e){function t(t,n,r,o,i){return void 0===i&&(i=!1),e.call(this,{x:t,y:n,width:r,height:o},i)||this}return Pk(t,e),t}(qk),rC=function(){function e(e,t,n){void 0===n&&(n=new Gk(0,0));var r=t.width,o=t.height;this._imgDims=new Fk(r,o),this._shift=n,this._positions=e.map((function(e){return e.mul(new Gk(r,o)).add(n)}))}return Object.defineProperty(e.prototype,"shift",{get:function(){return new Gk(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map((function(t){return t.sub(e._shift).div(new Gk(e.imageWidth,e.imageHeight))}))},enumerable:!0,configurable:!0}),e.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},e.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new Gk(e,t))},e.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},e.prototype.align=function(e,t){if(void 0===t&&(t={}),e){var n=e instanceof Yk?e.box.floor():new qk(e);return this.shiftBy(n.x,n.y).align(null,t)}var r=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),o=r.useDlibAlignment,i=r.minBoxPadding;return o?this.alignDlib():this.alignMinBbox(i)},e.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],n=e[1],r=e[2],o=function(e){return r.sub(e).magnitude()},i=(o(t)+o(n))/2,a=Math.floor(i/.45),s=Uk(e),l=Math.floor(Math.max(0,s.x-.5*a)),u=Math.floor(Math.max(0,s.y-.43*a));return new nC(l,u,Math.min(a,this.imageWidth+l),Math.min(a,this.imageHeight+u))},e.prototype.alignMinBbox=function(e){var t=function(e){var t=e.map((function(e){return e.x})),n=e.map((function(e){return e.y})),r=t.reduce((function(e,t){return t<e?t:e}),1/0),o=n.reduce((function(e,t){return t<e?t:e}),1/0),i=t.reduce((function(e,t){return e<t?t:e}),0),a=n.reduce((function(e,t){return e<t?t:e}),0);return new Kk(r,o,i,a)}(this.positions);return t.pad(t.width*e,t.height*e)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),oC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],Uk([e[3],e[4]])]},t}(rC),iC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(Uk)},t}(rC),aC=function(){function e(e,t){this._label=e,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){return void 0===e&&(e=!0),this.label+(e?" ("+function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}(this.distance)+")":"")},e}(),sC=function(e){function t(t,n){var r=e.call(this,t)||this;return r._label=n,r}return Pk(t,e),t.assertIsValidLabeledBox=function(e,t){if(qk.assertIsValidBox(e,t),!Hk(e.label))throw new Error(t+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(qk),lC=function(){function e(e,t){if("string"!==typeof e)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some((function(e){return!(e instanceof Float32Array)})))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map((function(e){return Array.from(e)}))}},e.fromJSON=function(t){var n=t.descriptors.map((function(e){return new Float32Array(e)}));return new e(t.label,n)},e}();!function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i._score=r,i._classScore=o,i}Pk(t,e),t.assertIsValidPredictedBox=function(e,t){if(sC.assertIsValidLabeledBox(e,t),!$k(e.score)||!$k(e.classScore))throw new Error(t+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(sC);function uC(e,t){var n={detection:t};return Object.assign({},e,n)}function cC(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D:CanvasRenderingContext2D,Image:HTMLImageElement,ImageData:ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}function dC(e){var t="";if(!e)try{e=n(Object(function(){var e=new Error("Cannot find module 'fs'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(o){t=o.toString()}var r=e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){return e?r(e):n(t)}))}))}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)};return{readFile:r}}function pC(){var e=n.g.Canvas||n.g.HTMLCanvasElement,t=n.g.Image||n.g.HTMLImageElement,r=n.g.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},o=dC();return Ok({Canvas:e||function(){},CanvasRenderingContext2D:n.g.CanvasRenderingContext2D||function(){},Image:t||function(){},ImageData:n.g.ImageData||function(){},Video:n.g.HTMLVideoElement||function(){},createCanvasElement:function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:r},o)}function fC(){return"object"===typeof window&&"undefined"!==typeof document&&"undefined"!==typeof HTMLImageElement&&"undefined"!==typeof HTMLCanvasElement&&"undefined"!==typeof HTMLVideoElement&&"undefined"!==typeof ImageData&&"undefined"!==typeof CanvasRenderingContext2D}function hC(){return"object"===typeof n.g&&"undefined"!==typeof process&&!!process.version}function mC(e){tC=e}function vC(){fC()&&mC(cC()),hC()&&mC(pC())}var gC,yC={getEnv:function(){if(!tC)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return tC},setEnv:mC,initialize:vC,createBrowserEnv:cC,createFileSystem:dC,createNodejsEnv:pC,monkeyPatch:function(e){if(tC||vC(),!tC)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=void 0===t?tC.Canvas:t,r=e.Image,o=void 0===r?tC.Image:r;tC.Canvas=n,tC.Image=o,tC.createCanvasElement=e.createCanvasElement||function(){return new n},tC.createImageElement=e.createImageElement||function(){return new o},tC.ImageData=e.ImageData||tC.ImageData,tC.Video=e.Video||tC.Video,tC.fetch=e.fetch||tC.fetch,tC.readFile=e.readFile||tC.readFile},isBrowser:fC,isNodejs:hC};function bC(e){return yC.isNodejs()||"string"!==typeof e?e:document.getElementById(e)}function xC(e){var t=yC.getEnv(),n=t.Canvas;if(e instanceof t.CanvasRenderingContext2D)return e;var r=bC(e);if(!(r instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var o=r.getContext("2d");if(!o)throw new Error("resolveContext2d - canvas 2d context is null");return o}vC(),function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(gC||(gC={}));var wC=function(e){void 0===e&&(e={});var t=e.anchorPosition,n=e.backgroundColor,r=e.fontColor,o=e.fontSize,i=e.fontStyle,a=e.padding;this.anchorPosition=t||gC.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=o||14,this.fontStyle=i||"Georgia",this.padding=a||4},SC=function(){function e(t,n,r){void 0===r&&(r={}),this.text="string"===typeof t?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new wC(r)}return e.prototype.measureWidth=function(e){var t=this.options.padding;return this.text.map((function(t){return e.measureText(t).width})).reduce((function(e,t){return e<t?t:e}),0)+2*t},e.prototype.measureHeight=function(){var e=this.options,t=e.fontSize,n=e.padding;return this.text.length*t+2*n},e.prototype.getUpperLeft=function(e,t){var n=this.options.anchorPosition,r=n===gC.BOTTOM_RIGHT||n===gC.TOP_RIGHT,o=n===gC.BOTTOM_LEFT||n===gC.BOTTOM_RIGHT,i=this.measureWidth(e),a=this.measureHeight(),s=r?this.anchor.x-i:this.anchor.x,l=o?this.anchor.y-a:this.anchor.y;if(t){var u=t.width,c=t.height;return{x:Math.max(Math.min(s,u-i),0),y:Math.max(Math.min(l,c-a),0)}}return{x:s,y:l}},e.prototype.draw=function(e){var t=bC(e),n=xC(t),r=this.options,o=r.backgroundColor,i=r.fontColor,a=r.fontSize,s=r.fontStyle,l=r.padding;n.font=a+"px "+s;var u=this.measureWidth(n),c=this.measureHeight();n.fillStyle=o;var d=this.getUpperLeft(n,t);n.fillRect(d.x,d.y,u,c),n.fillStyle=i,this.text.forEach((function(e,t){var r=l+d.x,o=l+d.y+(t+1)*a;n.fillText(e,r,o)}))},e}(),AC=function(e){void 0===e&&(e={});var t=e.boxColor,n=e.lineWidth,r=e.label,o=e.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;var i={anchorPosition:gC.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new wC(Object.assign({},i,o))};!function(){function e(e,t){void 0===t&&(t={}),this.box=new qk(e),this.options=new AC(t)}e.prototype.draw=function(e){var t=xC(e),n=this.options,r=n.boxColor,o=n.lineWidth,i=this.box,a=i.x,s=i.y,l=i.width,u=i.height;t.strokeStyle=r,t.lineWidth=o,t.strokeRect(a,s,l,u);var c=this.options.label;c&&new SC([c],{x:a-o/2,y:s},this.options.drawLabelOptions).draw(e)}}();function kC(e){var t=yC.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function CC(e){var t=yC.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new Fk(e.naturalWidth,e.naturalHeight):e instanceof r?new Fk(e.videoWidth,e.videoHeight):new Fk(e.width,e.height)}function EC(e){var t=e.width,n=e.height,r=(0,yC.getEnv().createCanvasElement)();return r.width=t,r.height=n,r}function _C(e,t){var n=yC.getEnv().ImageData;if(!(e instanceof n)&&!kC(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t||CC(e),o=r.width,i=r.height,a=EC({width:o,height:i});return e instanceof n?xC(a).putImageData(e,0,0):xC(a).drawImage(e,0,0,o,i),a}function RC(e,t){return Mk(this,void 0,void 0,(function(){var n,r,o,i,a,s;return Nk(this,(function(l){switch(l.label){case 0:return n=t||yC.getEnv().createCanvasElement(),r=e.shape.slice(Bk(e)?1:0),o=r[0],i=r[1],a=r[2],s=th((function(){return e.as3D(o,i,a).toInt()})),[4,hk.toPixels(s,n)];case 1:return l.sent(),s.dispose(),[2,n]}}))}))}function TC(e){var t=yC.getEnv(),n=t.Image,r=t.Canvas,o=t.Video;return e instanceof n||e instanceof r||e instanceof o}var IC=function(){function e(e,t){var n=this;if(void 0===t&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach((function(e,t){if(Lk(e))return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape);if(Bk(e)){var r=e.shape[0];if(1!==r)throw new Error("NetInput - tf.Tensor4D with batchSize "+r+" passed, but not supported in input array");return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape.slice(1))}var o=e instanceof yC.getEnv().Canvas?e:_C(e);n._canvases[t]=o,n._inputDimensions[t]=[o.height,o.width,3]}))}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var e=this;return Vk(this.batchSize,0,1).map((function(t,n){return e.getReshapedInputDimensions(n)}))},enumerable:!0,configurable:!0}),e.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},e.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},e.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},e.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},e.prototype.getReshapedInputDimensions=function(e){if("number"!==typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function(e,t){var n=e.width,r=e.height,o=t/Math.max(r,n);return new Fk(Math.round(n*o),Math.round(r*o))}({width:this.getInputWidth(e),height:this.getInputHeight(e)},this.inputSize)},e.prototype.toBatchTensor=function(e,t){var n=this;return void 0===t&&(t=!0),this._inputSize=e,th((function(){var r=Vk(n.batchSize,0,1).map((function(r){var o=n.getInput(r);if(o instanceof Op){var i=Bk(o)?o:o.expandDims();return i=function(e,t){return void 0===t&&(t=!1),th((function(){var n=e.shape.slice(1),r=n[0],o=n[1];if(r===o)return e;var i=Math.abs(r-o),a=Math.round(i*(t?.5:1)),s=r>o?2:1,l=function(t){var n=e.shape.slice();return n[s]=t,Ph(n,0)},u=l(a),c=i-u.shape[s],d=[t&&c?l(c):null,e,u].filter((function(e){return!!e})).map((function(e){return e.toFloat()}));return Dh(d,s)}))}(i,t),i.shape[1]===e&&i.shape[2]===e||(i=XS.resizeBilinear(i,[e,e])),i.as3D(e,e,3)}if(o instanceof yC.getEnv().Canvas)return hk.fromPixels(function(e,t,n){void 0===n&&(n=!1);var r=yC.getEnv(),o=r.Image,i=r.Canvas;if(!(e instanceof o||e instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var a=CC(e),s=t/Math.max(a.height,a.width),l=s*a.width,u=s*a.height,c=EC({width:t,height:t}),d=e instanceof i?e:_C(e),p=Math.abs(l-u)/2,f=n&&l<u?p:0,h=n&&u<l?p:0;return xC(c).drawImage(d,f,h,l,u),c}(o,e,t));throw new Error("toBatchTensor - at batchIdx "+r+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+o)})),o=Sm(r.map((function(e){return e.toFloat()}))).as4D(n.batchSize,e,e,3);return o}))},e}();function PC(e){return Mk(this,void 0,void 0,(function(){var t,n,r;return Nk(this,(function(o){switch(o.label){case 0:if(e instanceof IC)return[2,e];if(!(t=Array.isArray(e)?e:[e]).length)throw new Error("toNetInput - empty array passed as input");return n=function(t){return Array.isArray(e)?" at input index "+t+":":""},(r=t.map(bC)).forEach((function(e,r){if(!TC(e)&&!Lk(e)&&!Bk(e)){if("string"===typeof t[r])throw new Error("toNetInput -"+n(r)+" string passed, but could not resolve HTMLElement for element id "+t[r]);throw new Error("toNetInput -"+n(r)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(Bk(e)){var o=e.shape[0];if(1!==o)throw new Error("toNetInput -"+n(r)+" tf.Tensor4D with batchSize "+o+" passed, but not supported in input array")}})),[4,Promise.all(r.map((function(e){return TC(e)&&(t=e,new Promise((function(e,n){if(t instanceof yC.getEnv().Canvas||kC(t))return e();function r(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",o),e(t))}function o(e){e.currentTarget&&(e.currentTarget.removeEventListener("load",r),e.currentTarget.removeEventListener("error",o),n(e))}t.addEventListener("load",r),t.addEventListener("error",o)})));var t})))];case 1:return o.sent(),[2,new IC(r,Array.isArray(e))]}}))}))}function OC(e,t){return Mk(this,void 0,void 0,(function(){var n,r,o,i,a,s;return Nk(this,(function(l){switch(l.label){case 0:return n=yC.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,PC(e)];case 1:if((o=l.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(i=o.getInput(0))instanceof n?(a=i,[3,4]):[3,2];case 2:return[4,RC(i)];case 3:a=l.sent(),l.label=4;case 4:r=a,l.label=5;case 5:return s=xC(r),[2,t.map((function(e){return e instanceof Yk?e.forSize(r.width,r.height).box.floor():e})).map((function(e){return e.clipAtImageBorders(r.width,r.height)})).map((function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=EC({width:r,height:o});return xC(i).putImageData(s.getImageData(t,n,r,o),0,0),i}))]}}))}))}function MC(e,t){return Mk(this,void 0,void 0,(function(){return Nk(this,(function(n){if(!Lk(e)&&!Bk(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(Bk(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,th((function(){var n=e.shape.slice(Bk(e)?1:0),r=n[0],o=n[1],i=n[2],a=t.map((function(e){return e instanceof Yk?e.forSize(o,r).box:e})).map((function(e){return e.clipAtImageBorders(o,r)})).map((function(t){var n=t.x,a=t.y,s=t.width,l=t.height;return jw(e.as3D(r,o,i),[a,n,0],[l,s,i])}));return a}))]}))}))}function NC(e,t){return Mk(this,void 0,void 0,(function(){var n;return Nk(this,(function(r){switch(r.label){case 0:return[4,(0,yC.getEnv().fetch)(e,t)];case 1:if(!((n=r.sent()).status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}}))}))}function DC(e){return Mk(this,void 0,void 0,(function(){return Nk(this,(function(t){switch(t.label){case 0:return[4,NC(e)];case 1:return[2,t.sent().json()]}}))}))}function FC(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if("/"===e)return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"",o=(e=e.replace(r,"")).split("/").filter((function(e){return e})),i=e.endsWith(".json")?o[o.length-1]:n,a=r+(e.endsWith(".json")?o.slice(0,o.length-1):o).join("/");return{modelBaseUri:a=e.startsWith("/")?"/"+a:a,manifestUri:"/"===a?"/"+i:a+"/"+i}}function jC(e,t){return Mk(this,void 0,void 0,(function(){var n,r,o,i;return Nk(this,(function(a){switch(a.label){case 0:return n=FC(e,t),r=n.manifestUri,o=n.modelBaseUri,[4,DC(r)];case 1:return i=a.sent(),[2,dk.loadWeights(i,o)]}}))}))}var LC=function(){function e(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e);return t.obj[t.objProp]},e.prototype.reassignParamFromPath=function(e,t){var n=this.traversePropertyPath(e),r=n.obj,o=n.objProp;r[o].dispose(),r[o]=t},e.prototype.getParamList=function(){var e=this;return this._paramMappings.map((function(t){var n=t.paramPath;return{path:n,tensor:e.getParamFromPath(n)}}))},e.prototype.getTrainableParams=function(){return this.getParamList().filter((function(e){return e.tensor instanceof Lp}))},e.prototype.getFrozenParams=function(){return this.getParamList().filter((function(e){return!(e.tensor instanceof Lp)}))},e.prototype.variable=function(){var e=this;this.getFrozenParams().forEach((function(t){var n=t.path,r=t.tensor;e.reassignParamFromPath(n,r.variable())}))},e.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach((function(t){var n=t.path,r=t.tensor,o=Sh(r.dataSync());r.dispose(),e.reassignParamFromPath(n,o)}))},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.getParamList().forEach((function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()})),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map((function(e){var t=e.tensor;return Array.from(t.dataSync())})).reduce((function(e,t){return e.concat(t)})))},e.prototype.load=function(e){return Mk(this,void 0,void 0,(function(){return Nk(this,(function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.loadFromUri=function(e){return Mk(this,void 0,void 0,(function(){var t;return Nk(this,(function(n){switch(n.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromUri - expected model uri");return[4,jC(e,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}}))}))},e.prototype.loadFromDisk=function(e){return Mk(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,u,c;return Nk(this,(function(d){switch(d.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromDisk - expected model file path");return t=yC.getEnv().readFile,n=FC(e,this.getDefaultModelName()),r=n.manifestUri,o=n.modelBaseUri,i=function(e){return Promise.all(e.map((function(e){return t(e).then((function(e){return e.buffer}))})))},a=dk.weightsLoaderFactory(i),u=(l=JSON).parse,[4,t(r)];case 1:return s=u.apply(l,[d.sent().toString()]),[4,a(s,o)];case 2:return c=d.sent(),this.loadFromWeightMap(c),[2]}}))}))},e.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.extractWeights=function(e){var t=this.extractParams(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce((function(t,n){if(!t.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+e);return{obj:t.nextObj,objProp:n,nextObj:t.nextObj[n]}}),{nextObj:this.params}),n=t.obj,r=t.objProp;if(!n||!r||!(n[r]instanceof Op))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:n,objProp:r}},e}();function BC(e,t,n){return th((function(){var r=vw(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=Sx(r,t.bias)}))}function zC(e,t,n){return void 0===n&&(n=!1),th((function(){var r=eS(n?Sx(uw(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):BC(e,t.conv0,[2,2])),o=BC(r,t.conv1,[1,1]),i=BC(eS(Sx(r,o)),t.conv2,[1,1]);return eS(Sx(r,Sx(o,i)))}))}function WC(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!0),th((function(){var o=eS(n?Sx(uw(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):BC(e,t.conv0,r?[2,2]:[1,1])),i=BC(o,t.conv1,[1,1]),a=BC(eS(Sx(o,i)),t.conv2,[1,1]),s=BC(eS(Sx(o,Sx(i,a))),t.conv3,[1,1]);return eS(Sx(o,Sx(i,Sx(a,s))))}))}function UC(e,t,n,r){return void 0===n&&(n="same"),void 0===r&&(r=!1),th((function(){var o=Sx(uw(e,t.filters,[1,1],n),t.bias);return r?eS(o):o}))}function VC(e,t){Object.keys(e).forEach((function(n){t.some((function(e){return e.originalPath===n}))||e[n].dispose()}))}function HC(e,t){return function(n,r,o,i){var a=Rh(e(n*r*o*o),[o,o,n,r]),s=Ch(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:a,bias:s}}}function $C(e,t){return function(n,r,o){var i=Eh(e(n*r),[n,r]),a=Ch(e(r));return t.push({paramPath:o+"/weights"},{paramPath:o+"/bias"}),{weights:i,bias:a}}}var GC=function(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n};function qC(e,t){return function(n,r,o){var i=Rh(e(9*n),[3,3,n,1]),a=Rh(e(n*r),[1,1,n,r]),s=Ch(e(r));return t.push({paramPath:o+"/depthwise_filter"},{paramPath:o+"/pointwise_filter"},{paramPath:o+"/bias"}),new GC(i,a,s)}}function KC(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),o=e(t+"/bias",1);return new GC(n,r,o)}}function XC(e,t){return function(n,r,o){var i=e[n];if(!jk(i,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+i);return t.push({originalPath:n,paramPath:o||n}),i}}function YC(e){var t=e;return{extractWeights:function(e){var n=t.slice(0,e);return t=t.slice(e),n},getRemainingWeights:function(){return t}}}function QC(e,t){var n=HC(e,t),r=qC(e,t);function o(e,t,o,i){return void 0===i&&(i=!1),{conv0:i?n(e,t,3,o+"/conv0"):r(e,t,o+"/conv0"),conv1:r(t,t,o+"/conv1"),conv2:r(t,t,o+"/conv2")}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:function(e,t,n,i){void 0===i&&(i=!1);var a=o(e,t,n,i);return{conv0:a.conv0,conv1:a.conv1,conv2:a.conv2,conv3:r(t,t,n+"/conv3")}}}}function JC(e){return function(t){return{filters:e(t+"/filters",4),bias:e(t+"/bias",1)}}}function ZC(e,t){var n=XC(e,t),r=JC(n),o=KC(n);return{extractDenseBlock3Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2")}},extractDenseBlock4Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2"),conv3:o(e+"/conv3")}}}}var eE=function(e){function t(){return e.call(this,"FaceFeatureExtractor")||this}return Pk(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceFeatureExtractor - load model before inference");return th((function(){var n=WC(Zk(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(kh(255)),t.dense0,!0);return n=WC(n,t.dense1),n=WC(n,t.dense2),n=WC(n,t.dense3),n=Iw(n,[7,7],[2,2],"valid")}))},t.prototype.forward=function(e){return Mk(this,void 0,void 0,(function(){var t;return Nk(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,PC(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=ZC(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return VC(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=YC(e),r=n.extractWeights,o=n.getRemainingWeights,i=QC(r,t).extractDenseBlock4Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),l=i(64,128,"dense2"),u=i(128,256,"dense3");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:s,dense2:l,dense3:u}}}(e)},t}(LC);function tE(e,t){return th((function(){return Sx(bw(e,t.weights),t.bias)}))}function nE(e){var t={},n={};return Object.keys(e).forEach((function(r){(r.startsWith("fc")?n:t)[r]=e[r]})),{featureExtractorMap:t,classifierMap:n}}var rE=function(e){function t(t,n){var r=e.call(this,t)||this;return r._faceFeatureExtractor=n,r}return Pk(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return th((function(){var r=e instanceof IC?t.faceFeatureExtractor.forwardInput(e):e;return tE(r.as2D(r.shape[0],-1),n.fc)}))},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e,t,n){var r=[],o=YC(e),i=o.extractWeights,a=o.getRemainingWeights,s=$C(i,r)(t,n,"fc");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:r,params:{fc:s}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(e){var t=nE(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=XC(e,t),r={fc:function(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}("fc")};return VC(e,t),{params:r,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*t+n,o=e.slice(0,e.length-r),i=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(i)},t}(LC),oE=["neutral","happy","sad","angry","fearful","disgusted","surprised"],iE=function(){function e(e){var t=this;if(7!==e.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);oE.forEach((function(n,r){t[n]=e[r]}))}return e.prototype.asSortedArray=function(){var e=this;return oE.map((function(t){return{expression:t,probability:e[t]}})).sort((function(e,t){return t.probability-e.probability}))},e}(),aE=function(e){function t(t){return void 0===t&&(t=new eE),e.call(this,"FaceExpressionNet",t)||this}return Pk(t,e),t.prototype.forwardInput=function(e){var t=this;return th((function(){return Hm(t.runNet(e))}))},t.prototype.forward=function(e){return Mk(this,void 0,void 0,(function(){var t;return Nk(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,PC(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictExpressions=function(e){return Mk(this,void 0,void 0,(function(){var t,n,r,o,i=this;return Nk(this,(function(a){switch(a.label){case 0:return[4,PC(e)];case 1:return t=a.sent(),[4,this.forwardInput(t)];case 2:return n=a.sent(),[4,Promise.all(Cm(n).map((function(e){return Mk(i,void 0,void 0,(function(){var t;return Nk(this,(function(n){switch(n.label){case 0:return[4,e.data()];case 1:return t=n.sent(),e.dispose(),[2,t]}}))}))})))];case 3:return r=a.sent(),n.dispose(),o=r.map((function(e){return new iE(e)})),[2,t.isBatchInput?o:o[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(rE);function sE(e,t){var n={expressions:t};return Object.assign({},e,n)}function lE(e){return function(e){return e.detection instanceof Yk}(e)&&e.landmarks instanceof rC&&e.unshiftedLandmarks instanceof rC&&e.alignedRect instanceof Yk}function uE(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),o=r.align(),i=e.detection.imageDims,a={landmarks:r,unshiftedLandmarks:t,alignedRect:new Yk(e.detection.score,o.rescale(i.reverse()),i)};return Object.assign({},e,a)}function cE(e,t,n){if(void 0===n&&(n=!1),e.beginPath(),t.slice(1).forEach((function(n,r){var o=n.x,i=n.y,a=t[r];e.moveTo(a.x,a.y),e.lineTo(o,i)})),n){var r=t[t.length-1],o=t[0];if(!r||!o)return;e.moveTo(r.x,r.y),e.lineTo(o.x,o.y)}e.stroke()}var dE=function(e){void 0===e&&(e={});var t=e.drawLines,n=void 0===t||t,r=e.drawPoints,o=void 0===r||r,i=e.lineWidth,a=e.lineColor,s=e.pointSize,l=e.pointColor;this.drawLines=n,this.drawPoints=o,this.lineWidth=i||1,this.pointSize=s||2,this.lineColor=a||"rgba(0, 255, 255, 1)",this.pointColor=l||"rgba(255, 0, 255, 1)"};!function(){function e(e,t){void 0===t&&(t={}),this.faceLandmarks=e,this.options=new dE(t)}e.prototype.draw=function(e){var t=xC(e),n=this.options,r=n.drawLines,o=n.drawPoints,i=n.lineWidth,a=n.lineColor,s=n.pointSize,l=n.pointColor;if(r&&this.faceLandmarks instanceof iC&&(t.strokeStyle=a,t.lineWidth=i,cE(t,this.faceLandmarks.getJawOutline()),cE(t,this.faceLandmarks.getLeftEyeBrow()),cE(t,this.faceLandmarks.getRightEyeBrow()),cE(t,this.faceLandmarks.getNose()),cE(t,this.faceLandmarks.getLeftEye(),!0),cE(t,this.faceLandmarks.getRightEye(),!0),cE(t,this.faceLandmarks.getMouth(),!0)),o){t.strokeStyle=l,t.fillStyle=l;this.faceLandmarks.positions.forEach((function(e){t.beginPath(),t.arc(e.x,e.y,s,0,2*Math.PI),t.fill()}))}}}();function pE(e,t){var n=[],r=YC(e),o=r.extractWeights,i=r.getRemainingWeights,a=function(e,t){var n=HC(e,t),r=qC(e,t);return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:function(e,t,o){return{separable_conv0:r(e,t,o+"/separable_conv0"),separable_conv1:r(t,t,o+"/separable_conv1"),expansion_conv:n(e,t,1,o+"/expansion_conv")}},extractMainBlockParams:function(e,t){return{separable_conv0:r(e,e,t+"/separable_conv0"),separable_conv1:r(e,e,t+"/separable_conv1"),separable_conv2:r(e,e,t+"/separable_conv2")}}}}(o,n),s=a.extractConvParams,l=a.extractSeparableConvParams,u=a.extractReductionBlockParams,c=a.extractMainBlockParams,d={conv_in:s(3,32,3,"entry_flow/conv_in"),reduction_block_0:u(32,64,"entry_flow/reduction_block_0"),reduction_block_1:u(64,128,"entry_flow/reduction_block_1")},p={};Vk(t,0,1).forEach((function(e){p["main_block_"+e]=c(128,"middle_flow/main_block_"+e)}));var f={reduction_block:u(128,256,"exit_flow/reduction_block"),separable_conv:l(256,512,"exit_flow/separable_conv")};if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:n,params:{entry_flow:d,middle_flow:p,exit_flow:f}}}function fE(e,t){var n=[],r=function(e,t){var n=XC(e,t),r=JC(n),o=KC(n);return{extractConvParams:r,extractSeparableConvParams:o,extractReductionBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),expansion_conv:r(e+"/expansion_conv")}},extractMainBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),separable_conv2:o(e+"/separable_conv2")}}}}(e,n),o=r.extractConvParams,i=r.extractSeparableConvParams,a=r.extractReductionBlockParams,s=r.extractMainBlockParams,l={conv_in:o("entry_flow/conv_in"),reduction_block_0:a("entry_flow/reduction_block_0"),reduction_block_1:a("entry_flow/reduction_block_1")},u={};Vk(t,0,1).forEach((function(e){u["main_block_"+e]=s("middle_flow/main_block_"+e)}));var c={reduction_block:a("exit_flow/reduction_block"),separable_conv:i("exit_flow/separable_conv")};return VC(e,n),{params:{entry_flow:l,middle_flow:u,exit_flow:c},paramMappings:n}}function hE(e,t,n){return Sx(uw(e,t.filters,n,"same"),t.bias)}function mE(e,t,n){void 0===n&&(n=!0);var r=n?eS(e):e;return r=BC(r,t.separable_conv0,[1,1]),r=BC(eS(r),t.separable_conv1,[1,1]),r=Tw(r,[3,3],[2,2],"same"),r=Sx(r,hE(e,t.expansion_conv,[2,2]))}var vE,gE=function(e){function t(t){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return Pk(t,e),t.prototype.forwardInput=function(e){var t=this,n=this.params;if(!n)throw new Error("TinyXception - load model before inference");return th((function(){var r=Zk(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(kh(256)),o=eS(hE(r,n.entry_flow.conv_in,[2,2]));return o=mE(o,n.entry_flow.reduction_block_0,!1),o=mE(o,n.entry_flow.reduction_block_1),Vk(t._numMainBlocks,0,1).forEach((function(e){o=function(e,t){var n=BC(eS(e),t.separable_conv0,[1,1]);return n=BC(eS(n),t.separable_conv1,[1,1]),n=BC(eS(n),t.separable_conv2,[1,1]),Sx(n,e)}(o,n.middle_flow["main_block_"+e])})),o=mE(o,n.exit_flow.reduction_block),o=eS(BC(o,n.exit_flow.separable_conv,[1,1]))}))},t.prototype.forward=function(e){return Mk(this,void 0,void 0,(function(){var t;return Nk(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,PC(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(e){return fE(e,this._numMainBlocks)},t.prototype.extractParams=function(e){return pE(e,this._numMainBlocks)},t}(LC);!function(e){e.FEMALE="female",e.MALE="male"}(vE||(vE={}));var yE=function(e){function t(t){void 0===t&&(t=new gE(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return Pk(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return th((function(){var r=e instanceof IC?t.faceFeatureExtractor.forwardInput(e):e,o=Iw(r,[7,7],[2,2],"valid").as2D(r.shape[0],-1);return{age:tE(o,n.fc.age).as1D(),gender:tE(o,n.fc.gender)}}))},t.prototype.forwardInput=function(e){var t=this;return th((function(){var n=t.runNet(e),r=n.age,o=n.gender;return{age:r,gender:Hm(o)}}))},t.prototype.forward=function(e){return Mk(this,void 0,void 0,(function(){var t;return Nk(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,PC(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.predictAgeAndGender=function(e){return Mk(this,void 0,void 0,(function(){var t,n,r,o,i,a,s=this;return Nk(this,(function(l){switch(l.label){case 0:return[4,PC(e)];case 1:return t=l.sent(),[4,this.forwardInput(t)];case 2:return n=l.sent(),r=Cm(n.age),o=Cm(n.gender),i=r.map((function(e,t){return{ageTensor:e,genderTensor:o[t]}})),[4,Promise.all(i.map((function(e){var t=e.ageTensor,n=e.genderTensor;return Mk(s,void 0,void 0,(function(){var e,r,o,i,a;return Nk(this,(function(s){switch(s.label){case 0:return[4,t.data()];case 1:return e=s.sent()[0],[4,n.data()];case 2:return r=s.sent()[0],i=(o=r>.5)?vE.MALE:vE.FEMALE,a=o?r:1-r,t.dispose(),n.dispose(),[2,{age:e,gender:i,genderProbability:a}]}}))}))})))];case 3:return a=l.sent(),n.age.dispose(),n.gender.dispose(),[2,t.isBatchInput?a:a[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e){var t=[],n=YC(e),r=n.extractWeights,o=n.getRemainingWeights,i=$C(r,t),a=i(512,1,"fc/age"),s=i(512,2,"fc/gender");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{fc:{age:a,gender:s}}}}(e)},t.prototype.extractParamsFromWeigthMap=function(e){var t=nE(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=XC(e,t);function r(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}var o={fc:{age:r("fc/age"),gender:r("fc/gender")}};return VC(e,t),{params:o,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=e.slice(0,e.length-1539),n=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(t),this.extractClassifierParams(n)},t}(LC),bE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.postProcess=function(e,t,n){var r=n.map((function(e){var n=e.width,r=e.height,o=t/Math.max(r,n);return{width:n*o,height:r*o}})),o=r.length;return th((function(){var n=function(e,t){return Sm([Ph([68],e),Ph([68],t)],1).as2D(1,136).as1D()},i=function(e,t){var n=r[e],o=n.width,i=n.height;return t(o,i)?Math.abs(o-i)/2:0},a=e.mul(Ph([o,136],t)).sub(Sm(Array.from(Array(o),(function(e,t){return n(function(e){return i(e,(function(e,t){return e<t}))}(t),function(e){return i(e,(function(e,t){return t<e}))}(t))})))).div(Sm(Array.from(Array(o),(function(e,t){return n(r[t].width,r[t].height)}))));return a}))},t.prototype.forwardInput=function(e){var t=this;return th((function(){var n=t.runNet(e);return t.postProcess(n,e.inputSize,e.inputDimensions.map((function(e){return{height:e[0],width:e[1]}})))}))},t.prototype.forward=function(e){return Mk(this,void 0,void 0,(function(){var t;return Nk(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,PC(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.detectLandmarks=function(e){return Mk(this,void 0,void 0,(function(){var t,n,r,o=this;return Nk(this,(function(i){switch(i.label){case 0:return[4,PC(e)];case 1:return t=i.sent(),n=th((function(){return Cm(o.forwardInput(t))})),[4,Promise.all(n.map((function(e,n){return Mk(o,void 0,void 0,(function(){var r,o,i,a,s;return Nk(this,(function(l){switch(l.label){case 0:return i=(o=Array).from,[4,e.data()];case 1:return r=i.apply(o,[l.sent()]),a=r.filter((function(e,t){return zk(t)})),s=r.filter((function(e,t){return!zk(t)})),[2,new iC(Array(68).fill(0).map((function(e,t){return new Gk(a[t],s[t])})),{height:t.getInputHeight(n),width:t.getInputWidth(n)})]}}))}))})))];case 2:return r=i.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?r:r[0]]}}))}))},t.prototype.getClassifierChannelsOut=function(){return 136},t}(rE),xE=function(e){function t(t){return void 0===t&&(t=new eE),e.call(this,"FaceLandmark68Net",t)||this}return Pk(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(bE);var wE=function(e){function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return Pk(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("TinyFaceFeatureExtractor - load model before inference");return th((function(){var n=zC(Zk(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(kh(255)),t.dense0,!0);return n=zC(n,t.dense1),n=zC(n,t.dense2),n=Iw(n,[14,14],[2,2],"valid")}))},t.prototype.forward=function(e){return Mk(this,void 0,void 0,(function(){var t;return Nk(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,PC(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=ZC(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return VC(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=YC(e),r=n.extractWeights,o=n.getRemainingWeights,i=QC(r,t).extractDenseBlock3Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),l=i(64,128,"dense2");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:s,dense2:l}}}(e)},t}(LC),SE=function(e){function t(t){return void 0===t&&(t=new wE),e.call(this,"FaceLandmark68TinyNet",t)||this}return Pk(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(bE);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Pk(t,e)}(xE);function AE(e,t,n,r,o){void 0===o&&(o="same");var i=t.conv,a=i.filters,s=i.bias,l=uw(e,a,n,o);return l=function(e,t){return Sx(Fx(e,t.weights),t.biases)}(l=Sx(l,s),t.scale),r?eS(l):l}function kE(e,t){return AE(e,t,[1,1],!1)}function CE(e,t){return AE(e,t,[2,2],!0,"valid")}function EE(e,t){function n(n,r,o,i){var a=function(t,n,r){var o=e(t),i=o.length/(n*r*r);if(i%1!==0)throw new Error("depth has to be an integer: "+i+", weights.length: "+o.length+", numFilters: "+n+", filterSize: "+r);return th((function(){return rS(Rh(o,[n,i,r,r]),[2,3,1,0])}))}(n,r,o),s=Ch(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:a,bias:s}}function r(r,o,i,a){var s=n(r,o,i,a+"/conv"),l=function(n,r){var o=Ch(e(n)),i=Ch(e(n));return t.push({paramPath:r+"/weights"},{paramPath:r+"/biases"}),{weights:o,biases:i}}(o,a+"/scale");return{conv:s,scale:l}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e,t,n,o,i){return void 0===i&&(i=!1),{conv1:r((i?.5:1)*e,t,n,o+"/conv1"),conv2:r(e,t,n,o+"/conv2")}}}}function _E(e,t){var n=XC(e,t);function r(e){var t=n(e+"/conv/filters",4),r=n(e+"/conv/bias",1),o=function(e){return{weights:n(e+"/scale/weights",1),biases:n(e+"/scale/biases",1)}}(e);return{conv:{filters:t,bias:r},scale:o}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e){return{conv1:r(e+"/conv1"),conv2:r(e+"/conv2")}}}}function RE(e){var t=[],n=_E(e,t),r=n.extractConvLayerParams,o=n.extractResidualLayerParams,i=r("conv32_down"),a=o("conv32_1"),s=o("conv32_2"),l=o("conv32_3"),u=o("conv64_down"),c=o("conv64_1"),d=o("conv64_2"),p=o("conv64_3"),f=o("conv128_down"),h=o("conv128_1"),m=o("conv128_2"),v=o("conv256_down"),g=o("conv256_1"),y=o("conv256_2"),b=o("conv256_down_out"),x=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!jk(x,2))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+x);var w={conv32_down:i,conv32_1:a,conv32_2:s,conv32_3:l,conv64_down:u,conv64_1:c,conv64_2:d,conv64_3:p,conv128_down:f,conv128_1:h,conv128_2:m,conv256_down:v,conv256_1:g,conv256_2:y,conv256_down_out:b,fc:x};return VC(e,t),{params:w,paramMappings:t}}function TE(e,t){var n=function(e,t){return AE(e,t,[1,1],!0)}(e,t.conv1);return n=kE(n,t.conv2),n=Sx(n,e),n=eS(n)}function IE(e,t){var n=CE(e,t.conv1);n=kE(n,t.conv2);var r=Iw(e,2,2,"valid"),o=Ih(r.shape),i=r.shape[3]!==n.shape[3];if(r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2]){var a=Dk(n.shape);a[1]=1;var s=Ih(a),l=Dk((n=Dh([n,s],1)).shape);l[2]=1;var u=Ih(l);n=Dh([n,u],2)}return r=i?Dh([r,o],3):r,n=Sx(r,n),n=eS(n)}var PE=function(e){function t(){return e.call(this,"FaceRecognitionNet")||this}return Pk(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceRecognitionNet - load model before inference");return th((function(){var n=CE(Zk(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(kh(256)),t.conv32_down);n=TE(n=Tw(n,3,2,"valid"),t.conv32_1),n=TE(n,t.conv32_2),n=TE(n,t.conv32_3),n=TE(n=IE(n,t.conv64_down),t.conv64_1),n=TE(n,t.conv64_2),n=TE(n,t.conv64_3),n=TE(n=IE(n,t.conv128_down),t.conv128_1),n=TE(n,t.conv128_2),n=TE(n=IE(n,t.conv256_down),t.conv256_1);var r=(n=IE(n=TE(n,t.conv256_2),t.conv256_down_out)).mean([1,2]);return bw(r,t.fc)}))},t.prototype.forward=function(e){return Mk(this,void 0,void 0,(function(){var t;return Nk(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,PC(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.computeFaceDescriptor=function(e){return Mk(this,void 0,void 0,(function(){var t,n,r,o=this;return Nk(this,(function(i){switch(i.label){case 0:return[4,PC(e)];case 1:return t=i.sent(),n=th((function(){return Cm(o.forwardInput(t))})),[4,Promise.all(n.map((function(e){return e.data()})))];case 2:return r=i.sent(),n.forEach((function(e){return e.dispose()})),[2,t.isBatchInput?r:r[0]]}}))}))},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(e){return RE(e)},t.prototype.extractParams=function(e){return function(e){var t=YC(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],i=EE(n,o),a=i.extractConvLayerParams,s=i.extractResidualLayerParams,l=a(4704,32,7,"conv32_down"),u=s(9216,32,3,"conv32_1"),c=s(9216,32,3,"conv32_2"),d=s(9216,32,3,"conv32_3"),p=s(36864,64,3,"conv64_down",!0),f=s(36864,64,3,"conv64_1"),h=s(36864,64,3,"conv64_2"),m=s(36864,64,3,"conv64_3"),v=s(147456,128,3,"conv128_down",!0),g=s(147456,128,3,"conv128_1"),y=s(147456,128,3,"conv128_2"),b=s(589824,256,3,"conv256_down",!0),x=s(589824,256,3,"conv256_1"),w=s(589824,256,3,"conv256_2"),S=s(589824,256,3,"conv256_down_out"),A=th((function(){return rS(Eh(n(32768),[128,256]),[1,0])}));if(o.push({paramPath:"fc"}),0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{conv32_down:l,conv32_1:u,conv32_2:c,conv32_3:d,conv64_down:p,conv64_1:f,conv64_2:h,conv64_3:m,conv128_down:v,conv128_1:g,conv128_2:y,conv256_down:b,conv256_1:x,conv256_2:w,conv256_down_out:S,fc:A},paramMappings:o}}(e)},t}(LC);function OE(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var ME=function(){function e(e){var t=void 0===e?{}:e,n=t.minFaceSize,r=t.scaleFactor,o=t.maxNumScales,i=t.scoreThresholds,a=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=r||.709,this._maxNumScales=o||10,this._scoreThresholds=i||[.6,.7,.7],this._scaleSteps=a,"number"!==typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!==typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!==typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some((function(e){return"number"!==typeof e})))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some((function(e){return"number"!==typeof e}))))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function NE(e,t){function n(n,r,o,i,a){var s=Rh(e(n*r*o*o),[o,o,n,r]),l=Ch(e(r));return t.push({paramPath:i+"/filters"},{paramPath:i+"/"+(a?"batch_norm_offset":"bias")}),{filters:s,bias:l}}function r(e,t,r,o){var i=n(e,t,r,o,!0);return{filters:i.filters,batch_norm_offset:i.bias}}function o(n,o,i){var a=function(n,r){var o=Rh(e(9*n),[3,3,n,1]),i=Ch(e(n)),a=Ch(e(n)),s=Ch(e(n)),l=Ch(e(n));return t.push({paramPath:r+"/filters"},{paramPath:r+"/batch_norm_scale"},{paramPath:r+"/batch_norm_offset"},{paramPath:r+"/batch_norm_mean"},{paramPath:r+"/batch_norm_variance"}),{filters:o,batch_norm_scale:i,batch_norm_offset:a,batch_norm_mean:s,batch_norm_variance:l}}(n,i+"/depthwise_conv");return{depthwise_conv:a,pointwise_conv:r(n,o,1,i+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:r(3,32,3,"mobilenetv1/conv_0"),conv_1:o(32,64,"mobilenetv1/conv_1"),conv_2:o(64,128,"mobilenetv1/conv_2"),conv_3:o(128,128,"mobilenetv1/conv_3"),conv_4:o(128,256,"mobilenetv1/conv_4"),conv_5:o(256,256,"mobilenetv1/conv_5"),conv_6:o(256,512,"mobilenetv1/conv_6"),conv_7:o(512,512,"mobilenetv1/conv_7"),conv_8:o(512,512,"mobilenetv1/conv_8"),conv_9:o(512,512,"mobilenetv1/conv_9"),conv_10:o(512,512,"mobilenetv1/conv_10"),conv_11:o(512,512,"mobilenetv1/conv_11"),conv_12:o(512,1024,"mobilenetv1/conv_12"),conv_13:o(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:r(1024,256,1,"prediction_layer/conv_0"),conv_1:r(256,512,3,"prediction_layer/conv_1"),conv_2:r(512,128,1,"prediction_layer/conv_2"),conv_3:r(128,256,3,"prediction_layer/conv_3"),conv_4:r(256,128,1,"prediction_layer/conv_4"),conv_5:r(128,256,3,"prediction_layer/conv_5"),conv_6:r(256,64,1,"prediction_layer/conv_6"),conv_7:r(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}function DE(e){var t=[],n=function(e,t){var n=XC(e,t);function r(e,t,r){return{filters:n(e+"/Conv2d_"+t+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(e+"/Conv2d_"+t+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function o(e){var t="mobilenetv1/conv_"+e,o="MobilenetV1/Conv2d_"+e+"_depthwise",i=t+"/depthwise_conv",a=t+"/pointwise_conv";return{depthwise_conv:{filters:n(o+"/depthwise_weights",4,i+"/filters"),batch_norm_scale:n(o+"/BatchNorm/gamma",1,i+"/batch_norm_scale"),batch_norm_offset:n(o+"/BatchNorm/beta",1,i+"/batch_norm_offset"),batch_norm_mean:n(o+"/BatchNorm/moving_mean",1,i+"/batch_norm_mean"),batch_norm_variance:n(o+"/BatchNorm/moving_variance",1,i+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",e,a)}}function i(e,t){return{filters:n(e+"/weights",4,t+"/filters"),bias:n(e+"/biases",1,t+"/bias")}}function a(e){return{box_encoding_predictor:i("Prediction/BoxPredictor_"+e+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+e+"/box_encoding_predictor"),class_predictor:i("Prediction/BoxPredictor_"+e+"/ClassPredictor","prediction_layer/box_predictor_"+e+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:o(1),conv_2:o(2),conv_3:o(3),conv_4:o(4),conv_5:o(5),conv_6:o(6),conv_7:o(7),conv_8:o(8),conv_9:o(9),conv_10:o(10),conv_11:o(11),conv_12:o(12),conv_13:o(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:a(0),box_predictor_1:a(1),box_predictor_2:a(2),box_predictor_3:a(3),box_predictor_4:a(4),box_predictor_5:a(5)}}}}(e,t),r=n.extractMobilenetV1Params,o=n.extractPredictionLayerParams,i=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!Lk(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var a={mobilenetv1:r(),prediction_layer:o(),output_layer:{extra_dim:i}};return VC(e,t),{params:a,paramMappings:t}}function FE(e,t,n){return th((function(){var r=uw(e,t.filters,n,"same");return r=Sx(r,t.batch_norm_offset),Ib(r,0,6)}))}function jE(e,t){return th((function(){var n=null,r=FE(e,t.conv_0,[2,2]);if([t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13].forEach((function(e,t){var o=t+1,i=function(e){return[2,4,6,12].some((function(t){return t===e}))?[2,2]:[1,1]}(o);r=function(e,t,n){return th((function(){var r=fw(e,t.filters,n,"same");return r=px(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,.0010000000474974513),Ib(r,0,6)}))}(r,e.depthwise_conv,i),r=FE(r,e.pointwise_conv,[1,1]),11===o&&(n=r)})),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}}))}function LE(e,t,n){var r=e.arraySync(),o=Math.min(r[t][0],r[t][2]),i=Math.min(r[t][1],r[t][3]),a=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),l=Math.min(r[n][0],r[n][2]),u=Math.min(r[n][1],r[n][3]),c=Math.max(r[n][0],r[n][2]),d=Math.max(r[n][1],r[n][3]),p=(a-o)*(s-i),f=(c-l)*(d-u);if(p<=0||f<=0)return 0;var h=Math.max(o,l),m=Math.max(i,u),v=Math.min(a,c),g=Math.min(s,d),y=Math.max(v-h,0)*Math.max(g-m,0);return y/(p+f-y)}function BE(e,t){var n=function(e){var t=Cm(rS(e,[1,0])),n=[Wx(t[2],t[0]),Wx(t[3],t[1])];return{sizes:n,centers:[Sx(t[0],Ex(n[0],kh(2))),Sx(t[1],Ex(n[1],kh(2)))]}}(e),r=n.sizes,o=n.centers,i=Cm(rS(t,[1,0])),a=Ex(Fx(Nb(Ex(i[2],kh(5))),r[0]),kh(2)),s=Sx(Fx(Ex(i[0],kh(10)),r[0]),o[0]),l=Ex(Fx(Nb(Ex(i[3],kh(5))),r[1]),kh(2)),u=Sx(Fx(Ex(i[1],kh(10)),r[1]),o[1]);return rS(Sm([Wx(s,a),Wx(u,l),Sx(s,a),Sx(u,l)]),[1,0])}function zE(e,t){return th((function(){var n=e.shape[0];return{boxPredictionEncoding:bm(UC(e,t.box_encoding_predictor),[n,-1,1,4]),classPrediction:bm(UC(e,t.class_predictor),[n,-1,3])}}))}var WE=function(){function e(e){var t=void 0===e?{}:e,n=t.minConfidence,r=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=r||100,"number"!==typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!==typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),UE=function(e){function t(){return e.call(this,"SsdMobilenetv1")||this}return Pk(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("SsdMobilenetv1 - load model before inference");return th((function(){var n=e.toBatchTensor(512,!1).toFloat(),r=jE(Wx(Fx(n,kh(.007843137718737125)),kh(1)),t.mobilenetv1),o=function(e,t,n){return th((function(){var r=FE(e,n.conv_0,[1,1]),o=FE(r,n.conv_1,[2,2]),i=FE(o,n.conv_2,[1,1]),a=FE(i,n.conv_3,[2,2]),s=FE(a,n.conv_4,[1,1]),l=FE(s,n.conv_5,[2,2]),u=FE(l,n.conv_6,[1,1]),c=FE(u,n.conv_7,[2,2]),d=zE(t,n.box_predictor_0),p=zE(e,n.box_predictor_1),f=zE(o,n.box_predictor_2),h=zE(a,n.box_predictor_3),m=zE(l,n.box_predictor_4),v=zE(c,n.box_predictor_5);return{boxPredictions:Dh([d.boxPredictionEncoding,p.boxPredictionEncoding,f.boxPredictionEncoding,h.boxPredictionEncoding,m.boxPredictionEncoding,v.boxPredictionEncoding],1),classPredictions:Dh([d.classPrediction,p.classPrediction,f.classPrediction,h.classPrediction,m.classPrediction,v.classPrediction],1)}}))}(r.out,r.conv11,t.prediction_layer);return function(e,t,n){return th((function(){var r=e.shape[0],o=BE(bm(Am(n.extra_dim,[r,1,1]),[-1,4]),bm(e,[-1,4]));o=bm(o,[r,o.shape[0]/r,4]);var i=Hb(Nw(t,[0,0,1],[-1,-1,-1])),a=Nw(i,[0,0,0],[-1,-1,1]);return a=bm(a,[r,a.shape[1]]),{boxes:Cm(o),scores:Cm(a)}}))}(o.boxPredictions,o.classPredictions,t.output_layer)}))},t.prototype.forward=function(e){return Mk(this,void 0,void 0,(function(){var t;return Nk(this,(function(n){switch(n.label){case 0:return t=this.forwardInput,[4,PC(e)];case 1:return[2,t.apply(this,[n.sent()])]}}))}))},t.prototype.locateFaces=function(e,t){return void 0===t&&(t={}),Mk(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,u,c,d,p,f,h,m,v,g,y,b,x,w;return Nk(this,(function(S){switch(S.label){case 0:return n=new WE(t),r=n.maxResults,o=n.minConfidence,[4,PC(e)];case 1:for(i=S.sent(),a=this.forwardInput(i),s=a.boxes,l=a.scores,u=s[0],c=l[0],d=1;d<s.length;d++)s[d].dispose(),l[d].dispose();return h=(f=Array).from,[4,c.data()];case 2:return p=h.apply(f,[S.sent()]),m=function(e,t,n,r,o){var i=e.shape[0],a=Math.min(n,i),s=t.map((function(e,t){return{score:e,boxIndex:t}})).filter((function(e){return e.score>o})).sort((function(e,t){return t.score-e.score})),l=function(e){return e<=r?1:0},u=[];return s.forEach((function(t){if(!(u.length>=a)){for(var n=t.score,r=u.length-1;r>=0;--r){var i=LE(e,t.boxIndex,u[r]);if(0!==i&&(t.score*=l(i),t.score<=o))break}n===t.score&&u.push(t.boxIndex)}})),u}(u,p,r,.5,o),v=i.getReshapedInputDimensions(0),g=i.inputSize,y=g/v.width,b=g/v.height,x=u.arraySync(),w=m.map((function(e){var t=[Math.max(0,x[e][0]),Math.min(1,x[e][2])].map((function(e){return e*b})),n=t[0],r=t[1],o=[Math.max(0,x[e][1]),Math.min(1,x[e][3])].map((function(e){return e*y})),a=o[0],s=o[1];return new Yk(p[e],new nC(a,n,s-a,r-n),{height:i.getInputHeight(0),width:i.getInputWidth(0)})})),u.dispose(),c.dispose(),[2,w]}}))}))},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(e){return DE(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=YC(e),r=n.extractWeights,o=n.getRemainingWeights,i=NE(r,t),a=i.extractMobilenetV1Params,s=i.extractPredictionLayerParams,l=a(),u=s(),c={extra_dim:_h(r(20472),[1,5118,4])};if(t.push({paramPath:"output_layer/extra_dim"}),0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{params:{mobilenetv1:l,prediction_layer:u,output_layer:c},paramMappings:t}}(e)},t}(LC);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Pk(t,e)}(UE);var VE,HE=[new Gk(.738768,.874946),new Gk(2.42204,2.65704),new Gk(4.30971,7.04493),new Gk(10.246,4.59428),new Gk(12.6868,11.8741)],$E=[new Gk(1.603231,2.094468),new Gk(6.041143,7.080126),new Gk(2.882459,3.518061),new Gk(4.266906,5.178857),new Gk(9.041765,10.66308)],GE=[117.001,114.697,97.404],qE=function(e){return"number"===typeof e};function KE(e){return th((function(){var t=Fx(e,kh(.10000000149011612));return Sx(eS(Wx(e,t)),t)}))}function XE(e,t){return th((function(){var n=cm(e,[[0,0],[1,1],[1,1],[0,0]]);return n=uw(n,t.conv.filters,[1,1],"valid"),n=Wx(n,t.bn.sub),n=Fx(n,t.bn.truediv),KE(n=Sx(n,t.conv.bias))}))}function YE(e,t){return th((function(){var n=cm(e,[[0,0],[1,1],[1,1],[0,0]]);return n=vw(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),KE(n=Sx(n,t.bias))}))}function QE(e,t){var n=HC(e,t);var r=qC(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:function(r,o,i){var a=n(r,o,3,i+"/conv"),s=function(n,r){var o=Ch(e(n)),i=Ch(e(n));return t.push({paramPath:r+"/sub"},{paramPath:r+"/truediv"}),{sub:o,truediv:i}}(o,i+"/bn");return{conv:a,bn:s}},extractSeparableConvParams:r}}function JE(e,t){var n=XC(e,t);function r(e){return{filters:n(e+"/filters",4),bias:n(e+"/bias",1)}}return{extractConvParams:r,extractConvWithBatchNormParams:function(e){var t=r(e+"/conv"),o=function(e){return{sub:n(e+"/sub",1),truediv:n(e+"/truediv",1)}}(e+"/bn");return{conv:t,bn:o}},extractSeparableConvParams:KC(n)}}!function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"}(VE||(VE={}));var ZE=function(){function e(e){var t=void 0===e?{}:e,n=t.inputSize,r=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=r||.5,"number"!==typeof this._inputSize||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!==typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),e_=function(e){function t(t){var n=e.call(this,"TinyYolov2")||this;return function(e){if(!e)throw new Error("invalid config: "+e);if("boolean"!==typeof e.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!qE(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every((function(e){return"string"===typeof e})))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map((function(e){return e||{}})).every((function(e){return qE(e.x)&&qE(e.y)})))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||3!==e.meanRgb.length||!e.meanRgb.every(qE)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}(t),n._config=t,n}return Pk(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(e,t){var n=XE(e,t.conv0);return n=XE(n=Tw(n,[2,2],[2,2],"same"),t.conv1),n=XE(n=Tw(n,[2,2],[2,2],"same"),t.conv2),n=XE(n=Tw(n,[2,2],[2,2],"same"),t.conv3),n=XE(n=Tw(n,[2,2],[2,2],"same"),t.conv4),n=XE(n=Tw(n,[2,2],[2,2],"same"),t.conv5),n=XE(n=Tw(n,[2,2],[1,1],"same"),t.conv6),UC(n=XE(n,t.conv7),t.conv8,"valid",!1)},t.prototype.runMobilenet=function(e,t){var n=this.config.isFirstLayerConv2d?KE(UC(e,t.conv0,"valid",!1)):YE(e,t.conv0);return n=YE(n=Tw(n,[2,2],[2,2],"same"),t.conv1),n=YE(n=Tw(n,[2,2],[2,2],"same"),t.conv2),n=YE(n=Tw(n,[2,2],[2,2],"same"),t.conv3),n=YE(n=Tw(n,[2,2],[2,2],"same"),t.conv4),n=YE(n=Tw(n,[2,2],[2,2],"same"),t.conv5),n=Tw(n,[2,2],[1,1],"same"),n=t.conv6?YE(n,t.conv6):n,UC(n=t.conv7?YE(n,t.conv7):n,t.conv8,"valid",!1)},t.prototype.forwardInput=function(e,t){var n=this,r=this.params;if(!r)throw new Error("TinyYolov2 - load model before inference");return th((function(){var o=e.toBatchTensor(t,!1).toFloat();return o=(o=n.config.meanRgb?Zk(o,n.config.meanRgb):o).div(kh(256)),n.config.withSeparableConvs?n.runMobilenet(o,r):n.runTinyYolov2(o,r)}))},t.prototype.forward=function(e,t){return Mk(this,void 0,void 0,(function(){var n;return Nk(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,PC(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent()]}}))}))},t.prototype.detect=function(e,t){return void 0===t&&(t={}),Mk(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,u,c,d,p,f,h,m=this;return Nk(this,(function(v){switch(v.label){case 0:return n=new ZE(t),r=n.inputSize,o=n.scoreThreshold,[4,PC(e)];case 1:return i=v.sent(),[4,this.forwardInput(i,r)];case 2:return a=v.sent(),s=th((function(){return Cm(a)[0].expandDims()})),l={width:i.getInputWidth(0),height:i.getInputHeight(0)},[4,this.extractBoxes(s,i.getReshapedInputDimensions(0),o)];case 3:return u=v.sent(),a.dispose(),s.dispose(),c=u.map((function(e){return e.box})),d=u.map((function(e){return e.score})),p=u.map((function(e){return e.classScore})),f=u.map((function(e){return m.config.classes[e.label]})),h=Jk(c.map((function(e){return e.rescale(r)})),d,this.config.iouThreshold,!0),[2,h.map((function(e){return new Xk(d[e],p[e],f[e],c[e],l)}))]}}))}))},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(e){return function(e,t){var n,r=[],o=JE(e,r),i=o.extractConvParams,a=o.extractConvWithBatchNormParams,s=o.extractSeparableConvParams;if(t.withSeparableConvs){var l=t.filterSizes&&t.filterSizes.length||9;n={conv0:t.isFirstLayerConv2d?i("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:l>7?s("conv6"):void 0,conv7:l>8?s("conv7"):void 0,conv8:i("conv8")}}else n={conv0:a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:a("conv6"),conv7:a("conv7"),conv8:i("conv8")};return VC(e,r),{params:n,paramMappings:r}}(e,this.config)},t.prototype.extractParams=function(e){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(7!==r&&8!==r&&9!==r)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+r+" filterSizes in config");return function(e,t,n,r){var o,i=YC(e),a=i.extractWeights,s=i.getRemainingWeights,l=[],u=QE(a,l),c=u.extractConvParams,d=u.extractConvWithBatchNormParams,p=u.extractSeparableConvParams;if(t.withSeparableConvs){var f=r[0],h=r[1],m=r[2],v=r[3],g=r[4],y=r[5],b=r[6],x=r[7],w=r[8];o={conv0:t.isFirstLayerConv2d?c(f,h,3,"conv0"):p(f,h,"conv0"),conv1:p(h,m,"conv1"),conv2:p(m,v,"conv2"),conv3:p(v,g,"conv3"),conv4:p(g,y,"conv4"),conv5:p(y,b,"conv5"),conv6:x?p(b,x,"conv6"):void 0,conv7:w?p(x,w,"conv7"):void 0,conv8:c(w||x||b,5*n,1,"conv8")}}else f=r[0],h=r[1],m=r[2],v=r[3],g=r[4],y=r[5],b=r[6],x=r[7],w=r[8],o={conv0:d(f,h,"conv0"),conv1:d(h,m,"conv1"),conv2:d(m,v,"conv2"),conv3:d(v,g,"conv3"),conv4:d(g,y,"conv4"),conv5:d(y,b,"conv5"),conv6:d(b,x,"conv6"),conv7:d(x,w,"conv7"),conv8:c(w,5*n,1,"conv8")};if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{params:o,paramMappings:l}}(e,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(e,t,n){return Mk(this,void 0,void 0,(function(){var r,o,i,a,s,l,u,c,d,p,f,h,m,v,g,y,b,x,w,S,A,k,C,E,_,R,T,I,P,O=this;return Nk(this,(function(M){switch(M.label){case 0:return r=t.width,o=t.height,i=Math.max(r,o),a=i/r,s=i/o,l=e.shape[1],u=this.config.anchors.length,c=th((function(){var t=e.reshape([l,l,u,O.boxEncodingSize]);return[t.slice([0,0,0,0],[l,l,u,4]),t.slice([0,0,0,4],[l,l,u,1]),O.withClassScores?Hm(t.slice([0,0,0,5],[l,l,u,O.config.classes.length]),3):kh(0)]})),d=c[0],p=c[1],f=c[2],h=[],[4,p.array()];case 1:return m=M.sent(),[4,d.array()];case 2:v=M.sent(),g=0,M.label=3;case 3:if(!(g<l))return[3,12];y=0,M.label=4;case 4:if(!(y<l))return[3,11];b=0,M.label=5;case 5:return b<u?(x=eC(m[g][y][b][0]),!n||x>n?(w=(y+eC(v[g][y][b][0]))/l*a,S=(g+eC(v[g][y][b][1]))/l*s,A=Math.exp(v[g][y][b][2])*this.config.anchors[b].x/l*a,k=Math.exp(v[g][y][b][3])*this.config.anchors[b].y/l*s,C=w-A/2,E=S-k/2,_={row:g,col:y,anchor:b},this.withClassScores?[4,this.extractPredictedClass(f,_)]:[3,7]):[3,9]):[3,10];case 6:return P=M.sent(),[3,8];case 7:P={classScore:1,label:0},M.label=8;case 8:T=(R=P).classScore,I=R.label,h.push(Ok({box:new Kk(C,E,C+A,E+k),score:x,classScore:x*T,label:I},_)),M.label=9;case 9:return b++,[3,5];case 10:return y++,[3,4];case 11:return g++,[3,3];case 12:return d.dispose(),p.dispose(),f.dispose(),[2,h]}}))}))},t.prototype.extractPredictedClass=function(e,t){return Mk(this,void 0,void 0,(function(){var n,r,o,i;return Nk(this,(function(a){switch(a.label){case 0:return n=t.row,r=t.col,o=t.anchor,[4,e.array()];case 1:return i=a.sent(),[2,Array(this.config.classes.length).fill(0).map((function(e,t){return i[n][r][o][t]})).map((function(e,t){return{classScore:e,label:t}})).reduce((function(e,t){return e.classScore>t.classScore?e:t}))]}}))}))},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(LC),t_=function(e){function t(t){void 0===t&&(t=!0);var n=Object.assign({},{withSeparableConvs:t,iouThreshold:.4,classes:["face"]},t?{anchors:$E,meanRgb:GE}:{anchors:HE,withClassScores:!0});return e.call(this,n)||this}return Pk(t,e),Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Mk(this,void 0,void 0,(function(){return Nk(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new Yk(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(e_);var n_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return Pk(t,e),t}(ZE),r_=function(){function e(){}return e.prototype.then=function(e){return Mk(this,void 0,void 0,(function(){var t;return Nk(this,(function(n){switch(n.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}}))}))},e.prototype.run=function(){return Mk(this,void 0,void 0,(function(){return Nk(this,(function(e){throw new Error("ComposableTask - run is not implemented")}))}))},e}();function o_(e,t){var n={descriptor:t};return Object.assign({},e,n)}function i_(e,t,n,r,o){return void 0===o&&(o=function(e){return e.alignedRect}),Mk(this,void 0,void 0,(function(){var i,a,s,l,u;return Nk(this,(function(c){switch(c.label){case 0:return i=e.map((function(e){return lE(e)?o(e):e.detection})),(s=r)?[3,5]:t instanceof Op?[4,MC(t,i)]:[3,2];case 1:return l=c.sent(),[3,4];case 2:return[4,OC(t,i)];case 3:l=c.sent(),c.label=4;case 4:s=l,c.label=5;case 5:return[4,n(a=s)];case 6:return u=c.sent(),a.forEach((function(e){return e instanceof Op&&e.dispose()})),[2,u]}}))}))}function a_(e,t,n,r,o){return Mk(this,void 0,void 0,(function(){var i=this;return Nk(this,(function(a){return[2,i_([e],t,(function(e){return Mk(i,void 0,void 0,(function(){return Nk(this,(function(t){return[2,n(e[0])]}))}))}),r,o)]}))}))}function s_(e){var t=YC(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],i=function(e,t){var n=HC(e,t),r=$C(e,t);function o(n,r){var o=Ch(e(n));return t.push({paramPath:r}),o}function i(e,t,r){return void 0===r&&(r=!1),{conv1:n(e[0],e[1],3,t+"/conv1"),prelu1_alpha:o(e[1],t+"/prelu1_alpha"),conv2:n(e[1],e[2],3,t+"/conv2"),prelu2_alpha:o(e[2],t+"/prelu2_alpha"),conv3:n(e[2],e[3],r?2:3,t+"/conv3"),prelu3_alpha:o(e[3],t+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=i([3,10,16,32],"pnet"),t=n(32,2,1,"pnet/conv4_1"),r=n(32,4,1,"pnet/conv4_2");return Ok(Ok({},e),{conv4_1:t,conv4_2:r})},extractRNetParams:function(){var e=i([3,28,48,64],"rnet",!0),t=r(576,128,"rnet/fc1"),n=o(128,"rnet/prelu4_alpha"),a=r(128,2,"rnet/fc2_1"),s=r(128,4,"rnet/fc2_2");return Ok(Ok({},e),{fc1:t,prelu4_alpha:n,fc2_1:a,fc2_2:s})},extractONetParams:function(){var e=i([3,32,64,64],"onet"),t=n(64,128,2,"onet/conv4"),a=o(128,"onet/prelu4_alpha"),s=r(1152,256,"onet/fc1"),l=o(256,"onet/prelu5_alpha"),u=r(256,2,"onet/fc2_1"),c=r(256,4,"onet/fc2_2"),d=r(256,10,"onet/fc2_3");return Ok(Ok({},e),{conv4:t,prelu4_alpha:a,fc1:s,prelu5_alpha:l,fc2_1:u,fc2_2:c,fc2_3:d})}}}(n,o),a=i.extractPNetParams,s=i.extractRNetParams,l=i.extractONetParams,u=a(),c=s(),d=l();if(0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:u,rnet:c,onet:d},paramMappings:o}}function l_(e){var t=[],n=function(e,t){var n=XC(e,t);function r(e){return{filters:n(e+"/weights",4,e+"/filters"),bias:n(e+"/bias",1)}}function o(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}function i(e){return n(e,1)}function a(e){return{conv1:r(e+"/conv1"),prelu1_alpha:i(e+"/prelu1_alpha"),conv2:r(e+"/conv2"),prelu2_alpha:i(e+"/prelu2_alpha"),conv3:r(e+"/conv3"),prelu3_alpha:i(e+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=a("pnet"),t=r("pnet/conv4_1"),n=r("pnet/conv4_2");return Ok(Ok({},e),{conv4_1:t,conv4_2:n})},extractRNetParams:function(){var e=a("rnet"),t=o("rnet/fc1"),n=i("rnet/prelu4_alpha"),r=o("rnet/fc2_1"),s=o("rnet/fc2_2");return Ok(Ok({},e),{fc1:t,prelu4_alpha:n,fc2_1:r,fc2_2:s})},extractONetParams:function(){var e=a("onet"),t=r("onet/conv4"),n=i("onet/prelu4_alpha"),s=o("onet/fc1"),l=i("onet/prelu5_alpha"),u=o("onet/fc2_1"),c=o("onet/fc2_2"),d=o("onet/fc2_3");return Ok(Ok({},e),{conv4:t,prelu4_alpha:n,fc1:s,prelu5_alpha:l,fc2_1:u,fc2_2:c,fc2_3:d})}}}(e,t),r=n.extractPNetParams,o=n.extractRNetParams,i=n.extractONetParams,a=r(),s=o(),l=i();return VC(e,t),{params:{pnet:a,rnet:s,onet:l},paramMappings:t}}function u_(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}var c_=function(e){function t(t,n,r,o){return e.call(this,{left:t,top:n,right:r,bottom:o},!0)||this}return Pk(t,e),t}(qk);function d_(e){return th((function(){return Fx(Wx(e,kh(127.5)),kh(.0078125))}))}function p_(e,t){return th((function(){return Sx(eS(e),Fx(t,zb(eS(zb(e)))))}))}function f_(e,t,n){return void 0===n&&(n=!1),th((function(){var r=UC(e,t.conv1,"valid");return r=p_(r,t.prelu1_alpha),r=p_(r=UC(r=Tw(r,n?[2,2]:[3,3],[2,2],"same"),t.conv2,"valid"),t.prelu2_alpha),r=p_(r=UC(r=n?r:Tw(r,[3,3],[2,2],"valid"),t.conv3,"valid"),t.prelu3_alpha)}))}function h_(e,t,n,r,o){o.stage1=[];var i=t.map((function(t){return th((function(){var n={scale:t},o=function(e,t){return th((function(){var n=u_(t,e.shape.slice(1)),r=n.height,o=n.width,i=d_(XS.resizeBilinear(e,[r,o]));return rS(i,[0,2,1,3])}))}(e,t),i=Date.now(),a=function(e,t){return th((function(){var n=f_(e,t,!0),r=UC(n,t.conv4_1,"valid"),o=am($w(r,3),3);return{prob:Hm(Wx(r,o),3),regions:UC(n,t.conv4_2,"valid")}}))}(o,r),s=a.prob,l=a.regions;return n.pnet=Date.now()-i,{scoresTensor:Cm(Cm(s,3)[1])[0],regionsTensor:Cm(l)[0],scale:t,statsForScale:n}}))})),a=i.map((function(e){var t=e.scoresTensor,r=e.regionsTensor,i=e.scale,a=e.statsForScale,s=function(e,t,n,r){for(var o=[],i=e.arraySync(),a=0;a<e.shape[0];a++)for(var s=0;s<e.shape[1];s++)i[a][s]>=r&&o.push(new Gk(s,a));return o.map((function(e){var r=new Kk(Math.round((2*e.y+1)/n),Math.round((2*e.x+1)/n),Math.round((2*e.y+12)/n),Math.round((2*e.x+12)/n)),o=i[e.y][e.x],a=t.arraySync();return{cell:r,score:o,region:new c_(a[e.y][e.x][0],a[e.y][e.x][1],a[e.y][e.x][2],a[e.y][e.x][3])}}))}(t,r,i,n);if(t.dispose(),r.dispose(),!s.length)return o.stage1.push(a),[];var l=Date.now(),u=Jk(s.map((function(e){return e.cell})),s.map((function(e){return e.score})),.5);return a.nms=Date.now()-l,a.numBoxes=u.length,o.stage1.push(a),u.map((function(e){return s[e]}))})),s=a.reduce((function(e,t){return e.concat(t)}),[]),l=[],u=[];if(s.length>0){var c=Date.now(),d=Jk(s.map((function(e){return e.cell})),s.map((function(e){return e.score})),.7);o.stage1_nms=Date.now()-c,u=d.map((function(e){return s[e].score})),l=d.map((function(e){return s[e]})).map((function(e){var t=e.cell,n=e.region;return new Kk(t.left+n.left*t.width,t.top+n.top*t.height,t.right+n.right*t.width,t.bottom+n.bottom*t.height).toSquare().round()}))}return{boxes:l,scores:u}}function m_(e,t,n){var r=n.width,o=n.height;return Mk(this,void 0,void 0,(function(){var n,i,a,s=this;return Nk(this,(function(l){switch(l.label){case 0:return n=xC(e),[4,Promise.all(t.map((function(t){return Mk(s,void 0,void 0,(function(){var r,o,i,a,s,l,u,c;return Nk(this,(function(d){return r=t.padAtBorders(e.height,e.width),o=r.y,i=r.ey,a=r.x,s=r.ex,l=a-1,u=o-1,c=n.getImageData(l,u,s-l,i-u),[2,yC.isNodejs()?_C(c):createImageBitmap(c)]}))}))})))];case 1:return i=l.sent(),a=[],i.forEach((function(e){var t=xC(EC({width:r,height:o}));t.drawImage(e,0,0,r,o);for(var n=t.getImageData(0,0,r,o).data,i=[],s=0;s<n.length;s+=4)i.push(n[s+2]),i.push(n[s+1]),i.push(n[s]);a.push(i)})),[2,a.map((function(e){return th((function(){return d_(rS(Rh(e,[1,r,o,3]),[0,2,1,3]).toFloat())}))}))]}}))}))}function v_(e,t,n,r,o){return Mk(this,void 0,void 0,(function(){var i,a,s,l,u,c,d,p,f,h,m,v,g,y;return Nk(this,(function(b){switch(b.label){case 0:return i=Date.now(),[4,m_(e,t,{width:24,height:24})];case 1:return a=b.sent(),o.stage2_extractImagePatches=Date.now()-i,i=Date.now(),s=a.map((function(e){var t=function(e,t){return th((function(){var n=f_(e,t),r=p_(tE(bm(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu4_alpha),o=tE(r,t.fc2_1),i=am($w(o,1),1),a=Hm(Wx(o,i),1),s=tE(r,t.fc2_2);return{scores:Cm(a,1)[1],regions:s}}))}(e,r);return e.dispose(),t})),o.stage2_rnet=Date.now()-i,l=s.length>1?Dh(s.map((function(e){return e.scores}))):s[0].scores,d=(c=Array).from,[4,l.data()];case 2:return u=d.apply(c,[b.sent()]),l.dispose(),p=u.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),f=p.map((function(e){return t[e]})),h=p.map((function(e){return u[e]})),m=[],v=[],f.length>0&&(i=Date.now(),g=Jk(f,h,.7),o.stage2_nms=Date.now()-i,y=g.map((function(e){var t=s[p[e]].regions.arraySync();return new c_(t[0][0],t[0][1],t[0][2],t[0][3])})),v=g.map((function(e){return h[e]})),m=g.map((function(e,t){return f[e].calibrate(y[t])}))),s.forEach((function(e){e.regions.dispose(),e.scores.dispose()})),[2,{boxes:m,scores:v}]}}))}))}function g_(e,t,n,r,o){return Mk(this,void 0,void 0,(function(){var i,a,s,l,u,c,d,p,f,h,m,v,g,y,b;return Nk(this,(function(x){switch(x.label){case 0:return i=Date.now(),[4,m_(e,t,{width:48,height:48})];case 1:return a=x.sent(),o.stage3_extractImagePatches=Date.now()-i,i=Date.now(),s=a.map((function(e){var t=function(e,t){return th((function(){var n=f_(e,t);n=p_(n=UC(n=Tw(n,[2,2],[2,2],"same"),t.conv4,"valid"),t.prelu4_alpha);var r=p_(tE(bm(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu5_alpha),o=tE(r,t.fc2_1),i=am($w(o,1),1),a=Hm(Wx(o,i),1),s=tE(r,t.fc2_2),l=tE(r,t.fc2_3);return{scores:Cm(a,1)[1],regions:s,points:l}}))}(e,r);return e.dispose(),t})),o.stage3_onet=Date.now()-i,l=s.length>1?Dh(s.map((function(e){return e.scores}))):s[0].scores,d=(c=Array).from,[4,l.data()];case 2:return u=d.apply(c,[x.sent()]),l.dispose(),p=u.map((function(e,t){return{score:e,idx:t}})).filter((function(e){return e.score>n})).map((function(e){return e.idx})),f=p.map((function(e){var t=s[e].regions.arraySync();return new c_(t[0][0],t[0][1],t[0][2],t[0][3])})),h=p.map((function(e,n){return t[e].calibrate(f[n])})),m=p.map((function(e){return u[e]})),v=[],g=[],y=[],h.length>0&&(i=Date.now(),b=Jk(h,m,.7,!1),o.stage3_nms=Date.now()-i,v=b.map((function(e){return h[e]})),g=b.map((function(e){return m[e]})),y=b.map((function(e,t){return Array(5).fill(0).map((function(n,r){var o=s[e].points.arraySync();return new Gk(o[0][r]*(v[t].width+1)+v[t].left,o[0][r+5]*(v[t].height+1)+v[t].top)}))}))),s.forEach((function(e){e.regions.dispose(),e.scores.dispose(),e.points.dispose()})),[2,{boxes:v,scores:g,points:y}]}}))}))}var y_=function(e){function t(){return e.call(this,"Mtcnn")||this}return Pk(t,e),t.prototype.load=function(t){return Mk(this,void 0,void 0,(function(){return Nk(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]}))}))},t.prototype.loadFromDisk=function(t){return Mk(this,void 0,void 0,(function(){return Nk(this,(function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]}))}))},t.prototype.forwardInput=function(e,t){return void 0===t&&(t={}),Mk(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,u,c,d,p,f,h,m,v,g,y,b,x,w,S;return Nk(this,(function(A){switch(A.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(!(r=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return o={},i=Date.now(),a=th((function(){return e=am(hk.fromPixels(r)).toFloat(),th((function(){return Sm(Cm(e,3).reverse(),3)}));var e})),s=function(e){return a.dispose(),o.total=Date.now()-i,e},l=a.shape.slice(1),u=l[0],c=l[1],d=new ME(t),p=d.minFaceSize,f=d.scaleFactor,h=d.maxNumScales,m=d.scoreThresholds,v=d.scaleSteps,g=(v||function(e,t,n){for(var r=n[0],o=n[1],i=12/e,a=[],s=Math.min(r,o)*i,l=0;s>=12;)a.push(i*Math.pow(t,l)),s*=t,l+=1;return a}(p,f,[u,c])).filter((function(e){var t=u_(e,[u,c]);return Math.min(t.width,t.height)>12})).slice(0,h),o.scales=g,o.pyramid=g.map((function(e){return u_(e,[u,c])})),y=Date.now(),[4,h_(a,g,m[0],n.pnet,o)];case 1:return b=A.sent(),o.total_stage1=Date.now()-y,b.boxes.length?(o.stage2_numInputBoxes=b.boxes.length,y=Date.now(),[4,v_(r,b.boxes,m[1],n.rnet,o)]):[2,s({results:[],stats:o})];case 2:return x=A.sent(),o.total_stage2=Date.now()-y,x.boxes.length?(o.stage3_numInputBoxes=x.boxes.length,y=Date.now(),[4,g_(r,x.boxes,m[2],n.onet,o)]):[2,s({results:[],stats:o})];case 3:return w=A.sent(),o.total_stage3=Date.now()-y,S=w.boxes.map((function(e,t){return uE(uC({},new Yk(w.scores[t],new nC(e.left/c,e.top/u,e.width/c,e.height/u),{height:u,width:c})),new oC(w.points[t].map((function(t){return t.sub(new Gk(e.left,e.top)).div(new Gk(e.width,e.height))})),{width:e.width,height:e.height}))})),[2,s({results:S,stats:o})]}}))}))},t.prototype.forward=function(e,t){return void 0===t&&(t={}),Mk(this,void 0,void 0,(function(){var n;return Nk(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,PC(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent().results]}}))}))},t.prototype.forwardWithStats=function(e,t){return void 0===t&&(t={}),Mk(this,void 0,void 0,(function(){var n;return Nk(this,(function(r){switch(r.label){case 0:return n=this.forwardInput,[4,PC(e)];case 1:return[2,n.apply(this,[r.sent(),t])]}}))}))},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(e){return l_(e)},t.prototype.extractParams=function(e){return s_(e)},t}(LC),b_=[new Gk(1.603231,2.094468),new Gk(6.041143,7.080126),new Gk(2.882459,3.518061),new Gk(4.266906,5.178857),new Gk(9.041765,10.66308)],x_=[117.001,114.697,97.404],w_=function(e){function t(){var t={withSeparableConvs:!0,iouThreshold:.4,classes:["face"],anchors:b_,meanRgb:x_,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return e.call(this,t)||this}return Pk(t,e),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Mk(this,void 0,void 0,(function(){return Nk(this,(function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map((function(e){return new Yk(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})}))]}}))}))},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(e_),S_={ssdMobilenetv1:new UE,tinyFaceDetector:new w_,tinyYolov2:new t_,mtcnn:new y_,faceLandmark68Net:new xE,faceLandmark68TinyNet:new SE,faceRecognitionNet:new PE,faceExpressionNet:new aE,ageGenderNet:new yE};function A_(e,t){var n={age:t};return Object.assign({},e,n)}var k_=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return Pk(t,e),t}(r_),C_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.run=function(){return Mk(this,void 0,void 0,(function(){var e,t,n=this;return Nk(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,i_(e=r.sent(),this.input,(function(e){return Mk(n,void 0,void 0,(function(){return Nk(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return S_.faceExpressionNet.predictExpressions(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){return sE(e,t[n])}))]}}))}))},t.prototype.withAgeAndGender=function(){return new I_(this,this.input)},t}(k_),E_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.run=function(){return Mk(this,void 0,void 0,(function(){var e,t;return Nk(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,a_(e,this.input,(function(e){return S_.faceExpressionNet.predictExpressions(e)}),this.extractedFaces)]:[2];case 2:return t=n.sent(),[2,sE(e,t)]}}))}))},t.prototype.withAgeAndGender=function(){return new P_(this,this.input)},t}(k_),__=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.withAgeAndGender=function(){return new O_(this,this.input)},t.prototype.withFaceDescriptors=function(){return new D_(this,this.input)},t}(C_),R_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.withAgeAndGender=function(){return new M_(this,this.input)},t.prototype.withFaceDescriptor=function(){return new F_(this,this.input)},t}(E_),T_=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return Pk(t,e),t}(r_),I_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.run=function(){return Mk(this,void 0,void 0,(function(){var e,t,n=this;return Nk(this,(function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,i_(e=r.sent(),this.input,(function(e){return Mk(n,void 0,void 0,(function(){return Nk(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return S_.ageGenderNet.predictAgeAndGender(e)})))];case 1:return[2,t.sent()]}}))}))}),this.extractedFaces)];case 2:return t=r.sent(),[2,e.map((function(e,n){var r=t[n],o=r.age;return A_(OE(e,r.gender,r.genderProbability),o)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new C_(this,this.input)},t}(T_),P_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.run=function(){return Mk(this,void 0,void 0,(function(){var e,t,n,r,o;return Nk(this,(function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return(e=i.sent())?[4,a_(e,this.input,(function(e){return S_.ageGenderNet.predictAgeAndGender(e)}),this.extractedFaces)]:[2];case 2:return t=i.sent(),n=t.age,r=t.gender,o=t.genderProbability,[2,A_(OE(e,r,o),n)]}}))}))},t.prototype.withFaceExpressions=function(){return new E_(this,this.input)},t}(T_),O_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.withFaceExpressions=function(){return new __(this,this.input)},t.prototype.withFaceDescriptors=function(){return new D_(this,this.input)},t}(I_),M_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.withFaceExpressions=function(){return new R_(this,this.input)},t.prototype.withFaceDescriptor=function(){return new F_(this,this.input)},t}(P_),N_=function(e){function t(t,n){var r=e.call(this)||this;return r.parentTask=t,r.input=n,r}return Pk(t,e),t}(r_),D_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.run=function(){return Mk(this,void 0,void 0,(function(){var e;return Nk(this,(function(t){switch(t.label){case 0:return[4,this.parentTask];case 1:return[4,i_(e=t.sent(),this.input,(function(e){return Promise.all(e.map((function(e){return S_.faceRecognitionNet.computeFaceDescriptor(e)})))}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))];case 2:return[2,t.sent().map((function(t,n){return o_(e[n],t)}))]}}))}))},t.prototype.withFaceExpressions=function(){return new __(this,this.input)},t.prototype.withAgeAndGender=function(){return new O_(this,this.input)},t}(N_),F_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.run=function(){return Mk(this,void 0,void 0,(function(){var e,t;return Nk(this,(function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,a_(e,this.input,(function(e){return S_.faceRecognitionNet.computeFaceDescriptor(e)}),null,(function(e){return e.landmarks.align(null,{useDlibAlignment:!0})}))]:[2];case 2:return t=n.sent(),[2,o_(e,t)]}}))}))},t.prototype.withFaceExpressions=function(){return new R_(this,this.input)},t.prototype.withAgeAndGender=function(){return new M_(this,this.input)},t}(N_),j_=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.useTinyLandmarkNet=r,o}return Pk(t,e),Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?S_.faceLandmark68TinyNet:S_.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(r_),L_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.run=function(){return Mk(this,void 0,void 0,(function(){var e,t,n,r,o,i=this;return Nk(this,(function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return e=a.sent(),t=e.map((function(e){return e.detection})),this.input instanceof Op?[4,MC(this.input,t)]:[3,3];case 2:return r=a.sent(),[3,5];case 3:return[4,OC(this.input,t)];case 4:r=a.sent(),a.label=5;case 5:return n=r,[4,Promise.all(n.map((function(e){return i.landmarkNet.detectLandmarks(e)})))];case 6:return o=a.sent(),n.forEach((function(e){return e instanceof Op&&e.dispose()})),[2,e.map((function(e,t){return uE(e,o[t])}))]}}))}))},t.prototype.withFaceExpressions=function(){return new __(this,this.input)},t.prototype.withAgeAndGender=function(){return new O_(this,this.input)},t.prototype.withFaceDescriptors=function(){return new D_(this,this.input)},t}(j_),B_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.run=function(){return Mk(this,void 0,void 0,(function(){var e,t,n,r,o;return Nk(this,(function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return(e=i.sent())?(t=e.detection,this.input instanceof Op?[4,MC(this.input,[t])]:[3,3]):[2];case 2:return r=i.sent(),[3,5];case 3:return[4,OC(this.input,[t])];case 4:r=i.sent(),i.label=5;case 5:return n=r,[4,this.landmarkNet.detectLandmarks(n[0])];case 6:return o=i.sent(),n.forEach((function(e){return e instanceof Op&&e.dispose()})),[2,uE(e,o)]}}))}))},t.prototype.withFaceExpressions=function(){return new R_(this,this.input)},t.prototype.withAgeAndGender=function(){return new M_(this,this.input)},t.prototype.withFaceDescriptor=function(){return new F_(this,this.input)},t}(j_),z_=function(e){function t(t,n){void 0===n&&(n=new WE);var r=e.call(this)||this;return r.input=t,r.options=n,r}return Pk(t,e),t}(r_),W_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.run=function(){return Mk(this,void 0,void 0,(function(){var e,t,n,r;return Nk(this,(function(o){switch(o.label){case 0:return t=(e=this).input,(n=e.options)instanceof ME?[4,S_.mtcnn.forward(t,n)]:[3,2];case 1:return[2,o.sent().map((function(e){return e.detection}))];case 2:if(r=n instanceof n_?function(e){return S_.tinyFaceDetector.locateFaces(e,n)}:n instanceof WE?function(e){return S_.ssdMobilenetv1.locateFaces(e,n)}:n instanceof ZE?function(e){return S_.tinyYolov2.locateFaces(e,n)}:null,!r)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,r(t)]}}))}))},t.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise((function(t){return Mk(e,void 0,void 0,(function(){var e;return Nk(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e.map((function(e){return uC({},e)})))]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new L_(this.runAndExtendWithFaceDetections(),this.input,e)},t.prototype.withFaceExpressions=function(){return new C_(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new I_(this.runAndExtendWithFaceDetections(),this.input)},t}(z_),U_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pk(t,e),t.prototype.run=function(){return Mk(this,void 0,void 0,(function(){var e,t;return Nk(this,(function(n){switch(n.label){case 0:return[4,new W_(this.input,this.options)];case 1:return e=n.sent(),t=e[0],e.forEach((function(e){e.score>t.score&&(t=e)})),[2,t]}}))}))},t.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise((function(t){return Mk(e,void 0,void 0,(function(){var e;return Nk(this,(function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e?uC({},e):void 0)]}}))}))}))},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new B_(this.runAndExtendWithFaceDetection(),this.input,e)},t.prototype.withFaceExpressions=function(){return new E_(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new P_(this.runAndExtendWithFaceDetection(),this.input)},t}(z_);function V_(e,t){return void 0===t&&(t=new WE),new U_(e,t)}!function(){function e(e,t){void 0===t&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var r=1,o=function(){return"person "+r++};this._labeledDescriptors=n.map((function(e){if(e instanceof lC)return e;if(e instanceof Float32Array)return new lC(o(),[e]);if(e.descriptor&&e.descriptor instanceof Float32Array)return new lC(o(),[e.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")}))}Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(e,t){return t.map((function(t){return function(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map((function(e,t){return e-r[t]})).reduce((function(e,t){return e+Math.pow(t,2)}),0))}(t,e)})).reduce((function(e,t){return e+t}),0)/(t.length||1)},e.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map((function(n){var r=n.descriptors,o=n.label;return new aC(o,t.computeMeanDistance(e,r))})).reduce((function(e,t){return e.distance<t.distance?e:t}))},e.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new aC("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map((function(e){return e.toJSON()}))}},e.fromJSON=function(t){var n=t.labeledDescriptors.map((function(e){return lC.fromJSON(e)}));return new e(n,t.distanceThreshold)}}();const H_="http://localhost/moodify/backend/api",$_=async e=>{try{const t=localStorage.getItem("username");if(console.log("saveMood - User data:",{username:t,mood:e}),!t)throw console.error("saveMood - Missing username"),new Error("User not authenticated");console.log("saveMood - Making API request to:",`${H_}/moods/save_mood.php`);const n=await fetch(`${H_}/moods/save_mood.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,mood:e})}),r=await n.json();if(console.log("saveMood - API response:",r),!n.ok)throw console.error("saveMood - API error:",r),new Error(r.error||"Failed to save mood");return r}catch(t){throw console.error("Error saving mood:",t),t}},G_=()=>{const e=ee(),{isDarkMode:t}=(0,r.useContext)(ei),[n,o]=(0,r.useState)("mood"),[i,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[u,c]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[f,h]=(0,r.useState)(!1),m=(0,r.useRef)(null),v=(0,r.useRef)(null),g=Zo("(max-width:600px)");(0,r.useEffect)((()=>{h(!0)}),[]);const y={padding:"20px",borderRadius:"12px",width:"90%",maxWidth:"1200px",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.1)",backgroundColor:"white",transition:"background-color 0.3s ease","@media (max-width: 600px)":{padding:"15px",width:"98%"},willChange:"transform",backfaceVisibility:"hidden"},b={"@keyframes fadeIn":{"0%":{opacity:0,transform:"translateY(20px)"},"100%":{opacity:1,transform:"translateY(0)"}},container:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",position:"relative","@media (max-width: 600px)":{padding:"10px"},opacity:f?1:0,transform:f?"translateY(0)":"translateY(20px)",transition:"all 0.8s ease-in-out",animation:f?"fadeIn 0.8s ease-in-out forwards":"none",overflowY:"auto",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},formContainer:y,cheerMeUpContainer:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"32px"},cheerMeUpButton:{backgroundColor:"#FFD700",color:"#000",fontSize:"1.25rem",padding:"16px 40px",borderRadius:"30px",fontWeight:600,textTransform:"none",boxShadow:"0 4px 15px rgba(255, 215, 0, 0.3)",border:"2px solid #FFD700",position:"relative",overflow:"hidden",transition:"all 0.5s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{backgroundColor:"#FFC800",transform:"translateY(-3px) scale(1.02)",boxShadow:"0 8px 25px rgba(255, 215, 0, 0.5)",letterSpacing:"1px"},"&::before":{content:'""',position:"absolute",top:"0",left:"0",width:"100%",height:"100%",background:"linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.3), transparent)",transform:"translateX(-100%)",transition:"all 0.7s ease"},"&:hover::before":{transform:"translateX(100%)"},"&::after":{content:'""',position:"absolute",top:"0",left:"0",width:"100%",height:"100%",background:"radial-gradient(circle, transparent 60%, rgba(255, 215, 0, 0.2) 100%)",opacity:0,borderRadius:"30px",transition:"opacity 0.5s ease"},"&:hover::after":{opacity:1},"& > span":{display:"inline-block",transition:"transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)"},"&:hover > span":{transform:"scale(1.05)"},"@media (max-width: 600px)":{fontSize:"1.1rem",padding:"12px 30px"}},faceContainer:{display:"flex",justifyContent:"center",width:"100%"},modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"600px",backgroundColor:"white",boxShadow:24,borderRadius:"12px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center","@media (max-width: 600px)":{width:"95%",padding:"15px",maxHeight:"90vh",overflowY:"auto"}},moodGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",padding:"24px",maxWidth:"1200px",margin:"0 auto","@media (max-width: 1200px)":{gap:"16px",padding:"20px"},"@media (max-width: 900px)":{gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",padding:"16px"},"@media (max-width: 600px)":{gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",padding:"12px"}},moodButton:{padding:"16px",borderRadius:"8px",textTransform:"none",fontSize:"1.25rem",fontWeight:700,transition:"all 0.3s ease-in-out",border:"none",height:"140px",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",textAlign:"left",lineHeight:"1.2",width:"100%",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden","&:hover":{transform:"scale(1.02)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},"@media (max-width: 600px)":{height:"140px",padding:"12px",fontSize:"1.1rem"}},loadingOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1e3},formContainer:y},x=t=>{$_(t).catch((e=>console.error("Error saving mood:",e))),e("/results",{state:{emotion:t}})},w=(0,r.useCallback)((()=>{if(m.current){const e=m.current.getScreenshot();l(e)}}),[m]);(0,r.useEffect)((()=>{(async()=>{try{const e="/models";c(!0),await Promise.all([S_.tinyFaceDetector.loadFromUri(e),S_.faceExpressionNet.loadFromUri(e)]),console.log("Face detection models loaded successfully"),p(!0)}catch(e){console.error("Error loading face detection models:",e)}finally{c(!1)}})()}),[]);return(0,ze.jsx)("div",{style:{...b.container,backgroundColor:t?"#121212":"#f5f5f5",color:t?"#ffffff":"#000000"},children:(0,ze.jsx)(Xn,{elevation:4,style:{...b.formContainer,backgroundColor:t?"#1f1f1f":"white",color:t?"#ffffff":"#000000"},children:(0,ze.jsxs)(Xe,{children:[(0,ze.jsx)(hn,{variant:"h3",align:"center",sx:{mb:4,pt:4,fontFamily:"Quicksand, sans-serif",fontSize:"3rem",fontWeight:700,color:t?"#ffffff":"#1a1a1a",textShadow:"0 2px 4px rgba(0,0,0,0.1)",lineHeight:1.2,maxWidth:"800px",margin:"0 auto 2rem",letterSpacing:"0.02em"},children:"Select Your Mood"}),(0,ze.jsxs)(pd,{value:n,onChange:(e,t)=>{o(t),l(null),a(!1)},centered:!0,sx:{mb:4,width:"100%",maxWidth:"400px",margin:"0 auto 32px","& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{color:t?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)",fontSize:"1rem",fontWeight:500,textTransform:"none",minWidth:"120px",padding:"12px 24px",borderRadius:"12px",transition:"all 0.2s ease-in-out","&.Mui-selected":{color:t?"#ffffff":"#000000",fontWeight:600,backgroundColor:t?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)"},"&:hover":{color:t?"#ffffff":"#000000",backgroundColor:t?"rgba(255, 255, 255, 0.15)":"rgba(255, 255, 255, 0.4)",backdropFilter:"blur(10px)"}},"& .MuiTabs-flexContainer":{justifyContent:"center",gap:"16px"}},children:[(0,ze.jsx)(gd,{label:"Mood",value:"mood"}),(0,ze.jsx)(gd,{label:"Face",value:"face"})]}),"mood"===n&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Xe,{sx:b.cheerMeUpContainer,children:(0,ze.jsx)(Bo,{onClick:()=>{$_("happy").catch((e=>console.error("Error saving mood:",e))),e("/results",{state:{emotion:"happy",isCheerUpMode:!0}})},sx:b.cheerMeUpButton,variant:"contained",children:(0,ze.jsx)("span",{children:"\u2728 Cheer me up! \u2728"})})}),(0,ze.jsx)(Xe,{sx:b.moodGrid,children:[{mood:"happy",emoji:"\ud83d\ude0a",color:"#FFD700"},{mood:"sad",emoji:"\ud83d\ude22",color:"#4682B4"},{mood:"angry",emoji:"\ud83d\ude20",color:"#FF4D4D"},{mood:"relaxed",emoji:"\ud83d\ude0c",color:"#98FB98"},{mood:"energetic",emoji:"\u26a1",color:"#FF8C00"},{mood:"nostalgic",emoji:"\ud83e\udd7a",color:"#DDA0DD"},{mood:"anxious",emoji:"\ud83d\ude30",color:"#20B2AA"},{mood:"hopeful",emoji:"\ud83c\udf1f",color:"#87CEEB"},{mood:"proud",emoji:"\ud83e\udd81",color:"#FFA500"},{mood:"lonely",emoji:"\ud83d\udc94",color:"#778899"},{mood:"neutral",emoji:"\ud83d\ude10",color:"#A9A9A9"},{mood:"amused",emoji:"\ud83d\ude04",color:"#FF69B4"},{mood:"frustrated",emoji:"\ud83d\ude24",color:"#8B0000"},{mood:"romantic",emoji:"\ud83d\udc9d",color:"#FF69B4"},{mood:"surprised",emoji:"\ud83d\ude32",color:"#9370DB"},{mood:"confused",emoji:"\ud83e\udd14",color:"#6A5ACD"},{mood:"excited",emoji:"\ud83c\udf89",color:"#FF1493"},{mood:"shy",emoji:"\ud83e\udee3",color:"#DEB887"},{mood:"bored",emoji:"\ud83e\udd71",color:"#696969"},{mood:"playful",emoji:"\ud83d\ude0b",color:"#32CD32"}].filter((e=>!g||"guilty"!==e.mood)).map((e=>{let{mood:t,emoji:n,color:r}=e;return(0,ze.jsx)(Bo,{onClick:()=>x(t),variant:"text",disableElevation:!0,sx:{...b.moodButton,backgroundColor:r,"&.MuiButton-root":{backgroundColor:r},"&:hover":{backgroundColor:r,transform:"scale(1.02)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},"&:active":{transform:"scale(0.98)"},"@media (max-width: 600px)":{height:"140px",padding:"12px","&:hover":{transform:"scale(1.01)"}}},children:(0,ze.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,ze.jsx)("span",{style:{fontSize:"1.5rem",fontWeight:700,fontFamily:"Quicksand, sans-serif",color:"#ffffff",textShadow:"0 2px 4px rgba(0,0,0,0.2), 0 1px 2px rgba(0,0,0,0.3)",letterSpacing:"0.5px"},children:t.charAt(0).toUpperCase()+t.slice(1)}),(0,ze.jsx)("span",{style:{fontSize:"3.5rem",transform:"rotate(-15deg)",marginTop:"auto",marginLeft:"auto",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))",opacity:.9},children:n})]})},t)}))})]}),"face"===n&&(0,ze.jsxs)(Xe,{sx:b.faceContainer,children:[(0,ze.jsx)(Bo,{variant:"contained",onClick:()=>a(!0),sx:{backgroundColor:"#6A1B9A","&:hover":{backgroundColor:"#ff3333"}},children:"Open Camera"}),(0,ze.jsx)(fo,{open:i,onClose:()=>{a(!1),l(null)},children:(0,ze.jsx)(Xe,{sx:b.modal,children:s?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("img",{ref:v,src:s,alt:"captured",style:{width:"100%",borderRadius:"8px",transform:"scaleX(-1)"},crossOrigin:"anonymous"}),u&&(0,ze.jsx)(Xe,{sx:{display:"flex",justifyContent:"center",mt:2},children:(0,ze.jsx)(Mc,{sx:{color:"#6A1B9A"}})})]}),(0,ze.jsxs)(Xe,{sx:{mt:2,display:"flex",gap:2},children:[(0,ze.jsx)(Bo,{variant:"outlined",onClick:()=>{l(null)},sx:{borderColor:"#6A1B9A",color:"#6A1B9A","&:hover":{borderColor:"#ff3333"}},children:"Retake"}),(0,ze.jsx)(Bo,{variant:"contained",onClick:async()=>{if(s){c(!0);try{const t=new Image;t.src=s,await new Promise((e=>{t.onload=e}));const n=document.createElement("canvas");n.width=t.width,n.height=t.height;n.getContext("2d").drawImage(t,0,0);const r=await V_(n,new n_).withFaceExpressions();if(console.log("Face detection result:",r),!r)return console.error("No face detected"),void e("/results",{state:{emotion:"neutral",recommendations:[]}});const o=r.expressions;console.log("Detected emotions:",o);const i=Object.entries(o).reduce(((e,t)=>e[1]>t[1]?e:t))[0];console.log("Dominant emotion:",i);const a={happy:"happy",sad:"sad",angry:"angry",fearful:"anxious",disgusted:"frustrated",surprised:"energetic",neutral:"neutral"}[i]||"neutral";console.log("Final detected mood:",a),e("/results",{state:{emotion:a,recommendations:[]}})}catch(t){console.error("Error processing image:",t),e("/results",{state:{emotion:"neutral",recommendations:[]}})}finally{c(!1),a(!1),l(null)}}else console.error("No image captured")},sx:{backgroundColor:"#6A1B9A","&:hover":{backgroundColor:"#ff3333"}},children:"Confirm"})]})]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(bd(),{audio:!1,ref:m,screenshotFormat:"image/jpeg",mirrored:!1,videoConstraints:{facingMode:"user",width:{ideal:640},height:{ideal:480}},style:{width:"100%",borderRadius:"8px",transform:"scaleX(-1)"}}),(0,ze.jsx)(Bo,{variant:"contained",onClick:w,sx:{mt:2,backgroundColor:"#6A1B9A","&:hover":{backgroundColor:"#ff3333"}},children:"Capture Photo"})]})})})]}),"romantic"===n&&(0,ze.jsx)(ze.Fragment,{children:(0,ze.jsxs)(Xe,{sx:b.romanticContainer,children:[(0,ze.jsx)(hn,{variant:"h6",sx:{textAlign:"center",marginBottom:"24px",color:t?"rgba(255,255,255,0.9)":"rgba(0,0,0,0.8)",fontFamily:"Poppins"},children:"Choose your romantic mood"}),(0,ze.jsx)(Xe,{sx:b.romanticGrid,children:[{mood:"love",icon:"\u2764\ufe0f"},{mood:"heartbreak",icon:"\ud83d\udc94"},{mood:"crush",icon:"\ud83e\udd70"},{mood:"missing",icon:"\ud83d\udcad"},{mood:"passionate",icon:"\ud83d\udc9d"},{mood:"soulful",icon:"\u2728"}].map((e=>(0,ze.jsxs)(Bo,{onClick:()=>x(e.mood),sx:{...b.romanticButton,"&:hover":{backgroundColor:"#6A1B9A",color:"#ffffff",transform:"translateY(-3px)",boxShadow:"0 6px 20px rgba(255, 77, 77, 0.4)"}},children:[(0,ze.jsx)(Xe,{sx:{fontSize:"2rem",marginBottom:"8px"},children:e.icon}),e.mood.charAt(0).toUpperCase()+e.mood.slice(1)]},e.mood)))})]})})]})})})},q_=(0,Qu.A)((0,ze.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function K_(e){return(0,et.Ay)("MuiAvatar",e)}(0,$e.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const X_=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Y_=["component","slots","slotProps"],Q_=["component"];function J_(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,getSlotOwnerState:a,internalForwardedProps:s}=t,l=(0,Ie.A)(t,X_),{component:u,slots:c={[e]:void 0},slotProps:d={[e]:void 0}}=i,p=(0,Ie.A)(i,Y_),f=c[e]||r,h=gr(d[e],o),m=vr((0,Te.A)({className:n},l,{externalForwardedProps:"root"===e?p:void 0,externalSlotProps:h})),{props:{component:v},internalRef:g}=m,y=(0,Ie.A)(m.props,Q_),b=(0,pr.A)(g,null==h?void 0:h.ref,t.ref),x=a?a(y):{},w=(0,Te.A)({},o,x),S="root"===e?v||u:v,A=fr(f,(0,Te.A)({},"root"===e&&!u&&!c[e]&&s,"root"!==e&&!c[e]&&s,y,S&&{as:S},{ref:b}),w);return Object.keys(x).forEach((e=>{delete A[e]})),[f,A]}const Z_=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],eR=(0,Qe.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,Te.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,Te.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),tR=(0,Qe.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),nR=(0,Qe.Ay)(q_,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const rR=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiAvatar"}),{alt:o,children:i,className:a,component:s="div",slots:l={},slotProps:u={},imgProps:c,sizes:d,src:p,srcSet:f,variant:h="circular"}=n,m=(0,Ie.A)(n,Z_);let v=null;const g=function(e){let{crossOrigin:t,referrerPolicy:n,src:o,srcSet:i}=e;const[a,s]=r.useState(!1);return r.useEffect((()=>{if(!o&&!i)return;s(!1);let e=!0;const r=new Image;return r.onload=()=>{e&&s("loaded")},r.onerror=()=>{e&&s("error")},r.crossOrigin=t,r.referrerPolicy=n,r.src=o,i&&(r.srcset=i),()=>{e=!1}}),[t,n,o,i]),a}((0,Te.A)({},c,{src:p,srcSet:f})),y=p||f,b=y&&"error"!==g,x=(0,Te.A)({},n,{colorDefault:!b,component:s,variant:h}),w=(e=>{const{classes:t,variant:n,colorDefault:r}=e,o={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,Ye.A)(o,K_,t)})(x),[S,A]=J_("img",{className:w.img,elementType:tR,externalForwardedProps:{slots:l,slotProps:{img:(0,Te.A)({},c,u.img)}},additionalProps:{alt:o,src:p,srcSet:f,sizes:d},ownerState:x});return v=b?(0,ze.jsx)(S,(0,Te.A)({},A)):i||0===i?i:y&&o?o[0]:(0,ze.jsx)(nR,{ownerState:x,className:w.fallback}),(0,ze.jsx)(eR,(0,Te.A)({as:s,ownerState:x,className:(0,Pe.A)(w.root,a),ref:t},m,{children:v}))}));var oR=n(8871);const iR=r.createContext();function aR(e){return(0,et.Ay)("MuiGrid",e)}const sR=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],lR=(0,$e.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...sR.map((e=>`grid-xs-${e}`)),...sR.map((e=>`grid-sm-${e}`)),...sR.map((e=>`grid-md-${e}`)),...sR.map((e=>`grid-lg-${e}`)),...sR.map((e=>`grid-xl-${e}`))]),uR=lR,cR=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function dR(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function pR(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const o=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return o.slice(0,o.indexOf(r))}const fR=(0,Qe.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:i,spacing:a,wrap:s,zeroMinWidth:l,breakpoints:u}=n;let c=[];r&&(c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&r.push(n[`spacing-${t}-${String(o)}`])})),r}(a,u,t));const d=[];return u.forEach((e=>{const r=n[e];r&&d.push(t[`grid-${e}-${String(r)}`])})),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth,...c,"row"!==o&&t[`direction-xs-${String(o)}`],"wrap"!==s&&t[`wrap-xs-${String(s)}`],...d]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,oR.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,oR.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${uR.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,oR.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=pR({breakpoints:t.breakpoints.values,values:e})),i=(0,oR.NI)({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{marginTop:`-${dR(i)}`,[`& > .${uR.item}`]:{paddingTop:dR(i)}}:null!=(o=n)&&o.includes(r)?{}:{marginTop:0,[`& > .${uR.item}`]:{paddingTop:0}}}))}return i}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:o}=n;let i={};if(r&&0!==o){const e=(0,oR.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=pR({breakpoints:t.breakpoints.values,values:e})),i=(0,oR.NI)({theme:t},e,((e,r)=>{var o;const i=t.spacing(e);return"0px"!==i?{width:`calc(100% + ${dR(i)})`,marginLeft:`-${dR(i)}`,[`& > .${uR.item}`]:{paddingLeft:dR(i)}}:null!=(o=n)&&o.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${uR.item}`]:{paddingLeft:0}}}))}return i}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,o)=>{let i={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=(0,oR.kW)({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof a?a[o]:a;if(void 0===s||null===s)return e;const l=Math.round(t/s*1e8)/1e6+"%";let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t=`calc(${l} + ${dR(e)})`;u={flexBasis:t,maxWidth:t}}}i=(0,Te.A)({flexBasis:l,flexGrow:0,maxWidth:l},u)}return 0===n.breakpoints.values[o]?Object.assign(e,i):e[n.breakpoints.up(o)]=i,e}),{})}));const hR=e=>{const{classes:t,container:n,direction:r,item:o,spacing:i,wrap:a,zeroMinWidth:s,breakpoints:l}=e;let u=[];n&&(u=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e=`spacing-${t}-${String(r)}`;n.push(e)}})),n}(i,l));const c=[];l.forEach((t=>{const n=e[t];n&&c.push(`grid-${t}-${String(n)}`)}));const d={root:["root",n&&"container",o&&"item",s&&"zeroMinWidth",...u,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==a&&`wrap-xs-${String(a)}`,...c]};return(0,Ye.A)(d,aR,t)},mR=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiGrid"}),{breakpoints:o}=Br(),i=(0,Ne.A)(n),{className:a,columns:s,columnSpacing:l,component:u="div",container:c=!1,direction:d="row",item:p=!1,rowSpacing:f,spacing:h=0,wrap:m="wrap",zeroMinWidth:v=!1}=i,g=(0,Ie.A)(i,cR),y=f||h,b=l||h,x=r.useContext(iR),w=c?s||12:x,S={},A=(0,Te.A)({},g);o.keys.forEach((e=>{null!=g[e]&&(S[e]=g[e],delete A[e])}));const k=(0,Te.A)({},i,{columns:w,container:c,direction:d,item:p,rowSpacing:y,columnSpacing:b,wrap:m,zeroMinWidth:v,spacing:h},S,{breakpoints:o.keys}),C=hR(k);return(0,ze.jsx)(iR.Provider,{value:w,children:(0,ze.jsx)(fR,(0,Te.A)({ownerState:k,className:(0,Pe.A)(C.root,a),as:u,ref:t},A))})}));const vR=mR;function gR(e){return(0,et.Ay)("MuiCard",e)}(0,$e.A)("MuiCard",["root"]);const yR=["className","raised"],bR=(0,Qe.Ay)(Xn,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),xR=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,i=(0,Ie.A)(n,yR),a=(0,Te.A)({},n,{raised:o}),s=(e=>{const{classes:t}=e;return(0,Ye.A)({root:["root"]},gR,t)})(a);return(0,ze.jsx)(bR,(0,Te.A)({className:(0,Pe.A)(s.root,r),elevation:o?8:void 0,ref:t,ownerState:a},i))}));function wR(e){return(0,et.Ay)("MuiCardContent",e)}(0,$e.A)("MuiCardContent",["root"]);const SR=["className","component"],AR=(0,Qe.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),kR=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiCardContent"}),{className:r,component:o="div"}=n,i=(0,Ie.A)(n,SR),a=(0,Te.A)({},n,{component:o}),s=(e=>{const{classes:t}=e;return(0,Ye.A)({root:["root"]},wR,t)})(a);return(0,ze.jsx)(AR,(0,Te.A)({as:o,className:(0,Pe.A)(s.root,r),ownerState:a,ref:t},i))})),CR=(0,Qu.A)((0,ze.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function ER(e){return(0,et.Ay)("MuiChip",e)}const _R=(0,$e.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),RR=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],TR=(0,Qe.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:a,size:s,variant:l}=n;return[{[`& .${_R.avatar}`]:t.avatar},{[`& .${_R.avatar}`]:t[`avatar${(0,ln.A)(s)}`]},{[`& .${_R.avatar}`]:t[`avatarColor${(0,ln.A)(r)}`]},{[`& .${_R.icon}`]:t.icon},{[`& .${_R.icon}`]:t[`icon${(0,ln.A)(s)}`]},{[`& .${_R.icon}`]:t[`iconColor${(0,ln.A)(o)}`]},{[`& .${_R.deleteIcon}`]:t.deleteIcon},{[`& .${_R.deleteIcon}`]:t[`deleteIcon${(0,ln.A)(s)}`]},{[`& .${_R.deleteIcon}`]:t[`deleteIconColor${(0,ln.A)(r)}`]},{[`& .${_R.deleteIcon}`]:t[`deleteIcon${(0,ln.A)(l)}Color${(0,ln.A)(r)}`]},t.root,t[`size${(0,ln.A)(s)}`],t[`color${(0,ln.A)(r)}`],i&&t.clickable,i&&"default"!==r&&t[`clickableColor${(0,ln.A)(r)})`],a&&t.deletable,a&&"default"!==r&&t[`deletableColor${(0,ln.A)(r)}`],t[l],t[`${l}${(0,ln.A)(r)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,Te.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${_R.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${_R.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${_R.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${_R.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${_R.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${_R.icon}`]:(0,Te.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,Te.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),[`& .${_R.deleteIcon}`]:(0,Te.A)({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:(0,it.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,it.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?`rgba(${t.vars.palette[n.color].contrastTextChannel} / 0.7)`:(0,it.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{[`&.${_R.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,it.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{[`&.${_R.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,it.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${_R.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,it.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{[`&:hover, &.${_R.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${_R.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${_R.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${_R.avatar}`]:{marginLeft:4},[`& .${_R.avatarSmall}`]:{marginLeft:2},[`& .${_R.icon}`]:{marginLeft:4},[`& .${_R.iconSmall}`]:{marginLeft:2},[`& .${_R.deleteIcon}`]:{marginRight:5},[`& .${_R.deleteIconSmall}`]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,it.X4)(t.palette[n.color].main,.7)}`,[`&.${_R.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,it.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},[`&.${_R.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:(0,it.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},[`& .${_R.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,it.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})})),IR=(0,Qe.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${(0,ln.A)(r)}`]]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})}));function PR(e){return"Backspace"===e.key||"Delete"===e.key}const OR=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiChip"}),{avatar:o,className:i,clickable:a,color:s="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:p,onClick:f,onDelete:h,onKeyDown:m,onKeyUp:v,size:g="medium",variant:y="filled",tabIndex:b,skipFocusWhenDisabled:x=!1}=n,w=(0,Ie.A)(n,RR),S=r.useRef(null),A=(0,st.A)(S,t),k=e=>{e.stopPropagation(),h&&h(e)},C=!(!1===a||!f)||a,E=C||h?zt:l||"div",_=(0,Te.A)({},n,{component:E,disabled:c,size:g,color:s,iconColor:r.isValidElement(d)&&d.props.color||s,onDelete:!!h,clickable:C,variant:y}),R=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:a,clickable:s,variant:l}=e,u={root:["root",l,n&&"disabled",`size${(0,ln.A)(r)}`,`color${(0,ln.A)(o)}`,s&&"clickable",s&&`clickableColor${(0,ln.A)(o)}`,a&&"deletable",a&&`deletableColor${(0,ln.A)(o)}`,`${l}${(0,ln.A)(o)}`],label:["label",`label${(0,ln.A)(r)}`],avatar:["avatar",`avatar${(0,ln.A)(r)}`,`avatarColor${(0,ln.A)(o)}`],icon:["icon",`icon${(0,ln.A)(r)}`,`iconColor${(0,ln.A)(i)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,ln.A)(r)}`,`deleteIconColor${(0,ln.A)(o)}`,`deleteIcon${(0,ln.A)(l)}Color${(0,ln.A)(o)}`]};return(0,Ye.A)(u,ER,t)})(_),T=E===zt?(0,Te.A)({component:l||"div",focusVisibleClassName:R.focusVisible},h&&{disableRipple:!0}):{};let I=null;h&&(I=u&&r.isValidElement(u)?r.cloneElement(u,{className:(0,Pe.A)(u.props.className,R.deleteIcon),onClick:k}):(0,ze.jsx)(CR,{className:(0,Pe.A)(R.deleteIcon),onClick:k}));let P=null;o&&r.isValidElement(o)&&(P=r.cloneElement(o,{className:(0,Pe.A)(R.avatar,o.props.className)}));let O=null;return d&&r.isValidElement(d)&&(O=r.cloneElement(d,{className:(0,Pe.A)(R.icon,d.props.className)})),(0,ze.jsxs)(TR,(0,Te.A)({as:E,className:(0,Pe.A)(R.root,i),disabled:!(!C||!c)||void 0,onClick:f,onKeyDown:e=>{e.currentTarget===e.target&&PR(e)&&e.preventDefault(),m&&m(e)},onKeyUp:e=>{e.currentTarget===e.target&&(h&&PR(e)?h(e):"Escape"===e.key&&S.current&&S.current.blur()),v&&v(e)},ref:A,tabIndex:x&&c?-1:b,ownerState:_},T,w,{children:[P||O,(0,ze.jsx)(IR,{className:(0,Pe.A)(R.label),ownerState:_,children:p}),I]}))})),MR=e=>{let{moods:t}=e;const{isDarkMode:n}=(0,r.useContext)(ei),o=e=>({happy:"#FFD700",sad:"#6495ED",angry:"#FF4500",fear:"#800080",disgust:"#32CD32",surprise:"#FF69B4",neutral:"#A9A9A9",excited:"#FF1493",relaxed:"#00CED1",anxious:"#9932CC",bored:"#D3D3D3",tired:"#708090",love:"#FF69B4",calm:"#87CEEB"}[e.toLowerCase()]||"#A9A9A9");return(0,ze.jsxs)(Xe,{sx:{mt:4},children:[(0,ze.jsx)(hn,{variant:"h5",gutterBottom:!0,sx:{fontFamily:"Poppins",color:n?"#fff":"#333",borderBottom:"2px solid "+(n?"#444":"#ddd"),paddingBottom:"10px"},children:"Your Mood History"}),t&&t.length>0?(0,ze.jsx)(vR,{container:!0,spacing:2,children:t.map(((e,t)=>{return(0,ze.jsx)(vR,{item:!0,xs:12,sm:6,md:4,children:(0,ze.jsx)(xR,{sx:{mb:2,backgroundColor:n?"#2d2d2d":"#fff",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 6px 12px rgba(0,0,0,0.15)"},borderLeft:`4px solid ${o(e.mood)}`},children:(0,ze.jsxs)(kR,{children:[(0,ze.jsxs)(Xe,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[(0,ze.jsx)(OR,{label:`${e.mood} ${i=e.mood,{happy:"\ud83d\ude0a",sad:"\ud83d\ude22",angry:"\ud83d\ude20",fear:"\ud83d\ude28",disgust:"\ud83e\udd22",surprise:"\ud83d\ude32",neutral:"\ud83d\ude10",excited:"\ud83e\udd29",relaxed:"\ud83d\ude0c",anxious:"\ud83d\ude30",bored:"\ud83d\ude12",tired:"\ud83d\ude34",love:"\u2764\ufe0f",calm:"\ud83d\ude0c"}[i.toLowerCase()]||"\ud83d\ude42"}`,sx:{backgroundColor:o(e.mood),color:"#000",fontWeight:"bold",fontFamily:"Poppins"}}),(0,ze.jsx)(hn,{variant:"caption",sx:{color:n?"#aaa":"#666",fontFamily:"Poppins"},children:(r=e.created_at,new Date(r).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,ze.jsxs)(hn,{variant:"body2",sx:{color:n?"#ddd":"#333",fontFamily:"Poppins",mt:1},children:["You were feeling ",(0,ze.jsx)("strong",{children:e.mood})]})]})})},t);var r,i}))}):(0,ze.jsx)(Xn,{sx:{p:3,textAlign:"center",backgroundColor:n?"#2d2d2d":"#f5f5f5",color:n?"#aaa":"#666"},children:(0,ze.jsx)(hn,{variant:"body1",sx:{fontFamily:"Poppins"},children:"No mood history found. Try selecting a mood on the home page!"})})]})},NR="userMoodsCache",DR=e=>({container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Poppins, sans-serif",padding:"0",backgroundColor:e?"#121212":"#f5f5f5",color:e?"#ffffff":"#000000",transition:"background-color 0.3s ease"},loadingOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:1e3},profileContainer:{padding:"30px",width:"70%",maxHeight:"85vh",overflowY:"auto",borderRadius:"10px",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)",backgroundColor:e?"#1f1f1f":"#ffffff",textAlign:"center",transition:"background-color 0.3s ease"},title:{marginBottom:"20px",fontFamily:"Poppins, sans-serif",color:e?"#ffffff":"#333"},infoSection:{marginBottom:"20px"},section:{marginTop:"15px",textAlign:"left",padding:"10px",color:e?"#ffffff":"#000000"},sectionTitle:{textDecoration:"underline",fontFamily:"Poppins, sans-serif",marginBottom:"10px",color:e?"#bbbbbb":"#555",fontWeight:500},card:{marginBottom:"10px",borderRadius:"8px",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.1)",padding:"10px",backgroundColor:e?"#333333":"#ffffff",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:"pointer","&:hover":{transform:"scale(1.02)",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)"},color:e?"#ffffff":"#000000"},text:{fontFamily:"Poppins, sans-serif",color:e?"#cccccc":"#000000",fontSize:"16px"},noData:{color:e?"#bbbbbb":"#999",fontFamily:"Poppins, sans-serif"},moodCard:{marginBottom:"10px",borderRadius:"8px",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.1)",backgroundColor:e?"#333333":"#ffffff",cursor:"pointer","&:hover":{transform:"scale(1.02)",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)"}},moodCardContent:{display:"flex",justifyContent:"center"},moodText:{fontFamily:"Poppins, sans-serif",color:e?"#ffffff":"#000000",marginTop:"5px"},recommendationCard:{marginBottom:"15px",display:"flex",width:"100%",backgroundColor:e?"#333333":"#ffffff",borderRadius:"8px"},cardContentContainer:{display:"flex",alignItems:"center",padding:"10px",width:"100%"},imageContainer:{padding:"0 10px 0 0",flexShrink:0},albumImage:{width:"100px",borderRadius:"5px"},cardDetails:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%"},songTitle:{fontWeight:"bold",fontSize:"16px",fontFamily:"Poppins, sans-serif",marginBottom:"5px",color:e?"#ffffff":"#000000"},artistName:{color:e?"#cccccc":"#777",fontFamily:"Poppins, sans-serif",marginBottom:"10px"},audioPlayer:{width:"100%",marginBottom:"10px"},spotifyButton:{fontFamily:"Poppins, sans-serif"}}),FR=()=>{const[e,t]=(0,r.useState)(null),[o,i]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[l,u]=(0,r.useState)(""),[c,d]=(0,r.useState)("Loading..."),[p,f]=(0,r.useState)(""),h=ee(),m=localStorage.getItem("username");n(4250),n(7439),n(2735),n(5284),n(5195),n(4690),n(4819),n(7328),n(2769),n(3014),n(1378),n(1293),n(2640),n(9104),n(6990),n(3065),n(5100),n(6687),n(3002),n(7029),n(8921);(0,r.useEffect)((()=>{if(f(null),!m||!ks())return alert("You are not authenticated. Please log in."),void h("/login");t({username:m,email:localStorage.getItem("email")||"Not available"}),g()}),[]);const{isDarkMode:v}=(0,r.useContext)(ei),g=async()=>{s(!0);try{console.log("Fetching mood history for:",m);const e=await Cs(m);console.log("Mood data received:",e),i(e),localStorage.setItem(NR,JSON.stringify(e)),u("")}catch(l){console.error("Error fetching mood history:",l);const t=localStorage.getItem(NR);t?(i(JSON.parse(t)),console.log("Failed to fetch mood data. Using cached data.")):(u("Failed to fetch mood history. Our servers might be down. Please try again later."),console.error("No cached mood data available."))}finally{s(!1)}},y=DR(v);return(0,ze.jsx)(Xe,{style:y.container,children:a?(0,ze.jsxs)(Xe,{style:y.loadingOverlay,children:[(0,ze.jsx)(Mc,{size:60,sx:{color:"#6C63FF"}}),(0,ze.jsx)(hn,{variant:"h6",sx:{mt:2,color:"#ffffff",fontFamily:"Poppins"},children:c})]}):(0,ze.jsxs)(Xn,{style:y.profileContainer,children:[e&&(0,ze.jsxs)(Xe,{style:y.infoSection,children:[(0,ze.jsx)(rR,{src:p,alt:e.username,sx:{width:120,height:120,margin:"0 auto 20px auto",bgcolor:"#6C63FF",fontSize:"3rem"},children:e.username?e.username[0].toUpperCase():"U"}),(0,ze.jsx)(hn,{variant:"h5",sx:{fontFamily:"Poppins",fontWeight:"bold",color:v?"#ffffff":"#000000"},children:e.username})]}),(0,ze.jsx)(En,{sx:{my:3}}),(0,ze.jsx)(Xe,{style:y.section,children:o.length>0?(0,ze.jsx)(MR,{moods:o,onMoodClick:e=>{console.log(`Clicked on mood: ${e}`)}}):(0,ze.jsx)(hn,{variant:"body1",style:y.noData,children:"No mood history available yet."})}),l&&(0,ze.jsx)(hn,{variant:"body1",sx:{color:"error.main",mt:2,fontFamily:"Poppins"},children:l})]})})},jR=()=>(0,ze.jsx)("div",{style:{padding:"0",fontFamily:"Poppins"},children:(0,ze.jsx)(FR,{})});function LR(e){return(0,et.Ay)("MuiMenuItem",e)}const BR=(0,$e.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),zR=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],WR=(0,Qe.Ay)(zt,{shouldForwardProp:e=>(0,_n.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${BR.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,it.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${BR.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,it.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${BR.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,it.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,it.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${BR.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${BR.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${wn.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${wn.inset}`]:{marginLeft:52},[`& .${vn.root}`]:{marginTop:0,marginBottom:0},[`& .${vn.inset}`]:{paddingLeft:36},[`& .${rn.root}`]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,Te.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${rn.root} svg`]:{fontSize:"1.25rem"}}))})),UR=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:a=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:p}=n,f=(0,Ie.A)(n,zR),h=r.useContext(Ze),m=r.useMemo((()=>({dense:a||h.dense||!1,disableGutters:l})),[h.dense,a,l]),v=r.useRef(null);(0,Ut.A)((()=>{o&&v.current&&v.current.focus()}),[o]);const g=(0,Te.A)({},n,{dense:m.dense,divider:s,disableGutters:l}),y=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:a}=e,s={root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},l=(0,Ye.A)(s,LR,a);return(0,Te.A)({},a,l)})(n),b=(0,st.A)(v,t);let x;return n.disabled||(x=void 0!==d?d:-1),(0,ze.jsx)(Ze.Provider,{value:m,children:(0,ze.jsx)(WR,(0,Te.A)({ref:b,role:c,tabIndex:x,component:i,focusVisibleClassName:(0,Pe.A)(y.focusVisible,u),className:(0,Pe.A)(y.root,p)},f,{ownerState:g,classes:y}))})})),VR={NODE_ENV:"production",PUBLIC_URL:"/moodifyme-entertainment-platform",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000",HR={happy:[{title:"The Lego Movie",year:"2014",description:"An ordinary LEGO construction worker, thought to be the prophesied as 'special', is recruited to join a quest to stop an evil tyrant from gluing the LEGO universe into eternal stasis.",poster_url:"https://image.tmdb.org/t/p/w500/lMHbadNmznKs5vgBAkHxKGHulOa.jpg",external_url:"https://www.themoviedb.org/movie/137106",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Lego+Movie+2014+trailer",rating:7.7},{title:"Inside Out",year:"2015",description:"After young Riley is uprooted from her Midwest life and moved to San Francisco, her emotions - Joy, Fear, Anger, Disgust and Sadness - conflict on how best to navigate a new city, house, and school.",poster_url:"https://image.tmdb.org/t/p/w500/2H1TmgdfBUovJGj4v7KHiUaY0TV.jpg",external_url:"https://www.themoviedb.org/movie/150540",youtube_trailer_url:"https://www.youtube.com/results?search_query=Inside+Out+2015+trailer",rating:8},{title:"Toy Story 4",year:"2019",description:"When a new toy called Forky joins Woody and the gang, a road trip alongside old and new friends reveals how big the world can be for a toy.",poster_url:"https://image.tmdb.org/t/p/w500/w9kR8qbmQ01HwnvK4alvnQ2ca0L.jpg",external_url:"https://www.themoviedb.org/movie/301528",youtube_trailer_url:"https://www.youtube.com/results?search_query=Toy+Story+4+2019+trailer",rating:7.7},{title:"La La Land",year:"2016",description:"While navigating their careers in Los Angeles, a pianist and an actress fall in love while attempting to reconcile their aspirations for the future.",poster_url:"https://image.tmdb.org/t/p/w500/uDO8zWDhfWwoFdKS4fzkUJt0Rf0.jpg",external_url:"https://www.themoviedb.org/movie/313369",youtube_trailer_url:"https://www.youtube.com/results?search_query=La+La+Land+2016+trailer",rating:8},{title:"The Grand Budapest Hotel",year:"2014",description:"The adventures of Gustave H, a legendary concierge at a famous hotel, and Zero Moustafa, the lobby boy who becomes his most trusted friend.",poster_url:"https://image.tmdb.org/t/p/w500/eWdyYQreja6JGCzqHWXpWHDrrPo.jpg",external_url:"https://www.themoviedb.org/movie/120467",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Grand+Budapest+Hotel+2014+trailer",rating:8.1},{title:"Paddington 2",year:"2017",description:"Paddington, now happily settled with the Brown family and a popular member of the local community, picks up a series of odd jobs to buy the perfect present for his Aunt Lucy's 100th birthday, only for the gift to be stolen.",poster_url:"https://image.tmdb.org/t/p/w500/mmVsYrKCVzBEJGVXUYEHwlBV1nn.jpg",external_url:"https://www.themoviedb.org/movie/346648",youtube_trailer_url:"https://www.youtube.com/results?search_query=Paddington+2+2017+trailer",rating:7.8},{title:"Crazy Rich Asians",year:"2018",description:"An American-born Chinese economics professor accompanies her boyfriend to Singapore for his best friend's wedding, only to get thrust into the lives of Asia's rich and famous.",poster_url:"https://image.tmdb.org/t/p/w500/1XxL4LJ5WHdrcYcJqpxcZ0U7qQS.jpg",external_url:"https://www.themoviedb.org/movie/455207",youtube_trailer_url:"https://www.youtube.com/results?search_query=Crazy+Rich+Asians+2018+trailer",rating:7.1}],sad:[{title:"The Fault in Our Stars",year:"2014",description:"Two teenage cancer patients begin a life-affirming journey to visit a reclusive author in Amsterdam.",poster_url:"https://image.tmdb.org/t/p/w500/g3JsScc7mQCfc3e5e5rXwu7xVVP.jpg",external_url:"https://www.themoviedb.org/movie/222935",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Fault+in+Our+Stars+2014+trailer",rating:7.5},{title:"Titanic",year:"1997",description:"A seventeen-year-old aristocrat falls in love with a kind but poor artist aboard the luxurious, ill-fated R.M.S. Titanic.",poster_url:"https://image.tmdb.org/t/p/w500/9xjZS2rlVxm8SFx8kPC3aIGCOYQ.jpg",external_url:"https://www.themoviedb.org/movie/597",youtube_trailer_url:"https://www.youtube.com/results?search_query=Titanic+1997+trailer",rating:7.9},{title:"Schindler's List",year:"1993",description:"In German-occupied Poland during World War II, industrialist Oskar Schindler gradually becomes concerned for his Jewish workforce after witnessing their persecution by the Nazis.",poster_url:"https://image.tmdb.org/t/p/w500/sF1U4EUQS8YHUYjNl3pMGNIQyr0.jpg",external_url:"https://www.themoviedb.org/movie/424",youtube_trailer_url:"https://www.youtube.com/results?search_query=Schindler's+List+1993+trailer",rating:8.6},{title:"The Boy in the Striped Pajamas",year:"2008",description:"Through the innocent eyes of Bruno, the eight-year-old son of the commandant at a German concentration camp, a forbidden friendship with a Jewish boy on the other side of the camp fence has startling and unexpected consequences.",poster_url:"https://image.tmdb.org/t/p/w500/z5jwtpqwu901x7zechn2nr5f5gf.jpg",external_url:"https://www.themoviedb.org/movie/14574",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Boy+in+the+Striped+Pajamas+2008+trailer",rating:7.8},{title:"Marriage Story",year:"2019",description:"A stage director and his actor wife struggle through a grueling, coast-to-coast divorce that pushes them to their personal and creative extremes.",poster_url:"https://image.tmdb.org/t/p/w500/pZekG6xabTmZxjmYw10wN84Hp8d.jpg",external_url:"https://www.themoviedb.org/movie/492188",youtube_trailer_url:"https://www.youtube.com/results?search_query=Marriage+Story+2019+trailer",rating:7.9},{title:"Eternal Sunshine of the Spotless Mind",year:"2004",description:"When their relationship turns sour, a couple undergoes a medical procedure to have each other erased from their memories.",poster_url:"https://image.tmdb.org/t/p/w500/5MwkWH9tYHv3mV9OdYTMR5qreIz.jpg",external_url:"https://www.themoviedb.org/movie/38",youtube_trailer_url:"https://www.youtube.com/results?search_query=Eternal+Sunshine+of+the+Spotless+Mind+2004+trailer",rating:8.1}],angry:[{title:"John Wick",year:"2014",description:"An ex-hit-man comes out of retirement to track down the gangsters that killed his dog and took everything from him.",poster_url:"https://image.tmdb.org/t/p/w500/wXqWR7dHncNRbxoEGybEy7QTe9h.jpg",external_url:"https://www.themoviedb.org/movie/245891",youtube_trailer_url:"https://www.youtube.com/results?search_query=John+Wick+2014+trailer",rating:7.4},{title:"The Dark Knight",year:"2008",description:"When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.",poster_url:"https://image.tmdb.org/t/p/w500/qJ2tW6WMUDux911r6m7haRef0WH.jpg",external_url:"https://www.themoviedb.org/movie/155",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Dark+Knight+2008+trailer",rating:8.5},{title:"Mad Max: Fury Road",year:"2015",description:"In a post-apocalyptic wasteland, a woman rebels against a tyrannical ruler in search for her homeland with the aid of a group of female prisoners, a psychotic worshiper, and a drifter named Max.",poster_url:"https://image.tmdb.org/t/p/w500/8tZYtuWezp8JbcsvHYO0O46tFbo.jpg",external_url:"https://www.themoviedb.org/movie/76341",youtube_trailer_url:"https://www.youtube.com/results?search_query=Mad+Max:+Fury+Road+2015+trailer",rating:8.1},{title:"Kill Bill: Vol. 1",year:"2003",description:"After awakening from a four-year coma, a former assassin wreaks vengeance on the team of assassins who betrayed her.",poster_url:"https://image.tmdb.org/t/p/w500/v7TaX8kXMXs5e8AOtC0YdrEZ7fx.jpg",external_url:"https://www.themoviedb.org/movie/24",youtube_trailer_url:"https://www.youtube.com/results?search_query=Kill+Bill+Vol+1+2003+trailer",rating:8},{title:"Joker",year:"2019",description:"In Gotham City, mentally troubled comedian Arthur Fleck is disregarded and mistreated by society. He then embarks on a downward spiral of revolution and bloody crime. This path brings him face-to-face with his alter-ego: the Joker.",poster_url:"https://image.tmdb.org/t/p/w500/udDclJoHjfjb8Ekgsd4FDteOkCU.jpg",external_url:"https://www.themoviedb.org/movie/475557",youtube_trailer_url:"https://www.youtube.com/results?search_query=Joker+2019+trailer",rating:8.2},{title:"The Revenant",year:"2015",description:"A frontiersman on a fur trading expedition in the 1820s fights for survival after being mauled by a bear and left for dead by members of his own hunting team.",poster_url:"https://image.tmdb.org/t/p/w500/ji3ecJphATlVgWNY0B0RtXqqJzG.jpg",external_url:"https://www.themoviedb.org/movie/281957",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Revenant+2015+trailer",rating:7.8}],fearful:[{title:"The Conjuring",year:"2013",description:"Paranormal investigators Ed and Lorraine Warren work to help a family terrorized by a dark presence in their farmhouse.",poster_url:"https://image.tmdb.org/t/p/w500/wVYREutTvI2tmxr6ujrHT704wGF.jpg",external_url:"https://www.themoviedb.org/movie/138843",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Conjuring+2013+trailer",rating:7.5},{title:"Get Out",year:"2017",description:"A young African-American visits his white girlfriend's parents for the weekend, where his simmering uneasiness about their reception of him eventually reaches a boiling point.",poster_url:"https://image.tmdb.org/t/p/w500/tFXcEccSQMf3lfhzAOLQJiMUXqZ.jpg",external_url:"https://www.themoviedb.org/movie/419430",youtube_trailer_url:"https://www.youtube.com/results?search_query=Get+Out+2017+trailer",rating:7.7},{title:"A Quiet Place",year:"2018",description:"In a post-apocalyptic world, a family is forced to live in silence while hiding from monsters with ultra-sensitive hearing.",poster_url:"https://image.tmdb.org/t/p/w500/nAU74GmpUk7t5iklEp3bufwDq4n.jpg",external_url:"https://www.themoviedb.org/movie/447332",youtube_trailer_url:"https://www.youtube.com/results?search_query=A+Quiet+Place+2018+trailer",rating:7.5},{title:"The Shining",year:"1980",description:"A family heads to an isolated hotel for the winter where a sinister presence influences the father into violence, while his psychic son sees horrific forebodings from both past and future.",poster_url:"https://image.tmdb.org/t/p/w500/b6ko0IKC8MdYBBPkkA1aBPLe2hy.jpg",external_url:"https://www.themoviedb.org/movie/694",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Shining+1980+trailer",rating:8.2},{title:"Hereditary",year:"2018",description:"A grieving family is haunted by tragic and disturbing occurrences after the death of their secretive grandmother.",poster_url:"https://image.tmdb.org/t/p/w500/kHQl05mH8iwLHpJ8UWyXV6tKAGi.jpg",external_url:"https://www.themoviedb.org/movie/493922",youtube_trailer_url:"https://www.youtube.com/results?search_query=Hereditary+2018+trailer",rating:7.3}],excited:[{title:"Avengers: Endgame",year:"2019",description:"After the devastating events of Avengers: Infinity War, the universe is in ruins. With the help of remaining allies, the Avengers assemble once more in order to reverse Thanos' actions and restore balance to the universe.",poster_url:"https://image.tmdb.org/t/p/w500/or06FN3Dka5tukK1e9sl16pB3iy.jpg",external_url:"https://www.themoviedb.org/movie/299534",youtube_trailer_url:"https://www.youtube.com/results?search_query=Avengers+Endgame+2019+trailer",rating:8.4},{title:"Inception",year:"2010",description:"A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.",poster_url:"https://image.tmdb.org/t/p/w500/oYuLEt3zVCKq57qu2F8dT7NIa6f.jpg",external_url:"https://www.themoviedb.org/movie/27205",youtube_trailer_url:"https://www.youtube.com/results?search_query=Inception+2010+trailer",rating:8.3},{title:"Spider-Man: Into the Spider-Verse",year:"2018",description:"Teen Miles Morales becomes the Spider-Man of his universe, and must join with five spider-powered individuals from other dimensions to stop a threat for all realities.",poster_url:"https://image.tmdb.org/t/p/w500/iiZZdoQBEYBv6id8su7ImL0oCbD.jpg",external_url:"https://www.themoviedb.org/movie/324857",youtube_trailer_url:"https://www.youtube.com/results?search_query=Spider-Man+Into+the+Spider-Verse+2018+trailer",rating:8.4},{title:"Ready Player One",year:"2018",description:"When the creator of a virtual reality called the OASIS dies, he makes a posthumous challenge to all OASIS users to find his Easter Egg, which will give the finder his fortune and control of his world.",poster_url:"https://image.tmdb.org/t/p/w500/pU1ULUq8D3iRxl1fdX2lZIzdHuI.jpg",external_url:"https://www.themoviedb.org/movie/333339",youtube_trailer_url:"https://www.youtube.com/results?search_query=Ready+Player+One+2018+trailer",rating:7.6},{title:"Mission: Impossible - Fallout",year:"2018",description:"Ethan Hunt and his IMF team, along with some familiar allies, race against time after a mission gone wrong.",poster_url:"https://image.tmdb.org/t/p/w500/AkJQpZp9WoNdj7pLYSj1L0RcMMN.jpg",external_url:"https://www.themoviedb.org/movie/353081",youtube_trailer_url:"https://www.youtube.com/results?search_query=Mission+Impossible+Fallout+2018+trailer",rating:7.7}],default:[{title:"Forrest Gump",year:"1994",description:"The presidencies of Kennedy and Johnson, the events of Vietnam, Watergate, and other history unfold through the perspective of an Alabama man with an IQ of 75.",poster_url:"https://image.tmdb.org/t/p/w500/arw2vcBveWOVZr6pxd9XTd1TdQa.jpg",external_url:"https://www.themoviedb.org/movie/13",youtube_trailer_url:"https://www.youtube.com/results?search_query=Forrest+Gump+1994+trailer",rating:8.5},{title:"The Shawshank Redemption",year:"1994",description:"Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.",poster_url:"https://image.tmdb.org/t/p/w500/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg",external_url:"https://www.themoviedb.org/movie/278",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Shawshank+Redemption+1994+trailer",rating:8.7},{title:"The Godfather",year:"1972",description:"The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.",poster_url:"https://image.tmdb.org/t/p/w500/3bhkrj58Vtu7enYsRolD1fZdja1.jpg",external_url:"https://www.themoviedb.org/movie/238",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Godfather+1972+trailer",rating:8.7},{title:"Pulp Fiction",year:"1994",description:"The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.",poster_url:"https://image.tmdb.org/t/p/w500/d5iIlFn5s0ImszYzBPb8JPIfbXD.jpg",external_url:"https://www.themoviedb.org/movie/680",youtube_trailer_url:"https://www.youtube.com/results?search_query=Pulp+Fiction+1994+trailer",rating:8.5},{title:"Parasite",year:"2019",description:"Greed and class discrimination threaten the newly formed symbiotic relationship between the wealthy Park family and the destitute Kim clan.",poster_url:"https://image.tmdb.org/t/p/w500/7IiTTgloJzvGI1TAYymCfbfl3vT.jpg",external_url:"https://www.themoviedb.org/movie/496243",youtube_trailer_url:"https://www.youtube.com/results?search_query=Parasite+2019+trailer",rating:8.5}]},$R={happy:[{title:"Friends",year:"1994",description:"Follows the personal and professional lives of six twenty to thirty-something-year-old friends living in Manhattan.",poster_url:"https://image.tmdb.org/t/p/w500/f496cm9enuEsZkSPzCwnTESEK5s.jpg",external_url:"https://www.themoviedb.org/tv/1668",youtube_trailer_url:"https://www.youtube.com/results?search_query=Friends+TV+show+trailer",rating:8.4},{title:"The Office",year:"2005",description:"A mockumentary on a group of typical office workers, where the workday consists of ego clashes, inappropriate behavior, and tedium.",poster_url:"https://image.tmdb.org/t/p/w500/qWnJzyZhyy74gjpSjIXWmuk0ifX.jpg",external_url:"https://www.themoviedb.org/tv/2316",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Office+TV+show+trailer",rating:8.5},{title:"Brooklyn Nine-Nine",year:"2013",description:"Comedy series following the exploits of Det. Jake Peralta and his diverse, lovable colleagues as they police the NYPD's 99th Precinct.",poster_url:"https://image.tmdb.org/t/p/w500/A3OfGJFrd5lSqjiCbcQjvg8ITpb.jpg",external_url:"https://www.themoviedb.org/tv/48891",youtube_trailer_url:"https://www.youtube.com/results?search_query=Brooklyn+Nine-Nine+TV+show+trailer",rating:8.2},{title:"The Good Place",year:"2016",description:"Four people and their otherworldly frienemy struggle in the afterlife to define what it means to be good.",poster_url:"https://image.tmdb.org/t/p/w500/xVnOF3LHLvJLLUKKfxG5tQvgADT.jpg",external_url:"https://www.themoviedb.org/tv/66573",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Good+Place+TV+show+trailer",rating:8.1},{title:"Modern Family",year:"2009",description:"Three different but related families face trials and tribulations in their own uniquely comedic ways.",poster_url:"https://image.tmdb.org/t/p/w500/fu5vEUHgxkAPmX26ISQXqHmlPMq.jpg",external_url:"https://www.themoviedb.org/tv/1421",youtube_trailer_url:"https://www.youtube.com/results?search_query=Modern+Family+TV+show+trailer",rating:7.9},{title:"Ted Lasso",year:"2020",description:"American college football coach Ted Lasso heads to London to manage AFC Richmond, a struggling English Premier League football team.",poster_url:"https://image.tmdb.org/t/p/w500/vPN6ZUhcJ8lHVimv5WkfKTDMEHy.jpg",external_url:"https://www.themoviedb.org/tv/97546",youtube_trailer_url:"https://www.youtube.com/results?search_query=Ted+Lasso+TV+show+trailer",rating:8.5}],sad:[{title:"This Is Us",year:"2016",description:"A heartwarming and emotional story about a unique set of triplets, their struggles and their wonderful parents.",poster_url:"https://image.tmdb.org/t/p/w500/8nJPBfpAFfVOvXcv7gL6E24aSmi.jpg",external_url:"https://www.themoviedb.org/tv/67885",youtube_trailer_url:"https://www.youtube.com/results?search_query=This+Is+Us+trailer",rating:8.7},{title:"Grey's Anatomy",year:"2005",description:"A drama centered on the personal and professional lives of five surgical interns and their supervisors.",poster_url:"https://image.tmdb.org/t/p/w500/zNLrqMqX5C8jcL7GUCZ9Kk0hzUJ.jpg",external_url:"https://www.themoviedb.org/tv/1416",youtube_trailer_url:"https://www.youtube.com/results?search_query=Grey's+Anatomy+TV+show+trailer",rating:7.5},{title:"The Leftovers",year:"2014",description:"Three years after the disappearance of 2% of the global population, a group of people from New York struggle to continue their lives, while they cope with the tragedy of the unexplained nature of the event.",poster_url:"https://image.tmdb.org/t/p/w500/nZpMKt3Idgs6KFnRmcNejGdCkXQ.jpg",external_url:"https://www.themoviedb.org/tv/54344",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Leftovers+TV+show+trailer",rating:8.2},{title:"After Life",year:"2019",description:"After Tony's wife dies unexpectedly, his nice-guy persona is altered into an impulsive, devil-may-care attitude; taking his old world by storm.",poster_url:"https://image.tmdb.org/t/p/w500/va1Z9QdWlMH71iyoQGLgJsD8Srd.jpg",external_url:"https://www.themoviedb.org/tv/79410",youtube_trailer_url:"https://www.youtube.com/results?search_query=After+Life+TV+show+trailer",rating:8.2},{title:"Normal People",year:"2020",description:"Follows Marianne and Connell, from different backgrounds but the same small town in Ireland, as they weave in and out of each other's romantic lives.",poster_url:"https://image.tmdb.org/t/p/w500/2hITzO60W9V3MgP9naY8YN9VTiU.jpg",external_url:"https://www.themoviedb.org/tv/89905",youtube_trailer_url:"https://www.youtube.com/results?search_query=Normal+People+TV+show+trailer",rating:8.1}],angry:[{title:"Breaking Bad",year:"2008",description:"A high school chemistry teacher diagnosed with inoperable lung cancer turns to manufacturing and selling methamphetamine in order to secure his family's future.",poster_url:"https://image.tmdb.org/t/p/w500/1yeVJox3rjo2jBKrrihIMj7uoS9.jpg",external_url:"https://www.themoviedb.org/tv/1396",youtube_trailer_url:"https://www.youtube.com/results?search_query=Breaking+Bad+trailer",rating:8.8},{title:"Game of Thrones",year:"2011",description:"Nine noble families fight for control over the lands of Westeros, while an ancient enemy returns after being dormant for millennia.",poster_url:"https://image.tmdb.org/t/p/w500/u3bZgnGQ9T01sWNhyveQz0wH0Hl.jpg",external_url:"https://www.themoviedb.org/tv/1399",youtube_trailer_url:"https://www.youtube.com/results?search_query=Game+of+Thrones+trailer",rating:8.4},{title:"The Boys",year:"2019",description:"A group of vigilantes set out to take down corrupt superheroes who abuse their superpowers.",poster_url:"https://image.tmdb.org/t/p/w500/stTEycfG9928HYGEISBFaG1ngjM.jpg",external_url:"https://www.themoviedb.org/tv/76479",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Boys+TV+show+trailer",rating:8.4},{title:"Peaky Blinders",year:"2013",description:"A gangster family epic set in 1900s England, centering on a gang who sew razor blades in the peaks of their caps, and their fierce boss Tommy Shelby.",poster_url:"https://image.tmdb.org/t/p/w500/i0uajcHH9yogXMfDHpOXexIukG9.jpg",external_url:"https://www.themoviedb.org/tv/60574",youtube_trailer_url:"https://www.youtube.com/results?search_query=Peaky+Blinders+TV+show+trailer",rating:8.5},{title:"Mindhunter",year:"2017",description:"Set in the late 1970s, two FBI agents are tasked with interviewing serial killers to solve open cases.",poster_url:"https://image.tmdb.org/t/p/w500/fbKE87mojpIETWepSbD5Qt741fp.jpg",external_url:"https://www.themoviedb.org/tv/67744",youtube_trailer_url:"https://www.youtube.com/results?search_query=Mindhunter+TV+show+trailer",rating:8.1},{title:"Succession",year:"2018",description:"The Roy family is known for controlling the biggest media and entertainment company in the world. However, their world changes when their father steps down from the company.",poster_url:"https://image.tmdb.org/t/p/w500/7HW57Q8YQf84g4F8UJP3e1GkgsF.jpg",external_url:"https://www.themoviedb.org/tv/76331",youtube_trailer_url:"https://www.youtube.com/results?search_query=Succession+TV+show+trailer",rating:8.4}],fearful:[{title:"Stranger Things",year:"2016",description:"When a young boy disappears, his mother, a police chief, and his friends must confront terrifying supernatural forces in order to get him back.",poster_url:"https://image.tmdb.org/t/p/w500/49WJfeN0moxb9IPfGn8AIqMGskD.jpg",external_url:"https://www.themoviedb.org/tv/66732",youtube_trailer_url:"https://www.youtube.com/results?search_query=Stranger+Things+trailer",rating:8.6},{title:"The Haunting of Hill House",year:"2018",description:"Flashing between past and present, a fractured family confronts haunting memories of their old home and the terrifying events that drove them from it.",poster_url:"https://image.tmdb.org/t/p/w500/38PkhZKjgVY37WvNxwXKdtEHLmB.jpg",external_url:"https://www.themoviedb.org/tv/81356",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Haunting+of+Hill+House+TV+show+trailer",rating:8.1},{title:"American Horror Story",year:"2011",description:"An anthology series centering on different characters and locations, including a house with a murderous past, an insane asylum, a witch coven, a freak show circus, a haunted hotel, and a supernatural cult.",poster_url:"https://image.tmdb.org/t/p/w500/eqj9vX5YLYO6WxqEODgbKUysPOL.jpg",external_url:"https://www.themoviedb.org/tv/1413",youtube_trailer_url:"https://www.youtube.com/results?search_query=American+Horror+Story+TV+show+trailer",rating:7.8},{title:"Dark",year:"2017",description:"A family saga with a supernatural twist, set in a German town where the disappearance of two young children exposes the relationships among four families.",poster_url:"https://image.tmdb.org/t/p/w500/apbrbWs8M9lyTqt6I70YJZXC0wd.jpg",external_url:"https://www.themoviedb.org/tv/70523",youtube_trailer_url:"https://www.youtube.com/results?search_query=Dark+Netflix+TV+show+trailer",rating:8.6},{title:"The Walking Dead",year:"2010",description:"Sheriff Deputy Rick Grimes wakes up from a coma to learn the world is in ruins and must lead a group of survivors to stay alive.",poster_url:"https://image.tmdb.org/t/p/w500/n7PVu0hSz2sAsVekpOIoCnkWlbn.jpg",external_url:"https://www.themoviedb.org/tv/1402",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Walking+Dead+TV+show+trailer",rating:8.1}],excited:[{title:"Money Heist",year:"2017",description:"An unusual group of robbers attempt to carry out the most perfect robbery in Spanish history - stealing 2.4 billion euros from the Royal Mint of Spain.",poster_url:"https://image.tmdb.org/t/p/w500/reEMJA1uzscCbkpeRJeTT2bjqUp.jpg",external_url:"https://www.themoviedb.org/tv/71446",youtube_trailer_url:"https://www.youtube.com/results?search_query=Money+Heist+TV+show+trailer",rating:8.3},{title:"WandaVision",year:"2021",description:"Blends the style of classic sitcoms with the MCU, in which Wanda Maximoff and Vision - two super-powered beings living their ideal suburban lives - begin to suspect that everything is not as it seems.",poster_url:"https://image.tmdb.org/t/p/w500/glKDfE6btIRcVB5zrjspRIs4r52.jpg",external_url:"https://www.themoviedb.org/tv/85271",youtube_trailer_url:"https://www.youtube.com/results?search_query=WandaVision+TV+show+trailer",rating:8.2},{title:"The Mandalorian",year:"2019",description:"The travels of a lone bounty hunter in the outer reaches of the galaxy, far from the authority of the New Republic.",poster_url:"https://image.tmdb.org/t/p/w500/sWgBv7LV2PRoQgkxwlibdGXKz1S.jpg",external_url:"https://www.themoviedb.org/tv/82856",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Mandalorian+TV+show+trailer",rating:8.5},{title:"Squid Game",year:"2021",description:"Hundreds of cash-strapped players accept a strange invitation to compete in children's games. Inside, a tempting prize awaits with deadly high stakes.",poster_url:"https://image.tmdb.org/t/p/w500/dDlEmu3EZ0Pgg93K2SVNLCjCSvE.jpg",external_url:"https://www.themoviedb.org/tv/93405",youtube_trailer_url:"https://www.youtube.com/results?search_query=Squid+Game+TV+show+trailer",rating:7.8},{title:"Loki",year:"2021",description:"The mercurial villain Loki resumes his role as the God of Mischief in a new series that takes place after the events of Avengers: Endgame.",poster_url:"https://image.tmdb.org/t/p/w500/kEl2t3OhXc3Zb9FBh1AuYzRTgZp.jpg",external_url:"https://www.themoviedb.org/tv/84958",youtube_trailer_url:"https://www.youtube.com/results?search_query=Loki+TV+show+trailer",rating:8.2}],default:[{title:"Stranger Things",year:"2016",description:"When a young boy disappears, his mother, a police chief, and his friends must confront terrifying supernatural forces in order to get him back.",poster_url:"https://image.tmdb.org/t/p/w500/49WJfeN0moxb9IPfGn8AIqMGskD.jpg",external_url:"https://www.themoviedb.org/tv/66732",youtube_trailer_url:"https://www.youtube.com/results?search_query=Stranger+Things+trailer",rating:8.6},{title:"The Crown",year:"2016",description:"Follows the political rivalries and romance of Queen Elizabeth II's reign and the events that shaped the second half of the twentieth century.",poster_url:"https://image.tmdb.org/t/p/w500/lbDx9JWtKhSSrNRFG7VlIuYAhFU.jpg",external_url:"https://www.themoviedb.org/tv/65494",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Crown+TV+show+trailer",rating:8.2},{title:"Black Mirror",year:"2011",description:"An anthology series exploring a twisted, high-tech multiverse where humanity's greatest innovations and darkest instincts collide.",poster_url:"https://image.tmdb.org/t/p/w500/8VHZPL2XqKIlKj3Yhhuo57kcqJ3.jpg",external_url:"https://www.themoviedb.org/tv/42009",youtube_trailer_url:"https://www.youtube.com/results?search_query=Black+Mirror+TV+show+trailer",rating:8.3},{title:"Chernobyl",year:"2019",description:"In April 1986, an explosion at the Chernobyl nuclear power plant in the Union of Soviet Socialist Republics becomes one of the world's worst man-made catastrophes.",poster_url:"https://image.tmdb.org/t/p/w500/hlLXt2tOPT6RRnjiUmoxyG1LTFi.jpg",external_url:"https://www.themoviedb.org/tv/87108",youtube_trailer_url:"https://www.youtube.com/results?search_query=Chernobyl+TV+show+trailer",rating:8.6},{title:"The Queen's Gambit",year:"2020",description:"Orphaned at the tender age of nine, prodigious introvert Beth Harmon discovers and masters the game of chess in 1960s USA. But child stardom comes at a price.",poster_url:"https://image.tmdb.org/t/p/w500/zU0htwkhNvBQdVSwuYTjCNung47.jpg",external_url:"https://www.themoviedb.org/tv/87739",youtube_trailer_url:"https://www.youtube.com/results?search_query=The+Queen's+Gambit+TV+show+trailer",rating:8.6}]},GR={happy:[{title:"The Happiness Project",author:"Gretchen Rubin",description:"Gretchen Rubin chronicles her year-long journey to discover what leads to true contentment and happiness.",image_url:"https://books.google.com/books/content?id=_7eLDQAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=_7eLDQAAQBAJ"},{title:"Eat, Pray, Love",author:"Elizabeth Gilbert",description:"A memoir of Elizabeth Gilbert's journey of self-discovery through Italy, India, and Indonesia.",image_url:"https://books.google.com/books/content?id=_3UkDwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=_3UkDwAAQBAJ"},{title:"The Art of Happiness",author:"Dalai Lama XIV, Howard C. Cutler",description:"Through conversations and stories, the Dalai Lama shows us how to defeat day-to-day anxiety, insecurity, anger, and discouragement.",image_url:"https://books.google.com/books/content?id=VC-3DwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=VC-3DwAAQBAJ"},{title:"Big Magic: Creative Living Beyond Fear",author:"Elizabeth Gilbert",description:"Guidance on how to live a life filled with curiosity, openness, wonder, and creativity.",image_url:"https://books.google.com/books/content?id=_mQRCwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=_mQRCwAAQBAJ"},{title:"The Book of Joy",author:"Dalai Lama, Desmond Tutu, Douglas Abrams",description:"Two spiritual masters share their wisdom about living with joy even in the face of adversity.",image_url:"https://books.google.com/books/content?id=K_-oCwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=K_-oCwAAQBAJ"},{title:"The Little Book of Hygge",author:"Meik Wiking",description:"The Danish way to live well - a guide to creating a sense of coziness and contentment.",image_url:"https://books.google.com/books/content?id=gVKoDQAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=gVKoDQAAQBAJ"}],sad:[{title:"A Little Life",author:"Hanya Yanagihara",description:"A heartbreaking novel about the limits of human resilience and healing friendship.",image_url:"https://books.google.com/books/content?id=weYtBgAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=weYtBgAAQBAJ"},{title:"The Road",author:"Cormac McCarthy",description:"A post-apocalyptic tale of a journey of a father and his young son over a period of several months across a landscape blasted by an unspecified disaster.",image_url:"https://books.google.com/books/content?id=QIsZ3NQiKN0C&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=QIsZ3NQiKN0C"},{title:"The Fault in Our Stars",author:"John Green",description:"A novel about a sixteen-year-old cancer patient who falls in love with a boy she meets at her support group.",image_url:"https://books.google.com/books/content?id=QiLaCwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=QiLaCwAAQBAJ"},{title:"When Breath Becomes Air",author:"Paul Kalanithi",description:"A memoir about his life and battle with metastatic lung cancer, written by neurosurgeon Paul Kalanithi.",image_url:"https://books.google.com/books/content?id=nUpCCwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=nUpCCwAAQBAJ"},{title:"All the Bright Places",author:"Jennifer Niven",description:"The story of Violet and Finch, who meet on the ledge of the school bell tower and discover that when you're with someone who makes you see the world differently, life can be bright even in the darkest of times.",image_url:"https://books.google.com/books/content?id=zoSPBAAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=zoSPBAAAQBAJ"},{title:"A Man Called Ove",author:"Fredrik Backman",description:"A grumpy yet loveable man finds his solitary world turned on its head when a boisterous young family moves in next door.",image_url:"https://books.google.com/books/content?id=2G_mBAAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=2G_mBAAAQBAJ"}],angry:[{title:"The Hate U Give",author:"Angie Thomas",description:"Sixteen-year-old Starr Carter navigates between the poverty-stricken neighborhood she has grown up in and the upper-crust suburban prep school she attends.",image_url:"https://books.google.com/books/content?id=f35xDwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=f35xDwAAQBAJ"},{title:"Rage Becomes Her: The Power of Women's Anger",author:"Soraya Chemaly",description:"A transformative book urging women to understand their anger, embrace its power, and use it for positive change.",image_url:"https://books.google.com/books/content?id=FBRDDwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=FBRDDwAAQBAJ"},{title:"Eloquent Rage: A Black Feminist Discovers Her Superpower",author:"Brittney Cooper",description:"A dissertation on black women's anger, as well as its necessity in facing systems of oppression.",image_url:"https://books.google.com/books/content?id=1JgvDwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=1JgvDwAAQBAJ"},{title:"1984",author:"George Orwell",description:"A dystopian novel set in a totalitarian society where critical thought is suppressed by a government with total power.",image_url:"https://books.google.com/books/content?id=kotPYEqx7kMC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=kotPYEqx7kMC"},{title:"The Handmaid's Tale",author:"Margaret Atwood",description:"Set in a near-future New England, in a strongly patriarchal, totalitarian theonomic state, the novel explores themes of women in subjugation.",image_url:"https://books.google.com/books/content?id=vN8hnUoYDg0C&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=vN8hnUoYDg0C"},{title:"Hunger: A Memoir of (My) Body",author:"Roxane Gay",description:"A deeply personal memoir about food, weight, self-image, and learning how to feed your hunger while taking care of yourself.",image_url:"https://books.google.com/books/content?id=nDYJDQAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=nDYJDQAAQBAJ"}],fearful:[{title:"The Haunting of Hill House",author:"Shirley Jackson",description:"A story about four seekers who arrive at the notoriously unfriendly Hill House.",image_url:"https://books.google.com/books/content?id=zN9HDwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=zN9HDwAAQBAJ"},{title:"It",author:"Stephen King",description:"A group of bullied kids band together to destroy a shape-shifting monster, which disguises itself as a clown.",image_url:"https://books.google.com/books/content?id=iA8djgEACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api",url:"https://books.google.com/books?id=iA8djgEACAAJ"},{title:"Fear: Essential Wisdom for Getting Through the Storm",author:"Thich Nhat Hanh",description:"A guide to overcoming fear through the practice of mindfulness.",image_url:"https://books.google.com/books/content?id=rnFBDwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=rnFBDwAAQBAJ"},{title:"Bird Box",author:"Josh Malerman",description:"Something is out there, something terrifying that must not be seen. One glimpse and a person is driven to deadly violence.",image_url:"https://books.google.com/books/content?id=Q-gwCwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=Q-gwCwAAQBAJ"},{title:"House of Leaves",author:"Mark Z. Danielewski",description:"A young family moves into a small home on Ash Tree Lane where they discover something is terribly wrong: their house is bigger on the inside than it is on the outside.",image_url:"https://books.google.com/books/content?id=bYWXK1wXV3IC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=bYWXK1wXV3IC"},{title:"Pet Sematary",author:"Stephen King",description:"A novel about a mysterious burial ground deep in the woods near the Creed family's new home.",image_url:"https://books.google.com/books/content?id=SH2eDwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=SH2eDwAAQBAJ"}],excited:[{title:"Ready Player One",author:"Ernest Cline",description:"In a dark dystopian future, a teenager named Wade Watts joins a virtual reality game in search of the ultimate prize.",image_url:"https://books.google.com/books/content?id=J8ahvgAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api",url:"https://books.google.com/books?id=J8ahvgAACAAJ"},{title:"The Martian",author:"Andy Weir",description:"An astronaut becomes stranded on Mars after his team assume him dead, and must rely on his ingenuity to find a way to signal to Earth that he is alive.",image_url:"https://books.google.com/books/content?id=MQeHAAAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=MQeHAAAAQBAJ"},{title:"The Night Circus",author:"Erin Morgenstern",description:"A mysterious circus that only appears at night, featuring a fierce competition between two magicians who have been trained since childhood.",image_url:"https://books.google.com/books/content?id=YPo-AgAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=YPo-AgAAQBAJ"},{title:"The Hunger Games",author:"Suzanne Collins",description:"In a dystopian future, the Capitol of Panem maintains its hold on its districts by forcing them each to select a boy and girl to participate in the annual Hunger Games, a fight to the death on live TV.",image_url:"https://books.google.com/books/content?id=hlb1PgAACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api",url:"https://books.google.com/books?id=hlb1PgAACAAJ"},{title:"Six of Crows",author:"Leigh Bardugo",description:"Six dangerous outcasts must pull off a seemingly impossible heist that could make them rich beyond their wildest dreams.",image_url:"https://books.google.com/books/content?id=PCxbrgEACAAJ&printsec=frontcover&img=1&zoom=1&source=gbs_api",url:"https://books.google.com/books?id=PCxbrgEACAAJ"},{title:"Mistborn: The Final Empire",author:"Brandon Sanderson",description:"A thieving crew plans a heist to end the Lord Ruler's 1,000-year reign in Sanderson's epic fantasy.",image_url:"https://books.google.com/books/content?id=t_ZYYXZq4RgC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=t_ZYYXZq4RgC"}],default:[{title:"The Alchemist",author:"Paulo Coelho",description:"A story about following your dreams and listening to your heart.",image_url:"https://books.google.com/books/content?id=FzVjBgAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=FzVjBgAAQBAJ"},{title:"To Kill a Mockingbird",author:"Harper Lee",description:"The story of racial injustice and loss of innocence in the American South during the Great Depression.",image_url:"https://books.google.com/books/content?id=PGR2AwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=PGR2AwAAQBAJ"},{title:"1984",author:"George Orwell",description:"A dystopian novel set in a totalitarian society where critical thought is suppressed by a government with total power.",image_url:"https://books.google.com/books/content?id=kotPYEqx7kMC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=kotPYEqx7kMC"},{title:"The Great Gatsby",author:"F. Scott Fitzgerald",description:"The story of eccentric millionaire Jay Gatsby and his obsession with the beautiful Daisy Buchanan.",image_url:"https://books.google.com/books/content?id=beO-CgAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=beO-CgAAQBAJ"},{title:"The Little Prince",author:"Antoine de Saint-Exup\xe9ry",description:"A poetic tale about a pilot stranded in the desert meeting a young prince fallen to Earth from a tiny asteroid.",image_url:"https://books.google.com/books/content?id=gqVGBgAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=gqVGBgAAQBAJ"},{title:"Pride and Prejudice",author:"Jane Austen",description:"The story follows the main character Elizabeth Bennet as she deals with issues of manners, upbringing, morality, education, and marriage in the society of the landed gentry of early 19th-century England.",image_url:"https://books.google.com/books/content?id=s1gVAAAAYAAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=s1gVAAAAYAAJ"},{title:"Harry Potter and the Sorcerer's Stone",author:"J.K. Rowling",description:"A boy learns on his eleventh birthday that he is the orphaned son of two powerful wizards and possesses magical powers of his own.",image_url:"https://books.google.com/books/content?id=wrOQLV6xB-wC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=wrOQLV6xB-wC"}]};const qR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:o,open:i,resumeHideDuration:a}=e,s=(0,xt.A)();r.useEffect((()=>{if(i)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==o||o(e,"escapeKeyDown")}}),[i,o]);const l=(0,Yr.A)(((e,t)=>{null==o||o(e,t)})),u=(0,Yr.A)((e=>{o&&null!=e&&s.start(e,(()=>{l(null,"timeout")}))}));r.useEffect((()=>(i&&u(t),s.clear)),[i,t,u,s]);const c=s.clear,d=r.useCallback((()=>{null!=t&&u(null!=a?a:.5*t)}),[t,a,u]),p=e=>t=>{const n=e.onFocus;null==n||n(t),c()},f=e=>t=>{const n=e.onMouseEnter;null==n||n(t),c()},h=e=>t=>{const n=e.onMouseLeave;null==n||n(t),d()};return r.useEffect((()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",c)}}),[n,i,d,c]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,Te.A)({},hr(e),hr(t));return(0,Te.A)({role:"presentation"},t,n,{onBlur:(r=n,e=>{const t=r.onBlur;null==t||t(e),d()}),onFocus:p(n),onMouseEnter:f(n),onMouseLeave:h(n)});var r},onClickAway:e=>{null==o||o(e,"clickaway")}}};function KR(e){return e.substring(2).toLowerCase()}function XR(e){const{children:t,disableReactTree:n=!1,mouseEvent:o="onClick",onClickAway:i,touchEvent:a="onTouchEnd"}=e,s=r.useRef(!1),l=r.useRef(null),u=r.useRef(!1),c=r.useRef(!1);r.useEffect((()=>(setTimeout((()=>{u.current=!0}),0),()=>{u.current=!1})),[]);const d=(0,pr.A)(xr(t),l),p=(0,Yr.A)((e=>{const t=c.current;c.current=!1;const r=(0,wr.A)(l.current);if(!u.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(s.current)return void(s.current=!1);let o;o=e.composedPath?e.composedPath().indexOf(l.current)>-1:!r.documentElement.contains(e.target)||l.current.contains(e.target),o||!n&&t||i(e)})),f=e=>n=>{c.current=!0;const r=t.props[e];r&&r(n)},h={ref:d};return!1!==a&&(h[a]=f(a)),r.useEffect((()=>{if(!1!==a){const e=KR(a),t=(0,wr.A)(l.current),n=()=>{s.current=!0};return t.addEventListener(e,p),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,p),t.removeEventListener("touchmove",n)}}}),[p,a]),!1!==o&&(h[o]=f(o)),r.useEffect((()=>{if(!1!==o){const e=KR(o),t=(0,wr.A)(l.current);return t.addEventListener(e,p),()=>{t.removeEventListener(e,p)}}}),[p,o]),(0,ze.jsx)(r.Fragment,{children:r.cloneElement(t,h)})}function YR(e){return(0,et.Ay)("MuiSnackbarContent",e)}(0,$e.A)("MuiSnackbarContent",["root","message","action"]);const QR=["action","className","message","role"],JR=(0,Qe.Ay)(Xn,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,r=(0,it.tL)(t.palette.background.default,n);return(0,Te.A)({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),ZR=(0,Qe.Ay)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),eT=(0,Qe.Ay)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),tT=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiSnackbarContent"}),{action:r,className:o,message:i,role:a="alert"}=n,s=(0,Ie.A)(n,QR),l=n,u=(e=>{const{classes:t}=e;return(0,Ye.A)({root:["root"],action:["action"],message:["message"]},YR,t)})(l);return(0,ze.jsxs)(JR,(0,Te.A)({role:a,square:!0,elevation:6,className:(0,Pe.A)(u.root,o),ownerState:l,ref:t},s,{children:[(0,ze.jsx)(ZR,{className:u.message,ownerState:l,children:i}),r?(0,ze.jsx)(eT,{className:u.action,ownerState:l,children:r}):null]}))}));function nT(e){return(0,et.Ay)("MuiSnackbar",e)}(0,$e.A)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const rT=["onEnter","onExited"],oT=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],iT=(0,Qe.Ay)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${(0,ln.A)(n.anchorOrigin.vertical)}${(0,ln.A)(n.anchorOrigin.horizontal)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:(0,Te.A)({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"})})})),aT=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiSnackbar"}),o=Br(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:c,className:d,ClickAwayListenerProps:p,ContentProps:f,disableWindowBlurListener:h=!1,message:m,open:v,TransitionComponent:g=uu,transitionDuration:y=i,TransitionProps:{onEnter:b,onExited:x}={}}=n,w=(0,Ie.A)(n.TransitionProps,rT),S=(0,Ie.A)(n,oT),A=(0,Te.A)({},n,{anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:u,disableWindowBlurListener:h,TransitionComponent:g,transitionDuration:y}),k=(e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${(0,ln.A)(n.vertical)}${(0,ln.A)(n.horizontal)}`]};return(0,Ye.A)(r,nT,t)})(A),{getRootProps:C,onClickAway:E}=qR((0,Te.A)({},A)),[_,R]=r.useState(!0),T=br({elementType:iT,getSlotProps:C,externalForwardedProps:S,ownerState:A,additionalProps:{ref:t},className:[k.root,d]});return!v&&_?null:(0,ze.jsx)(XR,(0,Te.A)({onClickAway:E},p,{children:(0,ze.jsx)(iT,(0,Te.A)({},T,{children:(0,ze.jsx)(g,(0,Te.A)({appear:!0,in:v,timeout:y,direction:"top"===s?"down":"up",onEnter:(e,t)=>{R(!1),b&&b(e,t)},onExited:e=>{R(!0),x&&x(e)}},w,{children:c||(0,ze.jsx)(tT,(0,Te.A)({message:m,action:a},f))}))}))}))}));function sT(e){return(0,et.Ay)("MuiAlert",e)}const lT=(0,$e.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),uT=(0,Qu.A)((0,ze.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),cT=(0,Qu.A)((0,ze.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),dT=(0,Qu.A)((0,ze.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),pT=(0,Qu.A)((0,ze.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),fT=(0,Qu.A)((0,ze.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),hT=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],mT=(0,Qe.Ay)(Xn,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,ln.A)(n.color||n.severity)}`]]}})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?it.e$:it.a,r="light"===t.palette.mode?it.a:it.e$;return(0,Te.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${o}StandardBg`]:r(t.palette[o].light,.9),[`& .${lT.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${lT.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,Te.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}}))]})})),vT=(0,Qe.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),gT=(0,Qe.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),yT=(0,Qe.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),bT={success:(0,ze.jsx)(uT,{fontSize:"inherit"}),warning:(0,ze.jsx)(cT,{fontSize:"inherit"}),error:(0,ze.jsx)(dT,{fontSize:"inherit"}),info:(0,ze.jsx)(pT,{fontSize:"inherit"})},xT=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiAlert"}),{action:r,children:o,className:i,closeText:a="Close",color:s,components:l={},componentsProps:u={},icon:c,iconMapping:d=bT,onClose:p,role:f="alert",severity:h="success",slotProps:m={},slots:v={},variant:g="standard"}=n,y=(0,Ie.A)(n,hT),b=(0,Te.A)({},n,{color:s,severity:h,variant:g,colorSeverity:s||h}),x=(e=>{const{variant:t,color:n,severity:r,classes:o}=e,i={root:["root",`color${(0,ln.A)(n||r)}`,`${t}${(0,ln.A)(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,Ye.A)(i,sT,o)})(b),w={slots:(0,Te.A)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},v),slotProps:(0,Te.A)({},u,m)},[S,A]=J_("closeButton",{elementType:ur,externalForwardedProps:w,ownerState:b}),[k,C]=J_("closeIcon",{elementType:fT,externalForwardedProps:w,ownerState:b});return(0,ze.jsxs)(mT,(0,Te.A)({role:f,elevation:0,ownerState:b,className:(0,Pe.A)(x.root,i),ref:t},y,{children:[!1!==c?(0,ze.jsx)(vT,{ownerState:b,className:x.icon,children:c||d[h]||bT[h]}):null,(0,ze.jsx)(gT,{ownerState:b,className:x.message,children:o}),null!=r?(0,ze.jsx)(yT,{ownerState:b,className:x.action,children:r}):null,null==r&&p?(0,ze.jsx)(yT,{ownerState:b,className:x.action,children:(0,ze.jsx)(S,(0,Te.A)({size:"small","aria-label":a,title:a,color:"inherit",onClick:p},A,{children:(0,ze.jsx)(k,(0,Te.A)({fontSize:"small"},C))}))}):null]}))}));var wT=n(1749),ST=n(8395);const AT=e=>{let{contentType:t,title:n,artist:o,currentMood:i,onInteractionComplete:a=()=>{},showButtons:s=!0}=e;const[l,u]=r.useState(!1),[c,d]=r.useState(""),[p,f]=r.useState("success"),h=async e=>{const r=localStorage.getItem("username");if(!r)return d("You need to be logged in to track your content history"),f("warning"),void u(!0);try{const s={type:t,title:n,artist:o,mood:i||"Unknown",timestamp:(new Date).toISOString()};await Es(r,s),d(`${"play"===e?"Playing":"Added to playlist"}: ${n}`),f("success"),u(!0),a(e,s)}catch(s){console.error("Error recording content interaction:",s),d("Failed to record your interaction. Please try again."),f("error"),u(!0)}},m=(e,t)=>{"clickaway"!==t&&u(!1)};return(0,ze.jsxs)(Xe,{children:[s&&(0,ze.jsxs)(Xe,{sx:{display:"flex",gap:1,mt:1},children:[(0,ze.jsx)(Bo,{variant:"contained",size:"small",startIcon:(0,ze.jsx)(wT.A,{}),onClick:()=>h("play"),sx:{backgroundColor:"#6C63FF","&:hover":{backgroundColor:"#5A52D5"},borderRadius:"20px",textTransform:"none",fontFamily:"Poppins"},children:"Play"}),(0,ze.jsx)(Bo,{variant:"outlined",size:"small",startIcon:(0,ze.jsx)(ST.A,{}),onClick:()=>h("add"),sx:{color:"#6C63FF",borderColor:"#6C63FF","&:hover":{borderColor:"#5A52D5",backgroundColor:"rgba(108, 99, 255, 0.04)"},borderRadius:"20px",textTransform:"none",fontFamily:"Poppins"},children:"Add to Playlist"})]}),(0,ze.jsx)(aT,{open:l,autoHideDuration:3e3,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,ze.jsx)(xT,{onClose:m,severity:p,sx:{width:"100%"},children:c})})]})},kT={happy:"happy",sad:"sad",angry:"metal",relaxed:"chill",energetic:"hip-hop",nostalgic:"pop",anxious:"chill",hopeful:"romance",proud:"hip-hop",lonely:"sad",neutral:"chill",amused:"party",frustrated:"metal",romantic:"romance",surprised:"party",confused:"pop",excited:"party",shy:"pop",bored:"pop",playful:"party"},CT=e=>({container:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:e?"#121212":"#f9f9f9",fontFamily:"Poppins",padding:"20px",transition:"all 0.3s ease",overflowY:"auto",WebkitOverflowScrolling:"touch",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},emotionText:{marginBottom:"15px",color:e?"#ffffff":"#333",fontFamily:"Poppins"},emotion:{color:"#6A1B9A",fontWeight:"bold"},resultsContainer:{padding:"20px",borderRadius:"12px",width:"90%",maxWidth:"1000px",height:"auto",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.1)",backgroundColor:e?"#1f1f1f":"white",overflowY:"visible",transition:"background-color 0.3s ease"},recommendationsList:{display:"flex",flexDirection:"column",gap:"15px",padding:"10px 0",alignItems:"center"},recommendationCard:{width:"100%",maxWidth:"800px",borderRadius:"10px",padding:"8px",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.15)",backgroundColor:e?"#333333":"#ffffff",display:"flex",font:"inherit",flexDirection:"row",gap:"10px",transition:"background-color 0.3s ease"},cardContentContainer:{display:"flex",flexDirection:"row",width:"100%"},imageContainer:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},albumImage:{width:"100%",maxWidth:"150px",height:"auto",borderRadius:"10px",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.2)"},cardDetails:{flex:2,display:"flex",font:"inherit",flexDirection:"column",justifyContent:"center"},songTitle:{font:"inherit",fontSize:"1rem",fontWeight:"bold",color:e?"#ffffff":"#333",marginBottom:"5px"},artistName:{font:"inherit",fontSize:"0.9rem",color:e?"#cccccc":"#555",marginBottom:"8px"},audioPlayer:{width:"100%",marginTop:"10px",borderRadius:"5px"},spotifyButton:{marginTop:"10px",backgroundColor:"#1DB954",color:"#fff",textTransform:"none",font:"inherit",fontWeight:"normal","&:hover":{backgroundColor:"#1ed760"},transition:"background-color 0.3s ease"}}),ET=()=>{const e=J().state||{},t=e.emotion||"None",[n,o]=(0,r.useState)(t),[i,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)({music:[],movies:[],webseries:[],stories:[]}),{isDarkMode:u}=(0,r.useContext)(ei),[c,d]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1),[h,m]=(0,r.useState)(0),[v,g]=(0,r.useState)(0),[y,b]=(0,r.useState)(0),[x,w]=(0,r.useState)(0),[S,A]=(0,r.useState)(new Set),k=10,C=s.movies.filter((e=>e.poster_url&&/^https?:\/\/.+\.(jpg|jpeg|png)(\?.*)?$/i.test(e.poster_url)&&!S.has(e.external_url))),E=s.webseries.filter((e=>e.poster_url&&/^https?:\/\/.+\.(jpg|jpeg|png)(\?.*)?$/i.test(e.poster_url)&&!S.has(e.external_url))),_=s.stories.filter((e=>e.poster_url&&/^https?:\/\//.test(e.poster_url)&&!S.has(e.external_url))),[R,T]=(Zo("(max-width:600px)"),(0,r.useState)("english"));(0,r.useEffect)((()=>{m(0)}),[s.music]),(0,r.useEffect)((()=>{g(0)}),[s.movies]),(0,r.useEffect)((()=>{b(0)}),[s.webseries]),(0,r.useEffect)((()=>{w(0)}),[s.stories]),(0,r.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[h]);const I=async e=>{a(!0);try{console.log(`Fetching recommendations for mood: ${e}`);const r=e.toLowerCase();let o=[];try{var t;const e=await vs.post(`${VR}/api/recommendations/`,{emotion:r});console.log("Music API Response:",e.data),o=(null===(t=e.data.recommendations)||void 0===t?void 0:t.music)||[],console.log("Music items:",o.length)}catch(n){console.error("Error fetching music recommendations:",n)}const i=HR[r]?r:"default",a=$R[r]?r:"default",s=GR[r]?r:"default";console.log(`Getting recommendations for mood: ${e}`);const u=HR[i]||[],c=$R[a]||[],d=GR[s]||[],p={music:o,movies:u,webseries:c,stories:d};console.log(`Total recommendations - Music: ${o.length}, Movies: ${u.length}, Web Series: ${c.length}, Stories: ${d.length}`),l(p)}catch(r){console.error("Error fetching recommendations:",r);const t=e.toLowerCase();l({music:[],movies:HR[HR[t]?t:"default"]||[],webseries:$R[$R[t]?t:"default"]||[],stories:GR[GR[t]?t:"default"]||[]})}finally{a(!1)}};(0,r.useEffect)((()=>{I(t),f(!0)}),[]);const P=e=>{d(e)},O=CT(u);return(0,ze.jsxs)("div",{style:{...O.container,opacity:p?1:0,transform:p?"translateY(0)":"translateY(20px)",transition:"all 0.8s ease-in-out"},children:[(0,ze.jsx)(hn,{variant:"h5",style:O.emotionText,children:(0,ze.jsxs)("strong",{children:["Detected Mood:"," ",(0,ze.jsx)("span",{style:O.emotion,children:n.charAt(0).toUpperCase()+n.slice(1)})]})}),!e.isCheerUpMode&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(hn,{variant:"body2",style:{color:u?"#cccccc":"#999",marginBottom:"20px",textAlign:"center",font:"inherit",fontSize:"14px"},children:"Or select a mood from the dropdown below to get recommendations based on that mood:"}),(0,ze.jsxs)(Vl,{fullWidth:!0,style:{marginBottom:"20px",maxWidth:"300px"},children:[(0,ze.jsx)(Bl,{sx:{fontFamily:"Poppins",color:u?"#ffffff":"#000000"},children:"Select Mood"}),(0,ze.jsx)(ac,{value:n,onChange:e=>{const t=e.target.value;o(t),I(t)},variant:"outlined",label:"Select Mood",sx:{fontFamily:"Poppins",color:u?"#ffffff":"#000000",".MuiOutlinedInput-notchedOutline":{fontFamily:"Poppins",borderColor:u?"#ffffff":"#000000"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{fontFamily:"Poppins",borderColor:u?"#ffffff":"#000000"},".MuiSvgIcon-root":{fontFamily:"Poppins",color:u?"#ffffff":"#000000"}},children:Object.keys(kT).map(((e,t)=>(0,ze.jsx)(UR,{value:e,style:{fontFamily:"Poppins"},children:e.charAt(0).toUpperCase()+e.slice(1)},t)))})]})]}),(0,ze.jsx)(Xn,{style:O.resultsContainer,children:null===c?(0,ze.jsxs)(Xe,{sx:{padding:"20px",height:"100%"},children:[(0,ze.jsx)(hn,{variant:"h6",sx:{textAlign:"center",marginBottom:"24px",color:u?"rgba(255,255,255,0.9)":"rgba(0,0,0,0.8)",fontFamily:"Poppins"},children:"What would you like recommendations for?"}),(0,ze.jsxs)(vR,{container:!0,spacing:3,justifyContent:"center",alignItems:"center",sx:{height:"100%"},children:[(0,ze.jsx)(vR,{item:!0,xs:12,sm:6,md:3,children:(0,ze.jsxs)(Bo,{onClick:()=>P("music"),sx:{width:"100%",height:"160px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:u?"#333":"#f5f5f5",color:"#fff",borderRadius:"12px",transition:"all 0.3s ease",border:"2px solid transparent","&:hover":{backgroundColor:"#6A1B9A",color:"#ffffff",transform:"translateY(-5px)",boxShadow:"0 10px 20px rgba(106, 27, 154, 0.2)"}},children:[(0,ze.jsx)(Xe,{sx:{fontSize:"3rem",mb:1,color:u?"#fff":"#6A1B9A",width:"100%",textAlign:"center"},children:"\ud83c\udfa7"}),(0,ze.jsx)(hn,{variant:"h6",sx:{color:u?"#fff":"#000",fontFamily:"Poppins",fontWeight:600},children:"Music"})]})}),(0,ze.jsx)(vR,{item:!0,xs:12,sm:6,md:3,children:(0,ze.jsxs)(Bo,{onClick:()=>P("movies"),sx:{width:"100%",height:"160px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:u?"#333":"#f5f5f5",color:"#fff",borderRadius:"12px",transition:"all 0.3s ease",border:"2px solid transparent","&:hover":{backgroundColor:"#6A1B9A",color:"#ffffff",transform:"translateY(-5px)",boxShadow:"0 10px 20px rgba(106, 27, 154, 0.2)"}},children:[(0,ze.jsx)(Xe,{sx:{fontSize:"3rem",marginBottom:"8px",color:u?"#fff":"#6A1B9A"},children:"\ud83c\udfac"}),(0,ze.jsx)(hn,{variant:"h6",sx:{color:u?"#fff":"#000",fontFamily:"Poppins",fontWeight:600},children:"Movies"})]})}),(0,ze.jsx)(vR,{item:!0,xs:12,sm:6,md:3,children:(0,ze.jsxs)(Bo,{onClick:()=>P("webseries"),sx:{width:"100%",height:"160px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:u?"#333":"#f5f5f5",color:"#fff",borderRadius:"12px",transition:"all 0.3s ease",border:"2px solid transparent","&:hover":{backgroundColor:"#6A1B9A",color:"#ffffff",transform:"translateY(-5px)",boxShadow:"0 10px 20px rgba(106, 27, 154, 0.2)"}},children:[(0,ze.jsx)(Xe,{sx:{fontSize:"3rem",marginBottom:"8px",color:u?"#fff":"#6A1B9A"},children:"\ud83d\udcfa"}),(0,ze.jsx)(hn,{variant:"h6",sx:{color:u?"#fff":"#000",fontFamily:"Poppins",fontWeight:600},children:"Web Series"})]})}),(0,ze.jsx)(vR,{item:!0,xs:12,sm:6,md:3,children:(0,ze.jsxs)(Bo,{onClick:()=>P("stories"),sx:{width:"100%",height:"160px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:u?"#333":"#f5f5f5",color:"#fff",borderRadius:"12px",transition:"all 0.3s ease",border:"2px solid transparent","&:hover":{backgroundColor:"#6A1B9A",color:"#ffffff",transform:"translateY(-5px)",boxShadow:"0 10px 20px rgba(106, 27, 154, 0.2)"}},children:[(0,ze.jsx)(Xe,{sx:{fontSize:"3rem",marginBottom:"8px",color:u?"#fff":"#6A1B9A"},children:"\ud83d\udcda"}),(0,ze.jsx)(hn,{variant:"h6",sx:{color:u?"#fff":"#000",fontFamily:"Poppins",fontWeight:600},children:"Short Stories"})]})})]})]}):(0,ze.jsxs)(Xe,{style:O.recommendationsList,children:[(0,ze.jsxs)(Xe,{sx:{display:"flex",justifyContent:"space-between",width:"100%",marginBottom:"20px"},children:[(0,ze.jsxs)(hn,{variant:"h6",sx:{color:u?"#fff":"#333"},children:[c.charAt(0).toUpperCase()+c.slice(1)," Recommendations"]}),(0,ze.jsx)(Bo,{variant:"outlined",onClick:()=>d(null),sx:{borderColor:"#6A1B9A",color:"#6A1B9A","&:hover":{borderColor:"#6A1B9A",backgroundColor:"rgba(106, 27, 154, 0.1)"}},children:"Back to Categories"})]}),i&&(0,ze.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:"20px"},children:[(0,ze.jsx)(Mc,{style:{color:"#6A1B9A"}}),(0,ze.jsx)(hn,{variant:"body2",style:{color:u?"#cccccc":"#999",marginTop:"10px"},children:"Loading recommendations..."})]}),"music"===c&&s.music.length>0&&!i&&(0,ze.jsxs)(ze.Fragment,{children:[s.music.slice(h*k,(h+1)*k).map(((e,t)=>(0,ze.jsx)(xR,{style:O.recommendationCard,children:(0,ze.jsxs)(kR,{style:O.cardContentContainer,children:[(0,ze.jsx)("div",{style:O.imageContainer,children:e.image_url?(0,ze.jsx)("img",{src:e.image_url,alt:e.name,style:O.albumImage}):(0,ze.jsx)("div",{style:{...O.albumImage,backgroundColor:"#e0e0e0",display:"flex",justifyContent:"center",alignItems:"center"},children:"No Image"})}),(0,ze.jsxs)("div",{style:O.cardDetails,children:[(0,ze.jsx)(hn,{style:O.songTitle,children:e.name}),(0,ze.jsx)(hn,{style:O.artistName,children:e.artist}),e.preview_url&&(0,ze.jsx)("audio",{controls:!0,src:e.preview_url,style:O.audioPlayer}),(0,ze.jsxs)(Xe,{sx:{display:"flex",flexDirection:"column",gap:1,mt:1},children:[(0,ze.jsx)(AT,{contentType:"song",title:e.name,artist:e.artist,currentMood:n,showButtons:!1,onInteractionComplete:()=>{}}),(0,ze.jsx)(Bo,{component:"a",href:e.url||e.external_url,target:"_blank",rel:"noopener noreferrer",style:O.spotifyButton,onClick:()=>{const t=localStorage.getItem("username");if(t){const r={type:"song",title:e.name,artist:e.artist,mood:n||"Unknown",timestamp:(new Date).toISOString()};Es(t,r).catch((e=>console.error("Error recording content interaction:",e)))}},children:"Listen on Spotify"})]})]})]})},t))),(0,ze.jsxs)(Xe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2},children:[(0,ze.jsx)(Bo,{variant:"text",disabled:0===h,onClick:()=>m((e=>Math.max(e-1,0))),sx:{mr:1,color:u?"#fff":"#000","&:hover":{backgroundColor:u?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"},"&.Mui-disabled":{color:u?"#fff":"#000"}},children:"Previous"}),(0,ze.jsx)(hn,{variant:"body2",sx:{color:u?"#fff":"#000"},children:`Page ${h+1} of ${Math.ceil(s.music.length/k)}`}),(0,ze.jsx)(Bo,{variant:"text",disabled:h>=Math.ceil(s.music.length/k)-1,onClick:()=>m((e=>Math.min(e+1,Math.ceil(s.music.length/k)-1))),sx:{ml:1,color:u?"#fff":"#000","&:hover":{backgroundColor:u?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"},"&.Mui-disabled":{color:u?"#fff":"#000"}},children:"Next"})]})]}),"movies"===c&&C.length>0&&!i&&(0,ze.jsxs)(ze.Fragment,{children:[C.slice(v*k,(v+1)*k).map(((e,t)=>(0,ze.jsx)(xR,{style:O.recommendationCard,children:(0,ze.jsxs)(kR,{style:O.cardContentContainer,children:[(0,ze.jsx)("div",{style:{flex:"0 0 150px",marginRight:"10px"},children:(0,ze.jsx)("img",{src:e.poster_url,alt:e.title,style:{width:"100%",borderRadius:"8px"},onError:()=>A((t=>new Set(t).add(e.external_url)))})}),(0,ze.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,ze.jsxs)(hn,{style:O.songTitle,children:[e.title," (",e.year,")"]}),(0,ze.jsx)(hn,{style:O.artistName,children:e.description}),(0,ze.jsxs)(Xe,{sx:{display:"flex",gap:"8px",flexWrap:"wrap",marginTop:"8px"},children:[(0,ze.jsx)(Bo,{href:e.youtube_trailer_url,target:"_blank",variant:"outlined",children:"Trailer"}),(0,ze.jsx)(Bo,{href:e.external_url,target:"_blank",variant:"contained",children:"Know more"})]})]})]})},t))),(0,ze.jsxs)(Xe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2},children:[(0,ze.jsx)(Bo,{variant:"text",disabled:0===v,onClick:()=>g((e=>Math.max(e-1,0))),sx:{mr:1,color:u?"#fff":"#000","&:hover":{backgroundColor:u?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"},"&.Mui-disabled":{color:u?"#fff":"#000"}},children:"Previous"}),(0,ze.jsx)(hn,{variant:"body2",sx:{color:u?"#fff":"#000"},children:`Page ${v+1} of ${Math.ceil(C.length/k)}`}),(0,ze.jsx)(Bo,{variant:"text",disabled:v>=Math.ceil(C.length/k)-1,onClick:()=>g((e=>Math.min(e+1,Math.ceil(C.length/k)-1))),sx:{ml:1,color:u?"#fff":"#000","&:hover":{backgroundColor:u?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"},"&.Mui-disabled":{color:u?"#fff":"#000"}},children:"Next"})]})]}),"webseries"===c&&E.length>0&&!i&&(0,ze.jsxs)(ze.Fragment,{children:[E.slice(y*k,(y+1)*k).map(((e,t)=>(0,ze.jsx)(xR,{style:O.recommendationCard,children:(0,ze.jsxs)(kR,{style:O.cardContentContainer,children:[(0,ze.jsx)("div",{style:{flex:"0 0 150px",marginRight:"10px"},children:(0,ze.jsx)("img",{src:e.poster_url,alt:e.title,style:{width:"100%",borderRadius:"8px"},onError:()=>A((t=>new Set(t).add(e.external_url)))})}),(0,ze.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,ze.jsxs)(hn,{style:O.songTitle,children:[e.title," (",e.year,")"]}),(0,ze.jsx)(hn,{style:O.artistName,children:e.description}),(0,ze.jsxs)(Xe,{sx:{display:"flex",gap:"8px",flexWrap:"wrap",marginTop:"8px"},children:[(0,ze.jsx)(Bo,{href:e.youtube_trailer_url,target:"_blank",variant:"outlined",children:"Trailer"}),(0,ze.jsx)(Bo,{href:e.external_url,target:"_blank",variant:"contained",children:"Know more"})]})]})]})},t))),(0,ze.jsxs)(Xe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2},children:[(0,ze.jsx)(Bo,{variant:"text",disabled:0===y,onClick:()=>b((e=>Math.max(e-1,0))),sx:{mr:1,color:u?"#fff":"#000","&:hover":{backgroundColor:u?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"},"&.Mui-disabled":{color:u?"#fff":"#000"}},children:"Previous"}),(0,ze.jsx)(hn,{variant:"body2",sx:{color:u?"#fff":"#000"},children:`Page ${y+1} of ${Math.ceil(E.length/k)}`}),(0,ze.jsx)(Bo,{variant:"text",disabled:y>=Math.ceil(E.length/k)-1,onClick:()=>b((e=>Math.min(e+1,Math.ceil(E.length/k)-1))),sx:{ml:1,color:u?"#fff":"#000","&:hover":{backgroundColor:u?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"},"&.Mui-disabled":{color:u?"#fff":"#000"}},children:"Next"})]})]}),"stories"===c&&_.length>0&&!i&&(0,ze.jsxs)(ze.Fragment,{children:[_.slice(x*k,(x+1)*k).map(((e,t)=>(0,ze.jsx)(xR,{style:O.recommendationCard,children:(0,ze.jsxs)(kR,{style:O.cardContentContainer,children:[(0,ze.jsx)("div",{style:{flex:"0 0 150px",marginRight:"10px"},children:(0,ze.jsx)("img",{src:e.poster_url,alt:e.title,style:{width:"100%",borderRadius:"8px"},onError:()=>A((t=>new Set(t).add(e.external_url)))})}),(0,ze.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,ze.jsx)(hn,{style:O.songTitle,children:e.title}),(0,ze.jsx)(hn,{style:O.artistName,children:e.author}),(0,ze.jsx)(hn,{style:O.artistName,children:e.description}),(0,ze.jsx)(Xe,{sx:{display:"flex",gap:"8px",flexWrap:"wrap",marginTop:"8px"},children:(0,ze.jsx)(Bo,{href:e.external_url,target:"_blank",variant:"contained",children:"Read more"})})]})]})},t))),(0,ze.jsxs)(Xe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2},children:[(0,ze.jsx)(Bo,{variant:"text",disabled:0===x,onClick:()=>w((e=>Math.max(e-1,0))),sx:{mr:1,color:u?"#fff":"#000","&:hover":{backgroundColor:u?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"},"&.Mui-disabled":{color:u?"#fff":"#000"}},children:"Previous"}),(0,ze.jsx)(hn,{variant:"body2",sx:{color:u?"#fff":"#000"},children:`Page ${x+1} of ${Math.ceil(_.length/k)}`}),(0,ze.jsx)(Bo,{variant:"text",disabled:x>=Math.ceil(_.length/k)-1,onClick:()=>w((e=>Math.min(e+1,Math.ceil(_.length/k)-1))),sx:{ml:1,color:u?"#fff":"#000","&:hover":{backgroundColor:u?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"},"&.Mui-disabled":{color:u?"#fff":"#000"}},children:"Next"})]})]}),("music"===c&&0===s.music.length||"movies"===c&&0===C.length||"webseries"===c&&0===E.length||"stories"===c&&0===_.length)&&!i&&(0,ze.jsx)(hn,{variant:"body2",style:{color:u?"#cccccc":"#999",marginTop:"20px",textAlign:"center",fontSize:"14px"},children:"No recommendations available. Try again!"})]})})]})};var _T=n(6590);function RT(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,i=Be(r);o&&(i=i[o]||i);return Xo({theme:i,name:n,props:t})}const TT=["ownerState"],IT=["variants"],PT=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function OT(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const MT=(0,De.A)(),NT=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function DT(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function FT(e){return e?(t,n)=>n[e]:null}function jT(e,t){let{ownerState:n}=t,r=(0,Ie.A)(t,TT);const o="function"===typeof e?e((0,Te.A)({ownerState:n},r)):e;if(Array.isArray(o))return o.flatMap((e=>jT(e,(0,Te.A)({ownerState:n},r))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,Ie.A)(o,IT);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,Te.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,Te.A)({ownerState:n},r,n)):e.style))})),t}return o}const LT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=MT,rootShouldForwardProp:r=OT,slotShouldForwardProp:o=OT}=e,i=e=>(0,Me.A)((0,Te.A)({},e,{theme:DT((0,Te.A)({},e,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Oe.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:d=FT(NT(l))}=a,p=(0,Ie.A)(a,PT),f=void 0!==u?u:l&&"Root"!==l&&"root"!==l||!1,h=c||!1;let m=OT;"Root"===l||"root"===l?m=r:l?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const v=(0,Oe.default)(e,(0,Te.A)({shouldForwardProp:m,label:undefined},p)),g=e=>"function"===typeof e&&e.__emotion_real!==e||(0,Ms.Q)(e)?r=>jT(e,(0,Te.A)({},r,{theme:DT({theme:r.theme,defaultTheme:n,themeId:t})})):e,y=function(r){let o=g(r);for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];const c=l?l.map(g):[];s&&d&&c.push((e=>{const r=DT((0,Te.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[s]||!r.components[s].styleOverrides)return null;const o=r.components[s].styleOverrides,i={};return Object.entries(o).forEach((t=>{let[n,o]=t;i[n]=jT(o,(0,Te.A)({},e,{theme:r}))})),d(e,i)})),s&&!f&&c.push((e=>{var r;const o=DT((0,Te.A)({},e,{defaultTheme:n,themeId:t}));return jT({variants:null==o||null==(r=o.components)||null==(r=r[s])?void 0:r.variants},(0,Te.A)({},e,{theme:o}))})),h||c.push(i);const p=c.length-l.length;if(Array.isArray(r)&&p>0){const e=new Array(p).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const m=v(o,...c);return e.muiName&&(m.muiName=e.muiName),m};return v.withConfig&&(y.withConfig=v.withConfig),y}}(),BT=LT,zT=["className","component","disableGutters","fixed","maxWidth","classes"],WT=(0,De.A)(),UT=BT("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,_T.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),VT=e=>RT({props:e,name:"MuiContainer",defaultTheme:WT});const HT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=UT,useThemeProps:n=VT,componentName:o="MuiContainer"}=e,i=t((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:`${o}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`}})})),a=r.forwardRef((function(e,t){const r=n(e),{className:a,component:s="div",disableGutters:l=!1,fixed:u=!1,maxWidth:c="lg"}=r,d=(0,Ie.A)(r,zT),p=(0,Te.A)({},r,{component:s,disableGutters:l,fixed:u,maxWidth:c}),f=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:i}=e,a={root:["root",i&&`maxWidth${(0,_T.A)(String(i))}`,r&&"fixed",o&&"disableGutters"]};return(0,Ye.A)(a,(e=>(0,et.Ay)(t,e)),n)})(p,o);return(0,ze.jsx)(i,(0,Te.A)({as:s,ownerState:p,className:(0,Pe.A)(f.root,a),ref:t},d))}));return a}({createStyledComponent:(0,Qe.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,ln.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,Je.b)({props:e,name:"MuiContainer"})}),$T=HT;function GT(e){return(0,et.Ay)("MuiCardMedia",e)}(0,$e.A)("MuiCardMedia",["root","media","img"]);const qT=["children","className","component","image","src","style"],KT=(0,Qe.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:o}=n;return[t.root,r&&t.media,o&&t.img]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),XT=["video","audio","picture","iframe","img"],YT=["picture","img"],QT=r.forwardRef((function(e,t){const n=(0,Je.b)({props:e,name:"MuiCardMedia"}),{children:r,className:o,component:i="div",image:a,src:s,style:l}=n,u=(0,Ie.A)(n,qT),c=-1!==XT.indexOf(i),d=!c&&a?(0,Te.A)({backgroundImage:`url("${a}")`},l):l,p=(0,Te.A)({},n,{component:i,isMediaComponent:c,isImageComponent:-1!==YT.indexOf(i)}),f=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e,o={root:["root",n&&"media",r&&"img"]};return(0,Ye.A)(o,GT,t)})(p);return(0,ze.jsx)(KT,(0,Te.A)({className:(0,Pe.A)(f.root,o),as:i,role:!c&&a?"img":void 0,ref:t,style:d,ownerState:p,src:c?a||s:void 0},u,{children:r}))})),JT=QT;var ZT=n(3076);const eI={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};var tI=n(2823);const nI=(0,Qu.A)((0,ze.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),rI=(0,Qu.A)((0,ze.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function oI(e){return(0,et.Ay)("MuiRating",e)}const iI=(0,$e.A)("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),aI=["value"],sI=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function lI(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const uI=(0,Qe.Ay)("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${iI.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${(0,ln.A)(n.size)}`],n.readOnly&&t.readOnly]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${iI.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${iI.focusVisible} .${iI.iconActive}`]:{outline:"1px solid #999"},[`& .${iI.visuallyHidden}`]:eI},"small"===n.size&&{fontSize:t.typography.pxToRem(18)},"large"===n.size&&{fontSize:t.typography.pxToRem(30)},n.readOnly&&{pointerEvents:"none"})})),cI=(0,Qe.Ay)("label",{name:"MuiRating",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]}})((e=>{let{ownerState:t}=e;return(0,Te.A)({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})})),dI=(0,Qe.Ay)("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},n.iconActive&&{transform:"scale(1.2)"},n.iconEmpty&&{color:(t.vars||t).palette.action.disabled})})),pI=(0,Qe.Ay)("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>(0,Bu.A)(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})((e=>{let{iconActive:t}=e;return(0,Te.A)({position:"relative"},t&&{transform:"scale(1.2)"})}));function fI(e){const t=(0,Ie.A)(e,aI);return(0,ze.jsx)("span",(0,Te.A)({},t))}function hI(e){const{classes:t,disabled:n,emptyIcon:o,focus:i,getLabelText:a,highlightSelectedOnly:s,hover:l,icon:u,IconContainerComponent:c,isActive:d,itemValue:p,labelProps:f,name:h,onBlur:m,onChange:v,onClick:g,onFocus:y,readOnly:b,ownerState:x,ratingValue:w,ratingValueRounded:S}=e,A=s?p===w:p<=w,k=p<=l,C=p<=i,E=p===S,_=(0,tI.A)(),R=(0,ze.jsx)(dI,{as:c,value:p,className:(0,Pe.A)(t.icon,A?t.iconFilled:t.iconEmpty,k&&t.iconHover,C&&t.iconFocus,d&&t.iconActive),ownerState:(0,Te.A)({},x,{iconEmpty:!A,iconFilled:A,iconHover:k,iconFocus:C,iconActive:d}),children:o&&!A?o:u});return b?(0,ze.jsx)("span",(0,Te.A)({},f,{children:R})):(0,ze.jsxs)(r.Fragment,{children:[(0,ze.jsxs)(cI,(0,Te.A)({ownerState:(0,Te.A)({},x,{emptyValueFocused:void 0}),htmlFor:_},f,{children:[R,(0,ze.jsx)("span",{className:t.visuallyHidden,children:a(p)})]})),(0,ze.jsx)("input",{className:t.visuallyHidden,onFocus:y,onBlur:m,onChange:v,onClick:g,disabled:n,value:p,id:_,type:"radio",name:h,checked:E})]})}const mI=(0,ze.jsx)(nI,{fontSize:"inherit"}),vI=(0,ze.jsx)(rI,{fontSize:"inherit"});function gI(e){return`${e} Star${1!==e?"s":""}`}const yI=r.forwardRef((function(e,t){const n=(0,Je.b)({name:"MuiRating",props:e}),{className:o,defaultValue:i=null,disabled:a=!1,emptyIcon:s=vI,emptyLabelText:l="Empty",getLabelText:u=gI,highlightSelectedOnly:c=!1,icon:d=mI,IconContainerComponent:p=fI,max:f=5,name:h,onChange:m,onChangeActive:v,onMouseLeave:g,onMouseMove:y,precision:b=1,readOnly:x=!1,size:w="medium",value:S}=n,A=(0,Ie.A)(n,sI),k=(0,tI.A)(h),[C,E]=(0,Rn.A)({controlled:S,default:i,name:"Rating"}),_=lI(C,b),R=dr(),[{hover:T,focus:I},P]=r.useState({hover:-1,focus:-1});let O=_;-1!==T&&(O=T),-1!==I&&(O=I);const{isFocusVisibleRef:M,onBlur:N,onFocus:D,ref:F}=(0,ut.A)(),[j,L]=r.useState(!1),B=r.useRef(),z=(0,st.A)(F,B,t),W=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==T&&(t=T),E(t),m&&m(e,t)},U=e=>{0===e.clientX&&0===e.clientY||(P({hover:-1,focus:-1}),E(null),m&&parseFloat(e.target.value)===_&&m(e,null))},V=e=>{D(e),!0===M.current&&L(!0);const t=parseFloat(e.target.value);P((e=>({hover:e.hover,focus:t})))},H=e=>{if(-1!==T)return;N(e),!1===M.current&&L(!1);P((e=>({hover:e.hover,focus:-1})))},[$,G]=r.useState(!1),q=(0,Te.A)({},n,{defaultValue:i,disabled:a,emptyIcon:s,emptyLabelText:l,emptyValueFocused:$,focusVisible:j,getLabelText:u,icon:d,IconContainerComponent:p,max:f,precision:b,readOnly:x,size:w}),K=(e=>{const{classes:t,size:n,readOnly:r,disabled:o,emptyValueFocused:i,focusVisible:a}=e,s={root:["root",`size${(0,ln.A)(n)}`,o&&"disabled",a&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[i&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return(0,Ye.A)(s,oI,t)})(q);return(0,ze.jsxs)(uI,(0,Te.A)({ref:z,onMouseMove:e=>{y&&y(e);const t=B.current,{right:n,left:r,width:o}=t.getBoundingClientRect();let i;i=R?(n-e.clientX)/o:(e.clientX-r)/o;let a=lI(f*i+b/2,b);a=(0,ZT.A)(a,b,f),P((e=>e.hover===a&&e.focus===a?e:{hover:a,focus:a})),L(!1),v&&T!==a&&v(e,a)},onMouseLeave:e=>{g&&g(e);P({hover:-1,focus:-1}),v&&-1!==T&&v(e,-1)},className:(0,Pe.A)(K.root,o,x&&"MuiRating-readOnly"),ownerState:q,role:x?"img":null,"aria-label":x?u(O):null},A,{children:[Array.from(new Array(f)).map(((e,t)=>{const n=t+1,r={classes:K,disabled:a,emptyIcon:s,focus:I,getLabelText:u,highlightSelectedOnly:c,hover:T,icon:d,IconContainerComponent:p,name:k,onBlur:H,onChange:W,onClick:U,onFocus:V,ratingValue:O,ratingValueRounded:_,readOnly:x,ownerState:q},o=n===Math.ceil(O)&&(-1!==T||-1!==I);if(b<1){const e=Array.from(new Array(1/b));return(0,ze.jsx)(pI,{className:(0,Pe.A)(K.decimal,o&&K.iconActive),ownerState:q,iconActive:o,children:e.map(((t,o)=>{const i=lI(n-1+(o+1)*b,b);return(0,ze.jsx)(hI,(0,Te.A)({},r,{isActive:!1,itemValue:i,labelProps:{style:e.length-1===o?{}:{width:i===O?(o+1)*b*100+"%":"0%",overflow:"hidden",position:"absolute"}}}),i)}))},n)}return(0,ze.jsx)(hI,(0,Te.A)({},r,{isActive:o,itemValue:n}),n)})),!x&&!a&&(0,ze.jsxs)(cI,{className:(0,Pe.A)(K.label,K.labelEmptyValue),ownerState:q,children:[(0,ze.jsx)("input",{className:K.visuallyHidden,value:"",id:`${k}-empty`,type:"radio",name:k,checked:null==_,onFocus:()=>G(!0),onBlur:()=>G(!1),onChange:W}),(0,ze.jsx)("span",{className:K.visuallyHidden,children:l})]})]}))})),bI=yI;var xI=n(1392);const wI=["component","direction","spacing","divider","children","className","useFlexGap"],SI=(0,De.A)(),AI=BT("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function kI(e){return RT({props:e,name:"MuiStack",defaultTheme:SI})}function CI(e,t){const n=r.Children.toArray(e).filter(Boolean);return n.reduce(((e,o,i)=>(e.push(o),i<n.length-1&&e.push(r.cloneElement(t,{key:`separator-${i}`})),e)),[])}const EI=e=>{let{ownerState:t,theme:n}=e,r=(0,Te.A)({display:"flex",flexDirection:"column"},(0,oR.NI)({theme:n},(0,oR.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,xI.LX)(n),o=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),i=(0,oR.kW)({values:t.direction,base:o}),a=(0,oR.kW)({values:t.spacing,base:o});"object"===typeof i&&Object.keys(i).forEach(((e,t,n)=>{if(!i[e]){const r=t>0?i[n[t-1]]:"column";i[e]=r}}));const s=(n,r)=>{return t.useFlexGap?{gap:(0,xI._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${o=r?i[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,xI._W)(e,n)}};var o};r=(0,Ms.A)(r,(0,oR.NI)({theme:n},a,s))}return r=(0,oR.iZ)(n.breakpoints,r),r};const _I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=AI,useThemeProps:n=kI,componentName:o="MuiStack"}=e,i=t(EI),a=r.forwardRef((function(e,t){const r=n(e),a=(0,Ne.A)(r),{component:s="div",direction:l="column",spacing:u=0,divider:c,children:d,className:p,useFlexGap:f=!1}=a,h=(0,Ie.A)(a,wI),m={direction:l,spacing:u,useFlexGap:f},v=(0,Ye.A)({root:["root"]},(e=>(0,et.Ay)(o,e)),{});return(0,ze.jsx)(i,(0,Te.A)({as:s,ownerState:m,ref:t,className:(0,Pe.A)(v.root,p)},h,{children:c?CI(d,c):d}))}));return a}({createStyledComponent:(0,Qe.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,Je.b)({props:e,name:"MuiStack"})}),RI=_I;var TI=n(5846);function II(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function PI(e){return e instanceof II(e).Element||e instanceof Element}function OI(e){return e instanceof II(e).HTMLElement||e instanceof HTMLElement}function MI(e){return"undefined"!==typeof ShadowRoot&&(e instanceof II(e).ShadowRoot||e instanceof ShadowRoot)}var NI=Math.max,DI=Math.min,FI=Math.round;function jI(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function LI(){return!/^((?!chrome|android).)*safari/i.test(jI())}function BI(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&OI(e)&&(o=e.offsetWidth>0&&FI(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&FI(r.height)/e.offsetHeight||1);var a=(PI(e)?II(e):window).visualViewport,s=!LI()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/o,u=(r.top+(s&&a?a.offsetTop:0))/i,c=r.width/o,d=r.height/i;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function zI(e){var t=II(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function WI(e){return e?(e.nodeName||"").toLowerCase():null}function UI(e){return((PI(e)?e.ownerDocument:e.document)||window.document).documentElement}function VI(e){return BI(UI(e)).left+zI(e).scrollLeft}function HI(e){return II(e).getComputedStyle(e)}function $I(e){var t=HI(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function GI(e,t,n){void 0===n&&(n=!1);var r=OI(t),o=OI(t)&&function(e){var t=e.getBoundingClientRect(),n=FI(t.width)/e.offsetWidth||1,r=FI(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=UI(t),a=BI(e,o,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==WI(t)||$I(i))&&(s=function(e){return e!==II(e)&&OI(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:zI(e);var t}(t)),OI(t)?((l=BI(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=VI(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function qI(e){var t=BI(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function KI(e){return"html"===WI(e)?e:e.assignedSlot||e.parentNode||(MI(e)?e.host:null)||UI(e)}function XI(e){return["html","body","#document"].indexOf(WI(e))>=0?e.ownerDocument.body:OI(e)&&$I(e)?e:XI(KI(e))}function YI(e,t){var n;void 0===t&&(t=[]);var r=XI(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=II(r),a=o?[i].concat(i.visualViewport||[],$I(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(YI(KI(a)))}function QI(e){return["table","td","th"].indexOf(WI(e))>=0}function JI(e){return OI(e)&&"fixed"!==HI(e).position?e.offsetParent:null}function ZI(e){for(var t=II(e),n=JI(e);n&&QI(n)&&"static"===HI(n).position;)n=JI(n);return n&&("html"===WI(n)||"body"===WI(n)&&"static"===HI(n).position)?t:n||function(e){var t=/firefox/i.test(jI());if(/Trident/i.test(jI())&&OI(e)&&"fixed"===HI(e).position)return null;var n=KI(e);for(MI(n)&&(n=n.host);OI(n)&&["html","body"].indexOf(WI(n))<0;){var r=HI(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var eP="top",tP="bottom",nP="right",rP="left",oP="auto",iP=[eP,tP,nP,rP],aP="start",sP="end",lP="viewport",uP="popper",cP=iP.reduce((function(e,t){return e.concat([t+"-"+aP,t+"-"+sP])}),[]),dP=[].concat(iP,[oP]).reduce((function(e,t){return e.concat([t,t+"-"+aP,t+"-"+sP])}),[]),pP=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function fP(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function hP(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var mP={placement:"bottom",modifiers:[],strategy:"absolute"};function vP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function gP(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?mP:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},mP,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;u(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:PI(e)?YI(e):e.contextElement?YI(e.contextElement):[],popper:YI(t)};var c=function(e){var t=fP(e);return pP.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=c.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:l,options:r}),u=function(){};a.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(vP(t,n)){o.rects={reference:GI(t,ZI(n),"fixed"===o.options.strategy),popper:qI(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,u=i.options,c=void 0===u?{}:u,d=i.name;"function"===typeof a&&(o=a({state:o,options:c,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:hP((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){u(),s=!0}};if(!vP(e,t))return l;function u(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var yP={passive:!0};function bP(e){return e.split("-")[0]}function xP(e){return e.split("-")[1]}function wP(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function SP(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?bP(o):null,a=o?xP(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case eP:t={x:s,y:n.y-r.height};break;case tP:t={x:s,y:n.y+n.height};break;case nP:t={x:n.x+n.width,y:l};break;case rP:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=i?wP(i):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case aP:t[u]=t[u]-(n[c]/2-r[c]/2);break;case sP:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}var AP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kP(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,p=a.x,f=void 0===p?0:p,h=a.y,m=void 0===h?0:h,v="function"===typeof c?c({x:f,y:m}):{x:f,y:m};f=v.x,m=v.y;var g=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=rP,x=eP,w=window;if(u){var S=ZI(n),A="clientHeight",k="clientWidth";if(S===II(n)&&"static"!==HI(S=UI(n)).position&&"absolute"===s&&(A="scrollHeight",k="scrollWidth"),o===eP||(o===rP||o===nP)&&i===sP)x=tP,m-=(d&&S===w&&w.visualViewport?w.visualViewport.height:S[A])-r.height,m*=l?1:-1;if(o===rP||(o===eP||o===tP)&&i===sP)b=nP,f-=(d&&S===w&&w.visualViewport?w.visualViewport.width:S[k])-r.width,f*=l?1:-1}var C,E=Object.assign({position:s},u&&AP),_=!0===c?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:FI(n*o)/o||0,y:FI(r*o)/o||0}}({x:f,y:m},II(n)):{x:f,y:m};return f=_.x,m=_.y,l?Object.assign({},E,((C={})[x]=y?"0":"",C[b]=g?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",C)):Object.assign({},E,((t={})[x]=y?m+"px":"",t[b]=g?f+"px":"",t.transform="",t))}const CP={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];OI(o)&&WI(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});OI(r)&&WI(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const EP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=dP.reduce((function(e,n){return e[n]=function(e,t,n){var r=bP(e),o=[rP,eP].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[rP,nP].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}};var _P={left:"right",right:"left",bottom:"top",top:"bottom"};function RP(e){return e.replace(/left|right|bottom|top/g,(function(e){return _P[e]}))}var TP={start:"end",end:"start"};function IP(e){return e.replace(/start|end/g,(function(e){return TP[e]}))}function PP(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&MI(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function OP(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function MP(e,t,n){return t===lP?OP(function(e,t){var n=II(e),r=UI(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;var u=LI();(u||!u&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s+VI(e),y:l}}(e,n)):PI(t)?function(e,t){var n=BI(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):OP(function(e){var t,n=UI(e),r=zI(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=NI(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=NI(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+VI(e),l=-r.scrollTop;return"rtl"===HI(o||n).direction&&(s+=NI(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(UI(e)))}function NP(e,t,n,r){var o="clippingParents"===t?function(e){var t=YI(KI(e)),n=["absolute","fixed"].indexOf(HI(e).position)>=0&&OI(e)?ZI(e):e;return PI(n)?t.filter((function(e){return PI(e)&&PP(e,n)&&"body"!==WI(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce((function(t,n){var o=MP(e,n,r);return t.top=NI(o.top,t.top),t.right=DI(o.right,t.right),t.bottom=DI(o.bottom,t.bottom),t.left=NI(o.left,t.left),t}),MP(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function DP(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function FP(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function jP(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,l=void 0===s?"clippingParents":s,u=n.rootBoundary,c=void 0===u?lP:u,d=n.elementContext,p=void 0===d?uP:d,f=n.altBoundary,h=void 0!==f&&f,m=n.padding,v=void 0===m?0:m,g=DP("number"!==typeof v?v:FP(v,iP)),y=p===uP?"reference":uP,b=e.rects.popper,x=e.elements[h?y:p],w=NP(PI(x)?x:x.contextElement||UI(e.elements.popper),l,c,a),S=BI(e.elements.reference),A=SP({reference:S,element:b,strategy:"absolute",placement:o}),k=OP(Object.assign({},b,A)),C=p===uP?k:S,E={top:w.top-C.top+g.top,bottom:C.bottom-w.bottom+g.bottom,left:w.left-C.left+g.left,right:C.right-w.right+g.right},_=e.modifiersData.offset;if(p===uP&&_){var R=_[o];Object.keys(E).forEach((function(e){var t=[nP,tP].indexOf(e)>=0?1:-1,n=[eP,tP].indexOf(e)>=0?"y":"x";E[e]+=R[n]*t}))}return E}const LP={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,v=t.options.placement,g=bP(v),y=l||(g===v||!h?[RP(v)]:function(e){if(bP(e)===oP)return[];var t=RP(e);return[IP(e),t,IP(t)]}(v)),b=[v].concat(y).reduce((function(e,n){return e.concat(bP(n)===oP?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?dP:l,c=xP(r),d=c?s?cP:cP.filter((function(e){return xP(e)===c})):iP,p=d.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=jP(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[bP(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,S=new Map,A=!0,k=b[0],C=0;C<b.length;C++){var E=b[C],_=bP(E),R=xP(E)===aP,T=[eP,tP].indexOf(_)>=0,I=T?"width":"height",P=jP(t,{placement:E,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),O=T?R?nP:rP:R?tP:eP;x[I]>w[I]&&(O=RP(O));var M=RP(O),N=[];if(i&&N.push(P[_]<=0),s&&N.push(P[O]<=0,P[M]<=0),N.every((function(e){return e}))){k=E,A=!1;break}S.set(E,N)}if(A)for(var D=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},F=h?3:1;F>0;F--){if("break"===D(F))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function BP(e,t,n){return NI(e,DI(t,n))}const zP={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,p=n.tether,f=void 0===p||p,h=n.tetherOffset,m=void 0===h?0:h,v=jP(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=bP(t.placement),y=xP(t.placement),b=!y,x=wP(g),w="x"===x?"y":"x",S=t.modifiersData.popperOffsets,A=t.rects.reference,k=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,E="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(S){if(i){var T,I="y"===x?eP:rP,P="y"===x?tP:nP,O="y"===x?"height":"width",M=S[x],N=M+v[I],D=M-v[P],F=f?-k[O]/2:0,j=y===aP?A[O]:k[O],L=y===aP?-k[O]:-A[O],B=t.elements.arrow,z=f&&B?qI(B):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=W[I],V=W[P],H=BP(0,A[O],z[O]),$=b?A[O]/2-F-H-U-E.mainAxis:j-H-U-E.mainAxis,G=b?-A[O]/2+F+H+V+E.mainAxis:L+H+V+E.mainAxis,q=t.elements.arrow&&ZI(t.elements.arrow),K=q?"y"===x?q.clientTop||0:q.clientLeft||0:0,X=null!=(T=null==_?void 0:_[x])?T:0,Y=M+G-X,Q=BP(f?DI(N,M+$-X-K):N,M,f?NI(D,Y):D);S[x]=Q,R[x]=Q-M}if(s){var J,Z="x"===x?eP:rP,ee="x"===x?tP:nP,te=S[w],ne="y"===w?"height":"width",re=te+v[Z],oe=te-v[ee],ie=-1!==[eP,rP].indexOf(g),ae=null!=(J=null==_?void 0:_[w])?J:0,se=ie?re:te-A[ne]-k[ne]-ae+E.altAxis,le=ie?te+A[ne]+k[ne]-ae-E.altAxis:oe,ue=f&&ie?function(e,t,n){var r=BP(e,t,n);return r>n?n:r}(se,te,le):BP(f?se:re,te,f?le:oe);S[w]=ue,R[w]=ue-te}t.modifiersData[r]=R}},requiresIfExists:["offset"]};const WP={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=bP(n.placement),l=wP(s),u=[rP,nP].indexOf(s)>=0?"height":"width";if(i&&a){var c=function(e,t){return DP("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:FP(e,iP))}(o.padding,n),d=qI(i),p="y"===l?eP:rP,f="y"===l?tP:nP,h=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],m=a[l]-n.rects.reference[l],v=ZI(i),g=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=h/2-m/2,b=c[p],x=g-d[u]-c[f],w=g/2-d[u]/2+y,S=BP(b,w,x),A=l;n.modifiersData[r]=((t={})[A]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&PP(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function UP(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function VP(e){return[eP,nP,tP,rP].some((function(t){return e[t]>=0}))}var HP=gP({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,l=II(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach((function(e){e.addEventListener("scroll",n.update,yP)})),s&&l.addEventListener("resize",n.update,yP),function(){i&&u.forEach((function(e){e.removeEventListener("scroll",n.update,yP)})),s&&l.removeEventListener("resize",n.update,yP)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=SP({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,u={placement:bP(t.placement),variation:xP(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,kP(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,kP(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},CP,EP,LP,zP,WP,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=jP(t,{elementContext:"reference"}),s=jP(t,{altBoundary:!0}),l=UP(a,r),u=UP(s,o,i),c=VP(l),d=VP(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]});function $P(e){return(0,et.Ay)("MuiPopper",e)}(0,$e.A)("MuiPopper",["root"]);const GP=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],qP=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function KP(e){return"function"===typeof e?e():e}function XP(e){return void 0!==e.nodeType}const YP={},QP=r.forwardRef((function(e,t){var n;const{anchorEl:o,children:i,direction:a,disablePortal:s,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:p,slotProps:f={},slots:h={},TransitionProps:m}=e,v=(0,Ie.A)(e,GP),g=r.useRef(null),y=(0,pr.A)(g,t),b=r.useRef(null),x=(0,pr.A)(b,p),w=r.useRef(x);(0,Er.A)((()=>{w.current=x}),[x]),r.useImperativeHandle(p,(()=>b.current),[]);const S=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(c,a),[A,k]=r.useState(S),[C,E]=r.useState(KP(o));r.useEffect((()=>{b.current&&b.current.forceUpdate()})),r.useEffect((()=>{o&&E(KP(o))}),[o]),(0,Er.A)((()=>{if(!C||!u)return;let e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{k(e.placement)})(t)}}];null!=l&&(e=e.concat(l)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));const t=HP(C,g.current,(0,Te.A)({placement:S},d,{modifiers:e}));return w.current(t),()=>{t.destroy(),w.current(null)}}),[C,s,l,u,d,S]);const _={placement:A};null!==m&&(_.TransitionProps=m);const R=(e=>{const{classes:t}=e;return(0,Ye.A)({root:["root"]},$P,t)})(e),T=null!=(n=h.root)?n:"div",I=br({elementType:T,externalSlotProps:f.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:R.root});return(0,ze.jsx)(T,(0,Te.A)({},I,{children:"function"===typeof i?i(_):i}))})),JP=r.forwardRef((function(e,t){const{anchorEl:n,children:o,container:i,direction:a="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:p=YP,popperRef:f,style:h,transition:m=!1,slotProps:v={},slots:g={}}=e,y=(0,Ie.A)(e,qP),[b,x]=r.useState(!0);if(!l&&!c&&(!m||b))return null;let w;if(i)w=i;else if(n){const e=KP(n);w=e&&XP(e)?(0,wr.A)(e).body:(0,wr.A)(null).body}const S=c||!l||m&&!b?void 0:"none",A=m?{in:c,onEnter:()=>{x(!1)},onExited:()=>{x(!0)}}:void 0;return(0,ze.jsx)(Rr,{disablePortal:s,container:w,children:(0,ze.jsx)(QP,(0,Te.A)({anchorEl:n,direction:a,disablePortal:s,modifiers:u,ref:t,open:m?!b:c,placement:d,popperOptions:p,popperRef:f,slotProps:v,slots:g},y,{style:(0,Te.A)({position:"fixed",top:0,left:0,display:S},h),TransitionProps:A,children:o}))})})),ZP=JP,eO=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],tO=(0,Qe.Ay)(ZP,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),nO=r.forwardRef((function(e,t){var n;const r=(0,TI.A)(),o=(0,Je.b)({props:e,name:"MuiPopper"}),{anchorEl:i,component:a,components:s,componentsProps:l,container:u,disablePortal:c,keepMounted:d,modifiers:p,open:f,placement:h,popperOptions:m,popperRef:v,transition:g,slots:y,slotProps:b}=o,x=(0,Ie.A)(o,eO),w=null!=(n=null==y?void 0:y.root)?n:null==s?void 0:s.Root,S=(0,Te.A)({anchorEl:i,container:u,disablePortal:c,keepMounted:d,modifiers:p,open:f,placement:h,popperOptions:m,popperRef:v,transition:g},x);return(0,ze.jsx)(tO,(0,Te.A)({as:a,direction:null==r?void 0:r.direction,slots:{root:w},slotProps:null!=b?b:l},S,{ref:t}))}));function rO(e){return(0,et.Ay)("MuiTooltip",e)}const oO=(0,$e.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),iO=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const aO=(0,Qe.Ay)(nO,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:r}=e;return(0,Te.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{[`&[data-popper-placement*="bottom"] .${oO.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${oO.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${oO.arrow}`]:(0,Te.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${oO.arrow}`]:(0,Te.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),sO=(0,Qe.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,ln.A)(n.placement.split("-")[0])}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Te.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,it.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:(r=16/14,Math.round(1e5*r)/1e5)+"em",fontWeight:t.typography.fontWeightRegular},{[`.${oO.popper}[data-popper-placement*="left"] &`]:(0,Te.A)({transformOrigin:"right center"},n.isRtl?(0,Te.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,Te.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[`.${oO.popper}[data-popper-placement*="right"] &`]:(0,Te.A)({transformOrigin:"left center"},n.isRtl?(0,Te.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,Te.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[`.${oO.popper}[data-popper-placement*="top"] &`]:(0,Te.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[`.${oO.popper}[data-popper-placement*="bottom"] &`]:(0,Te.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})});var r})),lO=(0,Qe.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,it.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let uO=!1;const cO=new xt.E;let dO={x:0,y:0};function pO(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t&&t(n,...o),e(n,...o)}}const fO=r.forwardRef((function(e,t){var n,o,i,a,s,l,u,c,d,p,f,h,m,v,g,y,b,x,w;const S=(0,Je.b)({props:e,name:"MuiTooltip"}),{arrow:A=!1,children:k,components:C={},componentsProps:E={},describeChild:_=!1,disableFocusListener:R=!1,disableHoverListener:T=!1,disableInteractive:I=!1,disableTouchListener:P=!1,enterDelay:O=100,enterNextDelay:M=0,enterTouchDelay:N=700,followCursor:D=!1,id:F,leaveDelay:j=0,leaveTouchDelay:L=1500,onClose:B,onOpen:z,open:W,placement:U="bottom",PopperComponent:V,PopperProps:H={},slotProps:$={},slots:G={},title:q,TransitionComponent:K=uu,TransitionProps:X}=S,Y=(0,Ie.A)(S,iO),Q=r.isValidElement(k)?k:(0,ze.jsx)("span",{children:k}),J=Br(),Z=dr(),[ee,te]=r.useState(),[ne,re]=r.useState(null),oe=r.useRef(!1),ie=I||D,ae=(0,xt.A)(),se=(0,xt.A)(),le=(0,xt.A)(),ue=(0,xt.A)(),[ce,de]=(0,Rn.A)({controlled:W,default:!1,name:"Tooltip",state:"open"});let pe=ce;const fe=(0,tI.A)(F),he=r.useRef(),me=(0,lt.A)((()=>{void 0!==he.current&&(document.body.style.WebkitUserSelect=he.current,he.current=void 0),ue.clear()}));r.useEffect((()=>me),[me]);const ve=e=>{cO.clear(),uO=!0,de(!0),z&&!pe&&z(e)},ge=(0,lt.A)((e=>{cO.start(800+j,(()=>{uO=!1})),de(!1),B&&pe&&B(e),ae.start(J.transitions.duration.shortest,(()=>{oe.current=!1}))})),ye=e=>{oe.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),se.clear(),le.clear(),O||uO&&M?se.start(uO?M:O,(()=>{ve(e)})):ve(e))},be=e=>{se.clear(),le.start(j,(()=>{ge(e)}))},{isFocusVisibleRef:xe,onBlur:we,onFocus:Se,ref:Ae}=(0,ut.A)(),[,ke]=r.useState(!1),Ce=e=>{we(e),!1===xe.current&&(ke(!1),be(e))},Ee=e=>{ee||te(e.currentTarget),Se(e),!0===xe.current&&(ke(!0),ye(e))},_e=e=>{oe.current=!0;const t=Q.props;t.onTouchStart&&t.onTouchStart(e)},Re=e=>{_e(e),le.clear(),ae.clear(),me(),he.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ue.start(N,(()=>{document.body.style.WebkitUserSelect=he.current,ye(e)}))},Oe=e=>{Q.props.onTouchEnd&&Q.props.onTouchEnd(e),me(),le.start(L,(()=>{ge(e)}))};r.useEffect((()=>{if(pe)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ge(e)}}),[ge,pe]);const Me=(0,st.A)(xr(Q),Ae,te,t);q||0===q||(pe=!1);const Ne=r.useRef(),De={},Fe="string"===typeof q;_?(De.title=pe||!Fe||T?null:q,De["aria-describedby"]=pe?fe:null):(De["aria-label"]=Fe?q:null,De["aria-labelledby"]=pe&&!Fe?fe:null);const je=(0,Te.A)({},De,Y,Q.props,{className:(0,Pe.A)(Y.className,Q.props.className),onTouchStart:_e,ref:Me},D?{onMouseMove:e=>{const t=Q.props;t.onMouseMove&&t.onMouseMove(e),dO={x:e.clientX,y:e.clientY},Ne.current&&Ne.current.update()}}:{});const Le={};P||(je.onTouchStart=Re,je.onTouchEnd=Oe),T||(je.onMouseOver=pO(ye,je.onMouseOver),je.onMouseLeave=pO(be,je.onMouseLeave),ie||(Le.onMouseOver=ye,Le.onMouseLeave=be)),R||(je.onFocus=pO(Ee,je.onFocus),je.onBlur=pO(Ce,je.onBlur),ie||(Le.onFocus=Ee,Le.onBlur=Ce));const Be=r.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!=(e=H.popperOptions)&&e.modifiers&&(t=t.concat(H.popperOptions.modifiers)),(0,Te.A)({},H.popperOptions,{modifiers:t})}),[ne,H]),We=(0,Te.A)({},S,{isRtl:Z,arrow:A,disableInteractive:ie,placement:U,PopperComponentProp:V,touch:oe.current}),Ue=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${(0,ln.A)(i.split("-")[0])}`],arrow:["arrow"]};return(0,Ye.A)(a,rO,t)})(We),Ve=null!=(n=null!=(o=G.popper)?o:C.Popper)?n:aO,He=null!=(i=null!=(a=null!=(s=G.transition)?s:C.Transition)?a:K)?i:uu,$e=null!=(l=null!=(u=G.tooltip)?u:C.Tooltip)?l:sO,Ge=null!=(c=null!=(d=G.arrow)?d:C.Arrow)?c:lO,qe=fr(Ve,(0,Te.A)({},H,null!=(p=$.popper)?p:E.popper,{className:(0,Pe.A)(Ue.popper,null==H?void 0:H.className,null==(f=null!=(h=$.popper)?h:E.popper)?void 0:f.className)}),We),Ke=fr(He,(0,Te.A)({},X,null!=(m=$.transition)?m:E.transition),We),Xe=fr($e,(0,Te.A)({},null!=(v=$.tooltip)?v:E.tooltip,{className:(0,Pe.A)(Ue.tooltip,null==(g=null!=(y=$.tooltip)?y:E.tooltip)?void 0:g.className)}),We),Qe=fr(Ge,(0,Te.A)({},null!=(b=$.arrow)?b:E.arrow,{className:(0,Pe.A)(Ue.arrow,null==(x=null!=(w=$.arrow)?w:E.arrow)?void 0:x.className)}),We);return(0,ze.jsxs)(r.Fragment,{children:[r.cloneElement(Q,je),(0,ze.jsx)(Ve,(0,Te.A)({as:null!=V?V:nO,placement:U,anchorEl:D?{getBoundingClientRect:()=>({top:dO.y,left:dO.x,right:dO.x,bottom:dO.y,width:0,height:0})}:ee,popperRef:Ne,open:!!ee&&pe,id:fe,transition:!0},Le,qe,{popperOptions:Be,children:e=>{let{TransitionProps:t}=e;return(0,ze.jsx)(He,(0,Te.A)({timeout:J.transitions.duration.shorter},t,Ke,{children:(0,ze.jsxs)($e,(0,Te.A)({},Xe,{children:[q,A?(0,ze.jsx)(Ge,(0,Te.A)({},Qe,{ref:re})):null]}))}))}}))]})})),hO=fO;var mO=n(1263),vO=n(3845),gO=n(6661);const yO=e=>{let{title:t,subtitle:n,description:o,imageUrl:i,spotifyUrl:a,youtubeUrl:s,externalUrl:l,rating:u,type:c}=e;const{darkMode:d}=(0,r.useContext)(ei),p=()=>d?"#cccccc":"#666666",f=(e,t)=>e?e.length>t?e.substring(0,t)+"...":e:"";return(0,ze.jsxs)(xR,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:d?"#1e1e1e":"#ffffff",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:6}},children:[(0,ze.jsx)(JT,{component:"img",height:"music"===c?"200":"250",image:i||(()=>{switch(c){case"music":return"https://via.placeholder.com/300x300?text=Album+Art";case"movie":return"https://via.placeholder.com/300x450?text=Movie+Poster";case"webseries":return"https://via.placeholder.com/300x450?text=TV+Series+Poster";default:return"https://via.placeholder.com/300x300?text=Media"}})(),alt:t,sx:{objectFit:"cover"}}),(0,ze.jsxs)(kR,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,ze.jsx)(hn,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:d?"#ffffff":"#000000",mb:.5,lineHeight:"1.2"},children:f(t,40)}),(0,ze.jsx)(hn,{variant:"body2",sx:{color:p(),mb:1},children:n}),u&&(0,ze.jsxs)(Xe,{sx:{mb:1.5,display:"flex",alignItems:"center"},children:[(0,ze.jsx)(bI,{value:u/2,precision:.5,readOnly:!0,size:"small"}),(0,ze.jsxs)(hn,{variant:"body2",sx:{ml:1,color:p()},children:[u,"/10"]})]}),(0,ze.jsx)(hn,{variant:"body2",sx:{color:p(),mb:2,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical"},children:f(o,150)}),(0,ze.jsxs)(RI,{direction:"row",spacing:1,sx:{mt:"auto",justifyContent:"center"},children:[s&&(0,ze.jsx)(hO,{title:"Watch on YouTube",children:(0,ze.jsx)(Bo,{size:"small",variant:"outlined",color:"error",startIcon:(0,ze.jsx)(mO.A,{}),onClick:()=>window.open(s,"_blank"),children:"Trailer"})}),a&&(0,ze.jsx)(hO,{title:"Listen on Spotify",children:(0,ze.jsx)(Bo,{size:"small",variant:"outlined",color:"success",startIcon:(0,ze.jsx)(gO.A,{}),onClick:()=>window.open(a,"_blank"),children:"Listen"})}),l&&(0,ze.jsx)(hO,{title:"More Information",children:(0,ze.jsx)(Bo,{size:"small",variant:"outlined",color:"primary",startIcon:(0,ze.jsx)(vO.A,{}),onClick:()=>window.open(l,"_blank"),children:"More"})})]})]})]})};var bO=n(457);const xO=e=>{let{title:t,author:n,description:o,imageUrl:i,url:a}=e;const{darkMode:s}=(0,r.useContext)(ei),l=()=>s?"#cccccc":"#666666",u=(e,t)=>e?e.length>t?e.substring(0,t)+"...":e:"";return(0,ze.jsxs)(xR,{elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:s?"#1e1e1e":"#ffffff",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:6}},children:[(0,ze.jsx)(JT,{component:"img",height:"250",image:i||"https://via.placeholder.com/200x300?text=Book+Cover",alt:t,sx:{objectFit:"contain",padding:2,backgroundColor:s?"#2c2c2c":"#f5f5f5"}}),(0,ze.jsxs)(kR,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,ze.jsx)(hn,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:s?"#ffffff":"#000000",mb:.5,lineHeight:"1.2"},children:u(t,40)}),(0,ze.jsxs)(hn,{variant:"body2",sx:{color:l(),mb:1,fontStyle:"italic"},children:["by ",n]}),(0,ze.jsx)(hn,{variant:"body2",sx:{color:l(),mb:2,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical"},children:u(o,150)}),(0,ze.jsx)(Xe,{sx:{mt:"auto",textAlign:"center"},children:a&&(0,ze.jsx)(hO,{title:"View Book Details",children:(0,ze.jsx)(Bo,{variant:"outlined",color:"primary",size:"small",startIcon:(0,ze.jsx)(bO.A,{}),endIcon:(0,ze.jsx)(vO.A,{}),onClick:()=>window.open(a,"_blank"),children:"Read More"})})})]})]})},wO=()=>{var e;const t=J().state||{},n=t.emotion||"happy",[o,i]=(0,r.useState)(t.recommendations||{music:[],movies:[],webseries:[],stories:[]}),[a,s]=(0,r.useState)(!1),{darkMode:l}=(0,r.useContext)(ei),u={happy:[{title:"The Happiness Project",author:"Gretchen Rubin",description:"Gretchen Rubin chronicles her year-long journey to discover what leads to true contentment and happiness.",image_url:"https://books.google.com/books/content?id=_7eLDQAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=_7eLDQAAQBAJ"},{title:"Eat, Pray, Love",author:"Elizabeth Gilbert",description:"A memoir of Elizabeth Gilbert's journey of self-discovery through Italy, India, and Indonesia.",image_url:"https://books.google.com/books/content?id=_3UkDwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=_3UkDwAAQBAJ"}],sad:[{title:"The Road",author:"Cormac McCarthy",description:"A post-apocalyptic tale of a journey of a father and his young son over a period of several months across a landscape blasted by an unspecified disaster.",image_url:"https://books.google.com/books/content?id=QIsZ3NQiKN0C&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=QIsZ3NQiKN0C"},{title:"When Breath Becomes Air",author:"Paul Kalanithi",description:"A memoir about his life and battle with metastatic lung cancer, written by neurosurgeon Paul Kalanithi.",image_url:"https://books.google.com/books/content?id=nUpCCwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=nUpCCwAAQBAJ"}],default:[{title:"The Alchemist",author:"Paulo Coelho",description:"A story about following your dreams and listening to your heart.",image_url:"https://books.google.com/books/content?id=FzVjBgAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=FzVjBgAAQBAJ"},{title:"To Kill a Mockingbird",author:"Harper Lee",description:"The story of racial injustice and loss of innocence in the American South during the Great Depression.",image_url:"https://books.google.com/books/content?id=PGR2AwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",url:"https://books.google.com/books?id=PGR2AwAAQBAJ"}]};(0,r.useEffect)((()=>{(async e=>{s(!0);try{console.log(`Fetching recommendations for mood: ${e}`);const o=e.toLowerCase();let a=[];try{var t;const e=await vs.post(`${VR}/api/recommendations/`,{emotion:o});console.log("Music API Response:",e.data),a=(null===(t=e.data.recommendations)||void 0===t?void 0:t.music)||[],console.log("Music items:",a.length)}catch(n){console.error("Error fetching music recommendations:",n)}console.log(`Getting movies for mood: ${e}`);const s=HR[HR[o]?o:"default"]||[];console.log("Movies items:",s.length),console.log(`Getting TV series for mood: ${e}`);const l=$R[$R[o]?o:"default"]||[];console.log("Web Series items:",l.length),console.log(`Getting books for mood: ${e}`);let c=[];try{c=GR[GR[o]?o:"default"]||[],console.log("Stories from imported data:",c.length),0===c.length&&(c=u[u[o]?o:"default"]||[],console.log("Using fallback stories data:",c.length))}catch(r){console.error("Error getting book data, using fallback:",r),c=u[u[o]?o:"default"]||[],console.log("Using fallback stories data after error:",c.length)}const d={music:a,movies:s,webseries:l,stories:c};console.log(`Total recommendations - Music: ${a.length}, Movies: ${s.length}, Web Series: ${l.length}, Stories: ${c.length}`),i(d)}catch(r){console.error("Error fetching recommendations:",r);const t=e.toLowerCase(),n=HR[t]?t:"default",a=$R[t]?t:"default";let s=[];try{s=GR[GR[t]?t:"default"]||[]}catch(o){console.warn("Error with imported book data, using fallback:",o)}0===s.length&&(s=u[u[t]?t:"default"]||[],console.log("Using fallback stories data in error handler:",s.length)),i({music:[],movies:HR[n]||[],webseries:$R[a]||[],stories:s})}finally{s(!1)}})(n)}),[n]);const c=e=>{let{emotion:t}=e;const n={happy:"Happy and Uplifting",sad:"Melancholic and Reflective",angry:"Intense and Powerful",fearful:"Suspenseful and Thrilling",excited:"Energetic and Exciting",relaxed:"Calm and Peaceful",default:"Recommended"};return(0,ze.jsxs)(hn,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3,color:l?"#fff":"#333"},children:[n[t.toLowerCase()]||n.default," Content"]})};return(0,r.useEffect)((()=>{var e;console.log("Current recommendations state:",o),console.log("Stories available:",(null===(e=o.stories)||void 0===e?void 0:e.length)||0),o.stories&&o.stories.length>0&&console.log("First story:",o.stories[0])}),[o]),(0,ze.jsx)($T,{maxWidth:"lg",sx:{py:4},children:a?(0,ze.jsx)(Xe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:(0,ze.jsx)(Mc,{})}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(c,{emotion:n}),o.music&&o.music.length>0&&(0,ze.jsxs)(Xe,{mb:6,children:[(0,ze.jsx)(hn,{variant:"h5",component:"h2",sx:{fontWeight:"bold",mb:2,color:l?"#fff":"#333"},children:"Music"}),(0,ze.jsx)(vR,{container:!0,spacing:3,children:o.music.map(((e,t)=>(0,ze.jsx)(vR,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,ze.jsx)(yO,{title:e.title,subtitle:e.artist,description:e.album,imageUrl:e.album_art||"https://via.placeholder.com/300x300?text=Album+Art",spotifyUrl:e.spotify_url,youtubeUrl:e.youtube_url,type:"music"})},`music-${t}`)))})]}),o.movies&&o.movies.length>0&&(0,ze.jsxs)(Xe,{mb:6,children:[(0,ze.jsx)(hn,{variant:"h5",component:"h2",sx:{fontWeight:"bold",mb:2,color:l?"#fff":"#333"},children:"Movies"}),(0,ze.jsx)(vR,{container:!0,spacing:3,children:o.movies.map(((e,t)=>(0,ze.jsx)(vR,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,ze.jsx)(yO,{title:e.title,subtitle:e.year,description:e.description,imageUrl:e.poster_url||"https://via.placeholder.com/300x450?text=Movie+Poster",externalUrl:e.external_url,youtubeUrl:e.youtube_trailer_url,rating:e.rating,type:"movie"})},`movie-${t}`)))})]}),o.webseries&&o.webseries.length>0&&(0,ze.jsxs)(Xe,{mb:6,children:[(0,ze.jsx)(hn,{variant:"h5",component:"h2",sx:{fontWeight:"bold",mb:2,color:l?"#fff":"#333"},children:"Web Series"}),(0,ze.jsx)(vR,{container:!0,spacing:3,children:o.webseries.map(((e,t)=>(0,ze.jsx)(vR,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,ze.jsx)(yO,{title:e.title,subtitle:e.year,description:e.description,imageUrl:e.poster_url||"https://via.placeholder.com/300x450?text=Series+Poster",externalUrl:e.external_url,youtubeUrl:e.youtube_trailer_url,rating:e.rating,type:"webseries"})},`webseries-${t}`)))})]}),(0,ze.jsxs)(hn,{variant:"body2",color:"textSecondary",sx:{my:1},children:["Stories data: ",JSON.stringify(null===(e=o.stories)||void 0===e?void 0:e.length)," items found"]}),o.stories&&o.stories.length>0&&(0,ze.jsxs)(Xe,{mb:6,children:[(0,ze.jsx)(hn,{variant:"h5",component:"h2",sx:{fontWeight:"bold",mb:2,color:l?"#fff":"#333"},children:"Books & Stories"}),(0,ze.jsx)(vR,{container:!0,spacing:3,children:o.stories.map(((e,t)=>(0,ze.jsx)(vR,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,ze.jsx)(xO,{title:e.title,author:e.author,description:e.description,imageUrl:e.image_url,url:e.url})},`story-${t}`)))})]}),(0,ze.jsx)(Xe,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,ze.jsx)(Bo,{variant:"contained",color:"primary",onClick:()=>window.history.back(),children:"Back to Emotion Selection"})})]})})},SO=(0,Qu.A)((0,ze.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups"),AO=(0,Qu.A)((0,ze.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),kO=()=>{const e=ee(),t=J(),n=e=>t.pathname===e,r={footer:{backgroundColor:"#6A1B9A",color:"white",padding:"20px 0",textAlign:"center",fontFamily:"Poppins, sans-serif",marginTop:"20px",width:"100%","@media (max-width: 600px)":{padding:"15px 0"}},navLinks:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"10px",flexWrap:"wrap",fontFamily:"Poppins, sans-serif"},link:{color:"white",textDecoration:"none",fontSize:"14px",fontWeight:500,position:"relative"},activeLink:{borderBottom:"2px solid white",borderRadius:0},iconContainer:{display:"flex",justifyContent:"center",gap:"20px",marginTop:"20px",marginBottom:"10px",flexWrap:"wrap",fontFamily:"Poppins, sans-serif"},iconButton:{color:"white",padding:0},icon:{fontSize:"30px"}};return(0,ze.jsxs)(Xe,{sx:r.footer,children:[(0,ze.jsxs)(Xe,{sx:r.navLinks,children:[(0,ze.jsx)(Ee,{to:"/",style:{...r.link,...n("/")&&r.activeLink},children:"Landing"}),(0,ze.jsx)(Ee,{to:"/home",style:{...r.link,...n("/home")&&r.activeLink},children:"Home"}),(0,ze.jsx)(Ee,{to:"/results",style:{...r.link,...n("/results")&&r.activeLink},children:"Results"}),(0,ze.jsx)(Ee,{to:"/profile",style:{...r.link,...n("/profile")&&r.activeLink},children:"Profile"}),(0,ze.jsx)(Ee,{to:"/login",style:{...r.link,...n("/login")&&r.activeLink},children:"Login"}),(0,ze.jsx)(Ee,{to:"/register",style:{...r.link,...n("/register")&&r.activeLink},children:"Register"}),(0,ze.jsx)(Ee,{to:"/privacy-policy",style:{...r.link,...n("/privacy-policy")&&r.activeLink},children:"Privacy Policy"}),(0,ze.jsx)(Ee,{to:"/about",style:{...r.link,...n("/about")&&r.activeLink},children:"About"})]}),(0,ze.jsxs)(Xe,{sx:r.iconContainer,children:[(0,ze.jsx)(Xe,{component:"span",onClick:()=>e("/about"),sx:{cursor:"pointer",color:"white",transition:"transform 0.2s ease","&:hover":{transform:"scale(1.1)"}},children:(0,ze.jsx)(SO,{sx:{fontSize:"30px"}})}),(0,ze.jsx)(Xe,{component:"span",onClick:()=>window.location.href="mailto:teammoodifyme@gmail.com",sx:{cursor:"pointer",color:"white",transition:"transform 0.2s ease","&:hover":{transform:"scale(1.1)"}},children:(0,ze.jsx)(AO,{sx:{fontSize:"30px"}})})]}),(0,ze.jsx)(Xe,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:(0,ze.jsxs)(hn,{variant:"body2",align:"center",sx:{color:"white",fontFamily:"Poppins, sans-serif",fontSize:"14px"},children:["\xa9 ",(new Date).getFullYear()," MoodifyMe"]})})]})},CO=e=>({container:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:e?"#121212":"#f9f9f9",padding:"20px",fontFamily:"Poppins"},illustration:{marginBottom:"20px",animation:"pulse 1.5s infinite"},title:{color:"#6A1B9A",font:"inherit",fontSize:"32px",fontWeight:"bold",marginBottom:"10px",textAlign:"center"},message:{color:e?"#ccc":"#666",font:"inherit",marginBottom:"20px",textAlign:"center"},button:{backgroundColor:"#6A1B9A",color:"white",textTransform:"none",font:"inherit",fontWeight:"normal",padding:"10px 20px","&:hover":{backgroundColor:"#ff1a1a"}}}),EO=()=>{const e=ee(),{isDarkMode:t}=(0,r.useContext)(ei),n=CO(t);return(0,ze.jsxs)(Xe,{sx:n.container,children:[(0,ze.jsx)(Xe,{sx:n.illustration,className:"pulse-animation",children:(0,ze.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"150px",height:"150px",fill:"#6A1B9A",children:(0,ze.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-13h-2v6h2V7zm0 8h-2v2h2v-2z"})})}),(0,ze.jsx)(hn,{variant:"h3",style:n.title,className:"fade-in",children:"404 - Page Not Found"}),(0,ze.jsx)(hn,{variant:"body1",style:n.message,className:"fade-in",children:"Oops! The page you are looking for does not exist or has been moved."}),(0,ze.jsx)(Bo,{variant:"contained",onClick:()=>e("/"),style:n.button,className:"fade-in",children:"Go Back Home"})]})};var _O=n(9470);const RO=["\ud83d\ude00","\ud83d\ude02","\ud83d\ude05","\ud83d\ude09","\ud83d\ude0a","\ud83d\ude0e","\ud83d\ude0d","\ud83e\udd70","\ud83e\udd29","\ud83e\udd14","\ud83e\udd28","\ud83d\ude36\u200d\ud83c\udf2b\ufe0f","\ud83d\ude44","\ud83d\ude2e","\ud83d\ude34","\ud83e\udee0","\ud83d\ude2d","\ud83d\ude22","\ud83d\ude24","\ud83d\ude27","\ud83d\ude30","\ud83e\udd2a","\ud83d\ude21","\ud83d\ude07","\ud83e\udee8","\ud83e\udd2d"];function TO(){const e=window.innerWidth;return e<=480?{emojiCount:24,minDist:58,minSize:22,maxSize:32,minLoopWidth:900}:e<=900?{emojiCount:36,minDist:48,minSize:28,maxSize:44,minLoopWidth:1100}:{emojiCount:48,minDist:40,minSize:32,maxSize:52,minLoopWidth:1400}}function IO(){const{emojiCount:e,minDist:t,minSize:n,maxSize:r,minLoopWidth:o}=TO();let i=e;window.innerWidth<o&&(i=Math.ceil(o/window.innerWidth*e));const a=[];let s=0;for(;a.length<i&&s<100*i;){s++;const e=RO[Math.floor(Math.random()*RO.length)],t=n+Math.random()*(r-n),o=4+90*Math.random(),i=3+94*Math.random();let l=!0;for(const n of a){const e=window.innerWidth/100,r=.4*window.innerHeight/100,a=(i-n.left)*e,s=(o-n.top)*r;if(Math.sqrt(a*a+s*s)<t/2+n.size/2+6){l=!1;break}}l&&a.push({top:o,left:i,size:t,emoji:e})}return a}const PO=()=>{const[e,t]=(0,r.useState)(!1),n=(0,r.useRef)(null),[o,i]=(0,r.useState)(0),[a,s]=(0,r.useState)((()=>IO())),l=(0,r.useRef)(null);(0,r.useEffect)((()=>{function e(){s(IO())}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,r.useEffect)((()=>{function e(){n.current&&i(n.current.offsetWidth)}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,r.useEffect)((()=>{let e,t=0;return function n(){const r=Math.max(2.5,(o||1200)/600);t+=r,t>=(o||1200)&&(t=0,s(IO())),l.current&&(l.current.style.transform=`translateX(-${t}px)`),e=requestAnimationFrame(n)}(),()=>cancelAnimationFrame(e)}),[o]);const u=ee(),c=J(),{isDarkMode:d}=(0,r.useContext)(ei);(0,r.useEffect)((()=>{(()=>{const e=document.createElement("div");e.style.fontFamily="'Cooper Black', 'Cinzel Decorative', Impact, serif",e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=e.offsetWidth;e.style.fontFamily="Impact";const n=e.offsetWidth;return document.body.removeChild(e),t!==n})()||(document.documentElement.style.fontFamily="Arial, sans-serif")}),[]);const p=(0,r.useRef)(null),f={dots:!0,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,pauseOnHover:!0,arrows:!1,appendDots:e=>(0,ze.jsx)("div",{style:{position:"absolute",bottom:"-40px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,ze.jsx)("ul",{style:{display:"flex",listStyle:"none",margin:0,padding:0},children:e.map(((e,t)=>(0,ze.jsx)("li",{style:{margin:"0 5px",cursor:"pointer"},onClick:()=>{p.current.slickGoTo(t)},children:(0,ze.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:d?e.props.className.includes("slick-active")?"#fff":"#888":e.props.className.includes("slick-active")?"#333":"#bbb",opacity:e.props.className.includes("slick-active")?"1":"0.5",transform:e.props.className.includes("slick-active")?"scale(1.2)":"scale(1)",transition:"all 0.3s ease"}})},t)))})}),customPaging:e=>(0,ze.jsx)("div",{style:{width:"10px",height:"10px",borderRadius:"50%",cursor:"pointer",backgroundColor:d?"#fff":"#333",opacity:"0.5",transition:"opacity 0.3s ease, transform 0.3s ease"}}),responsive:[{breakpoint:960,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}}]},h=(e=>({pageContainer:{minHeight:"100vh",backgroundColor:e?"#121212":"#fff",display:"flex",flexDirection:"column",transition:"background-color 0.3s ease",animation:"slideUp 0.6s ease-out"},heroSection:{backgroundColor:e?"#333":"#6A1B9A",padding:"80px 0",color:"#fff",textAlign:"center",transition:"background-color 0.3s ease",animation:"slideUp 0.6s ease-out",position:"relative",overflow:"visible"},heroTitle:{fontFamily:"Fascinate Inline",fontSize:"5.5rem",color:"#6A1B9A",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.1em",textAlign:"center",marginBottom:"20px",animation:"slideUp 0.6s ease-out","@media (max-width: 1200px)":{fontSize:"4.5rem"},"@media (max-width: 900px)":{fontSize:"4rem"},"@media (max-width: 600px)":{fontSize:"calc(2.5rem + 2vw)",lineHeight:"1.2"},"@media (max-width: 400px)":{fontSize:"calc(2.2rem + 2vw)",lineHeight:"1.2"},"@media (max-height: 600px)":{fontSize:"calc(2.5rem + 2vw)",lineHeight:"1.2"}},heroSubtitle:{font:"inherit",fontSize:"1.2rem",marginBottom:"30px",color:d?"#ddd":"#fff",animation:"slideUp 0.6s ease-out","@media (max-width: 600px)":{fontSize:"1rem",maxWidth:"95%"}},buttonContainer:{display:"flex",justifyContent:"center",gap:"15px",animation:"slideUp 0.6s ease-out",position:"relative",zIndex:10,pointerEvents:"auto"},heroButton:{font:"inherit",textTransform:"none",fontWeight:"bold",padding:"12px 28px",fontSize:"1.1rem",backgroundColor:"#6A1B9A",color:"#fff",borderRadius:"8px",position:"relative",zIndex:2e3,cursor:"pointer",userSelect:"none",boxShadow:"none","&:hover":{backgroundColor:"#8E24AA",boxShadow:"none !important"},"&:active":{backgroundColor:"#8E24AA",boxShadow:"none !important"}},heroButton1:{font:"inherit",textTransform:"none",fontWeight:"bold",padding:"12px 28px",fontSize:"1.1rem",color:"#6A1B9A",borderColor:"#6A1B9A",borderWidth:"2px",borderStyle:"solid",backgroundColor:"transparent",borderRadius:"8px",position:"relative",zIndex:2e3,cursor:"pointer",userSelect:"none",boxShadow:"none","&:hover":{backgroundColor:"#6A1B9A",color:"#fff",boxShadow:"none !important"},"&:active":{backgroundColor:"#6A1B9A",color:"#fff",boxShadow:"none !important"}},sectionContainer:{padding:"60px 0",backgroundColor:d?"#121212":"#fff",transition:"background-color 0.3s ease",animation:"fadeInUp 1s ease-out",color:d?"#ddd":"#666",animation:"fadeInUp 1s ease-out",marginBottom:"60px"},sectionTitle:{fontFamily:"'Poiret One', sans-serif",fontWeight:700,letterSpacing:"1px",textAlign:"center",marginBottom:"40px",color:d?"#fff":"#333",animation:"slideUp 0.6s ease-out"},featureCard:{padding:"20px",borderRadius:"8px",margin:"0 10px",height:"200px",backgroundColor:d?"#2e2e2e":"#fff",color:d?"#fff":"#333",transition:"background-color 0.3s ease",animation:"slideUp 0.6s ease-out"},featureTitle:{font:"inherit",fontWeight:"bold",fontSize:"1.2rem",marginBottom:"10px",color:d?"#fff":"#333",animation:"slideUp 0.6s ease-out"},featureDescription:{font:"inherit",color:d?"#ddd":"#666",animation:"slideUp 0.6s ease-out"},informativeSection:{font:"inherit",padding:"60px 0",backgroundColor:d?"#121212":"#fff",transition:"background-color 0.3s ease",animation:"slideUp 0.6s ease-out",marginBottom:"60px"},whyChooseSection:{padding:"80px 0",backgroundColor:d?"#1a1a1a":"#fff",transition:"background-color 0.3s ease",animation:"fadeIn 1s ease-out",boxShadow:d?"inset 0 4px 4px -4px rgba(0,0,0,0.7)":"inset 0 4px 4px -4px rgba(0,0,0,0.1)",marginBottom:"40px"},whyChooseTitle:{fontFamily:"'Poiret One', sans-serif",fontWeight:700,letterSpacing:"1px",textAlign:"center",marginBottom:"40px",color:d?"#fff":"#333",animation:"slideInDown 1s ease-out"},whyChooseCard:{padding:"25px",borderRadius:"15px",margin:"0 10px",height:"300px",backgroundColor:d?"#2e2e2e":"#6A1B9A",color:"#fff",transition:"background-color 0.3s ease"},whyChooseIcon:{font:"inherit",fontSize:"2.5rem",marginBottom:"15px",color:"#6A1B9A",animation:"pulse 2s infinite"},whyChooseTitle:{font:"inherit",fontWeight:"bold",fontSize:"1.5rem",marginBottom:"15px",color:"#fff",animation:"fadeInUp 1s ease-out"},whyChooseDescription:{font:"inherit",fontSize:"1rem",lineHeight:1.6,color:"#fff",animation:"fadeInUp 1s ease-out"},welcomeText:{fontFamily:"Poiret One",fontSize:"2.5rem",color:"#6A1B9A",marginBottom:"10px","@media (max-width: 1200px)":{fontSize:"2rem"},"@media (max-width: 900px)":{fontSize:"1.8rem"},"@media (max-width: 600px)":{fontSize:"1.5rem",lineHeight:"1.2"},"@media (max-width: 400px)":{fontSize:"1.3rem",lineHeight:"1.2"}}}))(d);return(0,ze.jsxs)(Xe,{sx:h.pageContainer,children:[(0,ze.jsxs)(Xe,{sx:{...h.heroSection,position:"relative",overflow:"hidden"},children:[(0,ze.jsx)(Xe,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0,pointerEvents:"none",opacity:.36,filter:"blur(0.5px)",display:"flex",flexWrap:"wrap"},children:(0,ze.jsxs)(Xe,{ref:l,sx:{position:"absolute",top:0,left:0,width:(()=>{const{minLoopWidth:e}=TO(),t=o||window.innerWidth;return 2*Math.max(t,e)+"px"})(),height:"100%",display:"flex",flexDirection:"row",pointerEvents:"none"},children:[(0,ze.jsx)(Xe,{sx:{position:"relative",width:o?`${o}px`:"100%",height:"100%"},children:a.map(((e,t)=>(0,ze.jsx)("span",{style:{position:"absolute",top:`${e.top}%`,left:`${e.left}%`,fontSize:`${e.size}px`,userSelect:"none",opacity:.82,filter:"blur(0.2px)",pointerEvents:"none",transition:"none",willChange:"transform"},children:e.emoji},`emoji-bg-A-${t}`)))}),(0,ze.jsx)(Xe,{sx:{position:"relative",width:o?`${o}px`:"100%",height:"100%"},children:a.map(((e,t)=>(0,ze.jsx)("span",{style:{position:"absolute",top:`${e.top}%`,left:`${e.left}%`,fontSize:`${e.size}px`,userSelect:"none",opacity:.82,filter:"blur(0.2px)",pointerEvents:"none",transition:"none",willChange:"transform"},children:e.emoji},`emoji-bg-B-${t}`)))})]})}),(0,ze.jsxs)($T,{maxWidth:"md",sx:{position:"relative",zIndex:1},children:[(0,ze.jsx)(hn,{variant:"h3",sx:{...h.welcomeText,fontFamily:"'Poiret One', cursive",fontSize:"2.5rem",marginBottom:"10px",color:"#fff"},children:"Welcome To"}),(0,ze.jsx)(hn,{variant:"h3",sx:{...h.heroTitle,fontFamily:"'Fascinate Inline', cursive",fontSize:"5.5rem",color:"#fff",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"20px",zIndex:2},children:"MoodifyMe"}),(0,ze.jsx)(hn,{variant:"h6",sx:{...h.heroSubtitle,marginBottom:"2rem"},children:"The AI-powered emotion-based content recommendation platform that matches your mood with the perfect content."}),(0,ze.jsxs)(Xe,{sx:{display:"flex",justifyContent:"center",gap:2,marginBottom:"2rem"},children:[(0,ze.jsx)(Bo,{variant:"contained",size:"large",sx:{backgroundColor:"#6A1B9A",color:"white",fontFamily:"'Poiret One', cursive",fontWeight:600,letterSpacing:"0.5px",fontSize:"1.1rem","&:hover":{backgroundColor:"#6A1B9A",opacity:.9,transform:"scale(1.02)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.25)"},"&:active":{transform:"scale(0.98)",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.2)"},borderRadius:"8px",transition:"all 0.2s ease",textTransform:"uppercase"},onClick:()=>u("/home"),children:"Get Started"}),(!localStorage.getItem("isLoggedIn")||"false"===localStorage.getItem("isLoggedIn"))&&(0,ze.jsx)(Bo,{variant:"outlined",size:"large",sx:{backgroundColor:"white",borderColor:"#6A1B9A",color:"#6A1B9A",fontFamily:"'Poiret One', cursive",fontWeight:600,letterSpacing:"0.5px",fontSize:"1.1rem","&:hover":{backgroundColor:"#6A1B9A",color:"white",borderColor:"#6A1B9A",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",transform:"scale(1.02)",transition:"all 0.2s ease"},"&:active":{transform:"scale(0.98)",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)"},borderRadius:"8px",transition:"all 0.2s ease",textTransform:"uppercase"},onClick:()=>u("/login"),children:"Log In"})]})]})]}),(0,ze.jsxs)($T,{sx:h.sectionContainer,children:[(0,ze.jsx)(hn,{variant:"h4",sx:{...h.sectionTitle,fontFamily:"'Poiret One', sans-serif",fontSize:"2.5rem"},children:"Features"}),(0,ze.jsx)(_O.A,{...f,ref:p,children:[{title:"Emotion-Based Recommendations",description:"Get personalized content recommendations based on your current mood."},{title:"Multiple Input Modes",description:"Analyze your emotions through mood tabs or facial expressions."},{title:"Track Your Mood History",description:"View and manage your mood history and music listening trends over time."},{title:"AI-Powered Insights",description:"Our AI learns your preferences to provide better recommendations."},{title:"Cross-Platform Support",description:"Access MoodifyMe from any device, anytime, anywhere."},{title:"Social Sharing",description:"Share your favorite tracks and moods with friends."}].map(((e,t)=>(0,ze.jsx)(vR,{item:!0,xs:12,md:4,children:(0,ze.jsx)(xR,{sx:{...h.featureCard,border:"2px solid",borderColor:"#6A1B9A",borderRadius:"16px",transition:"all 0.3s ease",backgroundColor:d?"#2e2e2e":"#6A1B9A","&:hover":{boxShadow:d?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 8px 32px rgba(0, 0, 0, 0.1)",borderColor:"#6A1B9A"}},children:(0,ze.jsxs)(kR,{children:[(0,ze.jsx)(hn,{variant:"h6",sx:{...h.featureTitle,color:"white",marginBottom:"1rem"},children:e.title}),(0,ze.jsx)(hn,{variant:"body2",sx:{...h.featureDescription,color:"white",opacity:.9},children:e.description})]})})},t)))})]}),(0,ze.jsx)(Xe,{sx:h.whyChooseSection,children:(0,ze.jsxs)($T,{children:[(0,ze.jsx)(hn,{variant:"h3",sx:{...h.whyChooseTitle,fontFamily:"'Poiret One', cursive",fontSize:"2.5rem",width:"100%",textAlign:"center",marginBottom:"2rem",color:d?"#fff":"#000"},children:"Why Choose MoodifyMe"}),(0,ze.jsx)(vR,{container:!0,spacing:4,justifyContent:"center",children:[{title:"Personalized Experience",description:"MoodifyMe tailors recommendations based on your unique emotional journey."},{title:"Advanced AI Technology",description:"Our cutting-edge AI models ensure you get accurate emotion detection and recommendations."},{title:"Seamless Integration",description:"MoodifyMe integrates effortlessly with your favorite streaming services."}].map(((e,t)=>(0,ze.jsx)(vR,{item:!0,xs:12,md:4,children:(0,ze.jsx)(xR,{sx:{...h.whyChooseCard,border:"2px solid",borderColor:"#6A1B9A",borderRadius:"16px",transition:"all 0.3s ease",backgroundColor:d?"#2e2e2e":"#6A1B9A","&:hover":{boxShadow:d?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 8px 32px rgba(0, 0, 0, 0.1)",borderColor:"#6A1B9A"}},children:(0,ze.jsxs)(kR,{children:[(0,ze.jsx)(hn,{variant:"h2",sx:{...h.whyChooseIcon,color:"white",fontSize:"3rem"},children:e.icon}),(0,ze.jsx)(hn,{variant:"h5",sx:{...h.whyChooseTitle,color:"white",marginBottom:"1rem"},children:e.title}),(0,ze.jsx)(hn,{variant:"body1",sx:{...h.whyChooseDescription,color:"white",opacity:.9},children:e.description})]})})},t)))})]})}),(0,ze.jsx)(Xe,{sx:{...h.heroSection,padding:"80px 0",marginTop:"30px"},children:(0,ze.jsxs)($T,{maxWidth:"md",children:[(0,ze.jsx)(hn,{variant:"h4",sx:{...h.heroTitle,fontFamily:"'Poiret One', sans-serif",fontSize:"2.5rem",color:"#fff",textAlign:"center"},children:"Your Mood. Your Content."}),(0,ze.jsx)(hn,{variant:"h6",sx:{...h.heroSubtitle,marginTop:"20px",textAlign:"center"},children:"Simply share your emotions, and we'll curate the perfect content for you. MoodifyMe - content that understands you."})]})}),(0,ze.jsx)(Xe,{sx:{...h.heroSection,padding:"80px 0",marginTop:"30px"},children:(0,ze.jsxs)($T,{maxWidth:"md",children:[(0,ze.jsx)(hn,{variant:"h4",sx:{...h.heroTitle,fontFamily:"'Poiret One', sans-serif",fontSize:"2.5rem",color:"#fff",textAlign:"center"},children:"AI-Powered Emotion Detection"}),(0,ze.jsx)(hn,{variant:"h6",sx:{...h.heroSubtitle,marginTop:"20px",textAlign:"center"},children:"Advanced AI algorithms that understand your emotions and recommend content that truly resonates with you."})]})})]},c.pathname)},OO={container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.3s ease"},formContainer:{padding:"30px",width:"350px",borderRadius:"10px",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease"}},MO=()=>{const[e,t]=(0,r.useState)(1),[n,o]=(0,r.useState)(""),[i,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[d,p]=(0,r.useState)(!1),[f,h]=(0,r.useState)(!1),[m,v]=(0,r.useState)(!1),g=ee(),{isDarkMode:y}=(0,r.useContext)(ei),b=async()=>{if(n&&i){v(!0);try{200===(await vs.post("https://moodify-emotion-music-app.onrender.com/users/verify-username-email/",{username:n,email:i})).status&&t(2)}catch(e){alert("Verification failed. Please check your details.")}finally{v(!1)}}else alert("Please fill in all fields")},x=async()=>{if(s&&u)if(s===u){v(!0);try{200===(await vs.post("https://moodify-emotion-music-app.onrender.com/users/reset-password/",{username:n,new_password:s})).status&&(alert("Password reset successfully!"),g("/login"))}catch(e){alert("Failed to reset password. Please try again.")}finally{v(!1)}}else alert("Passwords do not match");else alert("Please fill in all fields")},w=t=>{"Enter"===t.key&&(1===e?b():x())};return(0,ze.jsx)("div",{style:{...OO.container,backgroundColor:y?"#121212":"#f9f9f9",color:y?"#ffffff":"#000000"},children:(0,ze.jsxs)(Xn,{elevation:4,style:{...OO.formContainer,backgroundColor:y?"#1f1f1f":"white",color:y?"#ffffff":"#000000"},children:[1===e?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(hn,{variant:"h4",align:"center",sx:{mb:3,fontFamily:"Poppins",color:y?"#ffffff":"#000000"},children:"Verify Account"}),(0,ze.jsx)(pc,{label:"Username",variant:"outlined",fullWidth:!0,value:n,onChange:e=>o(e.target.value),onKeyPress:w,sx:{mb:2},InputProps:{style:{fontFamily:"Poppins",fontSize:"16px",color:y?"#ffffff":"#000000"}},InputLabelProps:{style:{fontFamily:"Poppins",color:y?"#ffffff":"#000000"}}}),(0,ze.jsx)(pc,{label:"Email",variant:"outlined",fullWidth:!0,value:i,onChange:e=>a(e.target.value),onKeyPress:w,sx:{mb:2},InputProps:{style:{fontFamily:"Poppins",fontSize:"16px",color:y?"#ffffff":"#000000"}},InputLabelProps:{style:{fontFamily:"Poppins",color:y?"#ffffff":"#000000"}}}),(0,ze.jsx)(Bo,{variant:"contained",color:"secondary",fullWidth:!0,onClick:b,sx:{mb:2,backgroundColor:"#6A1B9A",font:"inherit"},disabled:m,children:m?(0,ze.jsx)(Mc,{size:24,color:"inherit"}):"Verify"})]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(hn,{variant:"h4",align:"center",sx:{mb:3,fontFamily:"Poppins",color:y?"#ffffff":"#000000"},children:"Reset Password"}),(0,ze.jsx)(pc,{label:"New Password",type:d?"text":"password",variant:"outlined",fullWidth:!0,value:s,onChange:e=>l(e.target.value),onKeyPress:w,sx:{mb:2},InputProps:{endAdornment:(0,ze.jsx)(yc,{position:"end",children:(0,ze.jsx)(ur,{"aria-label":"toggle new password visibility",onClick:()=>{p((e=>!e))},edge:"end",sx:{color:y?"white":"#333"},children:d?(0,ze.jsx)(Nc,{}):(0,ze.jsx)(Dc,{})})}),style:{fontFamily:"Poppins",fontSize:"16px",color:y?"#ffffff":"#000000"}},InputLabelProps:{style:{fontFamily:"Poppins",color:y?"#ffffff":"#000000"}}}),(0,ze.jsx)(pc,{label:"Confirm Password",type:f?"text":"password",variant:"outlined",fullWidth:!0,value:u,onChange:e=>c(e.target.value),onKeyPress:w,sx:{mb:2},InputProps:{endAdornment:(0,ze.jsx)(yc,{position:"end",children:(0,ze.jsx)(ur,{"aria-label":"toggle confirm password visibility",onClick:()=>{h((e=>!e))},edge:"end",sx:{color:y?"white":"#333"},children:f?(0,ze.jsx)(Nc,{}):(0,ze.jsx)(Dc,{})})}),style:{fontFamily:"Poppins",fontSize:"16px",color:y?"#ffffff":"#000000"}},InputLabelProps:{style:{fontFamily:"Poppins",color:y?"#ffffff":"#000000"}}}),(0,ze.jsx)(Bo,{variant:"contained",color:"secondary",fullWidth:!0,onClick:x,sx:{mb:2,backgroundColor:"#6A1B9A",font:"inherit"},disabled:m,children:m?(0,ze.jsx)(Mc,{size:24,color:"inherit"}):"Reset Password"})]}),(0,ze.jsx)(hn,{variant:"body2",align:"center",sx:{cursor:"pointer",textDecoration:"underline",fontFamily:"Poppins","&:hover":{color:"#6A1B9A",transition:"color 0.2s"}},onClick:()=>g("/login"),children:"Back to Login"})]})})},NO=e=>({container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Poppins, sans-serif",padding:"20px",backgroundColor:e?"#121212":"#f5f5f5",color:e?"#ffffff":"#000000",transition:"background-color 0.3s ease"},policyContainer:{padding:"30px",width:"70%",maxHeight:"85vh",overflowY:"auto",borderRadius:"10px",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)",backgroundColor:e?"#1f1f1f":"white",transition:"all 0.3s ease"},title:{marginBottom:"20px",fontFamily:"Poppins, sans-serif",color:e?"#ffffff":"#333",fontWeight:600},sectionTitle:{marginTop:"20px",textDecoration:"underline",font:"inherit",marginBottom:"10px",color:e?"#bbbbbb":"#555",fontWeight:500},text:{font:"inherit",color:e?"#cccccc":"#000000",marginBottom:"10px"},list:{paddingLeft:"20px",marginBottom:"20px",color:e?"#cccccc":"#000000"}}),DO=()=>{const{isDarkMode:e}=(0,r.useContext)(ei),t=(new Date).toLocaleDateString(),n=NO(e);return(0,ze.jsx)(Xe,{style:n.container,children:(0,ze.jsxs)(Xn,{elevation:4,style:n.policyContainer,children:[(0,ze.jsx)(hn,{variant:"h4",style:n.title,children:"Privacy Policy"}),(0,ze.jsxs)(hn,{variant:"body1",style:n.text,children:["Last updated: ",t]}),(0,ze.jsx)(hn,{variant:"body1",style:n.text,children:"At MoodifyMe, we value your privacy and are committed to protecting your personal information. This Privacy Policy explains how we collect, use, and safeguard your information when you use our application. Please read this policy carefully to understand our views and practices regarding your data."}),(0,ze.jsx)(hn,{variant:"h6",style:n.sectionTitle,children:"1. Data Collection"}),(0,ze.jsx)(hn,{variant:"body1",style:n.text,children:"We collect the following types of information:"}),(0,ze.jsxs)("ul",{style:n.list,children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Personal Information:"})," When you create an account, we collect personal data such as your username, email address, and password."]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Usage Data:"})," We automatically collect data about your interactions with the app, including your mood history, listening history, and song recommendations."]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Device Data:"})," We may collect information about the device you use to access the app, such as your IP address, browser type, and device identifiers."]})]}),(0,ze.jsx)(hn,{variant:"h6",style:n.sectionTitle,children:"2. How We Use Your Data"}),(0,ze.jsx)(hn,{variant:"body1",style:n.text,children:"We use your data to:"}),(0,ze.jsxs)("ul",{style:n.list,children:[(0,ze.jsx)("li",{children:"Provide and maintain our service, including personalizing your experience based on your mood and music preferences."}),(0,ze.jsx)("li",{children:"Communicate with you, including sending updates, notifications, and support messages."}),(0,ze.jsx)("li",{children:"Analyze usage trends to improve the app and provide better recommendations."})]}),(0,ze.jsx)(hn,{variant:"h6",style:n.sectionTitle,children:"3. Data Sharing"}),(0,ze.jsx)(hn,{variant:"body1",style:n.text,children:"We do not sell or rent your personal information to third parties. However, we may share your data with:"}),(0,ze.jsxs)("ul",{style:n.list,children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Service Providers:"})," We may share your information with trusted service providers to perform certain tasks, such as hosting and maintaining the app."]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Legal Requirements:"})," We may disclose your information if required by law or in response to valid legal processes, such as subpoenas or court orders."]})]}),(0,ze.jsx)(hn,{variant:"h6",style:n.sectionTitle,children:"4. Data Security"}),(0,ze.jsx)(hn,{variant:"body1",style:n.text,children:"We implement security measures to protect your personal information from unauthorized access, alteration, disclosure, or destruction. However, please be aware that no method of transmitting or storing data is completely secure."}),(0,ze.jsx)(hn,{variant:"h6",style:n.sectionTitle,children:"5. Your Rights"}),(0,ze.jsx)(hn,{variant:"body1",style:n.text,children:"You have the right to:"}),(0,ze.jsxs)("ul",{style:n.list,children:[(0,ze.jsx)("li",{children:"Access, update, or delete your personal data through your account settings."}),(0,ze.jsx)("li",{children:"Request a copy of the data we hold about you."}),(0,ze.jsx)("li",{children:"Request that we correct any inaccuracies in your data."}),(0,ze.jsx)("li",{children:"Withdraw your consent for data processing at any time, though this may limit your ability to use some features of the app."})]}),(0,ze.jsx)(hn,{variant:"h6",style:n.sectionTitle,children:"6. Changes to This Privacy Policy"}),(0,ze.jsx)(hn,{variant:"body1",style:n.text,children:'We may update this Privacy Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will notify you of any significant changes by posting the new policy on this page and updating the "Last updated" date at the top.'}),(0,ze.jsx)(hn,{variant:"h6",style:n.sectionTitle,children:"7. Contact Us"}),(0,ze.jsx)(hn,{variant:"body1",style:n.text,children:"If you have any questions or concerns about our privacy policy or data practices, please contact us at: teammoodifyme@gmail.com."})]})})},FO=(0,Qu.A)((0,ze.jsx)("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),jO=(0,Qu.A)((0,ze.jsx)("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"}),"LinkedIn"),LO=(0,Qu.A)((0,ze.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Mail"),BO=()=>{const e=Br(),{isDarkMode:t}=(ee(),(0,r.useContext)(ei)),n={pageContainer:{minHeight:"100vh",backgroundColor:t?e.palette.background.dark:e.palette.background.default,padding:"80px 20px"},title:{fontFamily:"Poppins",fontWeight:"600",color:t?e.palette.common.white:e.palette.text.primary,marginBottom:"60px",textAlign:"center",fontSize:"2.5rem"},makerCard:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:t?e.palette.background.dark:e.palette.background.paper,borderRadius:"12px",transition:"transform 0.2s ease","&:hover":{transform:"translateY(-4px)"},maxWidth:"500px",margin:"0 auto",boxShadow:e.shadows[1]},name:{fontFamily:"Poppins",fontWeight:"bold",fontSize:"24px",textAlign:"center",marginBottom:"10px"},role:{fontFamily:"Poppins",color:e.palette.primary.main,textAlign:"center",marginBottom:"20px"},description:{fontFamily:"Poppins",textAlign:"center",marginBottom:"24px",color:e.palette.text.secondary,lineHeight:1.5},socialLinks:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"20px"},socialIcon:{color:e.palette.text.secondary,fontSize:"24px",cursor:"pointer",transition:"color 0.2s ease","&:hover":{color:e.palette.primary.main}}},o=e=>{window.open(e,"_blank")};return(0,ze.jsxs)(Xe,{sx:n.pageContainer,children:[(0,ze.jsx)(hn,{variant:"h3",sx:n.title,children:"Meet the Team"}),(0,ze.jsx)(vR,{container:!0,spacing:4,justifyContent:"center",children:[{name:"Tanish Modh",description:"Frontend developer and UI designer for MoodifyMe. Work in CSS, python, and responsive design. Passionate about creating intuitive user experiences and modern web applications.",avatar:"https://i.imgur.com/JzGuOc3.jpg",github:"https://github.com/TanishModh",linkedin:"https://www.linkedin.com/in/tanish-modh-31069120a?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app",email:"tmodh49449@gmail.com"},{name:"Sifty Kaur Gandhi",description:"Creative developer passionate about building intuitive and engaging user experiences. Specializes in database and modern web technologies.",avatar:"https://i.imgur.com/nX81fnL.jpg",github:"https://github.com/Sifty-Kaur",linkedin:"https://www.linkedin.com/in/sifty-kaur-51542730a",email:"siftykaur12@gmail.com"}].map(((r,i)=>(0,ze.jsx)(vR,{item:!0,xs:12,sm:6,md:4,children:(0,ze.jsxs)(xR,{sx:n.makerCard,children:[(0,ze.jsx)(JT,{component:"img",sx:{height:"500px",objectFit:"contain",borderRadius:"8px",margin:"16px",width:"calc(100% - 32px)",backgroundColor:t?e.palette.background.dark:e.palette.background.default},image:r.avatar,alt:r.name}),(0,ze.jsxs)(kR,{children:[(0,ze.jsx)(hn,{variant:"h4",sx:n.name,children:r.name}),r.role&&(0,ze.jsx)(hn,{variant:"h6",sx:n.role,children:r.role}),(0,ze.jsx)(hn,{variant:"body1",sx:n.description,children:r.description}),(0,ze.jsxs)(Xe,{sx:n.socialLinks,children:[(0,ze.jsx)(FO,{sx:n.socialIcon,onClick:()=>o(r.github)}),(0,ze.jsx)(jO,{sx:n.socialIcon,onClick:()=>o(r.linkedin)}),(0,ze.jsx)(LO,{sx:n.socialIcon,onClick:()=>o(`mailto:${r.email}`)})]})]})]})},i)))})]})};var zO=n(4794);const WO=()=>{const e=ee(),{isDarkMode:t}=(0,r.useContext)(ei);return(0,r.useEffect)((()=>{const t=setTimeout((()=>{e("/")}),3e3);return()=>clearTimeout(t)}),[e]),(0,ze.jsx)(Xe,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"calc(100vh - 150px)",padding:"20px",textAlign:"center"},children:(0,ze.jsxs)(Xn,{elevation:3,sx:{padding:"40px",borderRadius:"16px",backgroundColor:t?"#1E1E1E":"#FFFFFF",maxWidth:"500px",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,ze.jsx)(zO.A,{sx:{fontSize:80,color:"#4CAF50",mb:2}}),(0,ze.jsx)(hn,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Poppins",fontWeight:600,color:t?"#FFFFFF":"#333333",textShadow:t?"0px 2px 4px rgba(0,0,0,0.3)":"none",mb:4},children:"You are now successfully logged out"}),(0,ze.jsx)(Mc,{size:30,color:"primary"})]})})},UO=()=>{const{pathname:e}=J();return(0,r.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[e]),null};function VO(){const{isDarkMode:e}=(0,r.useContext)(ei);return(0,r.useEffect)((()=>{document.getElementById("root").style.backgroundColor=e?"#121212":"#f5f5f5"}),[e]),(0,ze.jsxs)(Ae,{children:[(0,ze.jsx)("div",{id:"blob"}),(0,ze.jsx)("div",{id:"blur"}),(0,ze.jsx)(UO,{}),(0,ze.jsx)(Ps,{}),(0,ze.jsxs)(ge,{children:[(0,ze.jsx)(me,{path:"/",element:(0,ze.jsx)(PO,{})}),(0,ze.jsx)(me,{path:"/home",element:(0,ze.jsx)(G_,{})}),(0,ze.jsx)(me,{path:"/results",element:(0,ze.jsx)(ET,{})}),(0,ze.jsx)(me,{path:"/profile",element:(0,ze.jsx)(jR,{})}),(0,ze.jsx)(me,{path:"/login",element:(0,ze.jsx)(jc,{})}),(0,ze.jsx)(me,{path:"/register",element:(0,ze.jsx)(Bc,{})}),(0,ze.jsx)(me,{path:"/about",element:(0,ze.jsx)(BO,{})}),(0,ze.jsx)(me,{path:"/privacy-policy",element:(0,ze.jsx)(DO,{})}),(0,ze.jsx)(me,{path:"/recommendations",element:(0,ze.jsx)(wO,{})}),(0,ze.jsx)(me,{path:"/forgot-password",element:(0,ze.jsx)(MO,{})}),(0,ze.jsx)(me,{path:"/logout",element:(0,ze.jsx)(WO,{})}),(0,ze.jsx)(me,{path:"*",element:(0,ze.jsx)(EO,{})})]}),(0,ze.jsx)(kO,{})]})}function HO(){return(0,ze.jsx)(ti,{children:(0,ze.jsx)(VO,{})})}const $O=e=>{e&&e instanceof Function&&n.e(845).then(n.bind(n,9845)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:a}=t;n(e),r(e),o(e),i(e),a(e)}))};i.render((0,ze.jsx)(HO,{}),document.getElementById("root")),$O()})()})();
//# sourceMappingURL=main.6814b10c.js.map